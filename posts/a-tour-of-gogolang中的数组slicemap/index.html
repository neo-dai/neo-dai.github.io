<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ã€ŠA Tour of Goã€‹golangä¸­çš„æ•°ç»„ã€sliceã€map | Notes</title><meta name=keywords content="golang"><meta name=description content='
tour.golang.org
æ•°ç»„
var æ•°ç»„å [æ•°ç»„é•¿åº¦] æ•°ç»„ç±»å‹
package main

import "fmt"

func main() {
	var a [2]string // c++: string a[2];
	a[0] = "Hello"
	a[1] = "World"
	fmt.Println(a[0], a[1])
	fmt.Println(a)

	primes := [6]int{2, 3, 5, 7, 11, 13}
	fmt.Println(primes)
}
slice(åˆ‡ç‰‡)

ğŸ’¡ ç±»ä¼¼c++ä¸­çš„std::vector æ”¯æŒåŠ¨æ€æ‰©å®¹,ä¸”æœ¬è´¨æ˜¯ä¸€ä¸ªç»“æ„ä½“ è®°å½•äº†æŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆã€é•¿åº¦ã€å®¹é‡ {arr_point,len,cap}

1. åˆ‡ç‰‡ä¸æ•°ç»„çš„åŒºåˆ«ã€åˆ‡ç‰‡çš„å¢åˆ æŸ¥æ”¹

// æ•°ç»„ ç›´æ¥å­˜å‚¨3ä¸ªintå€¼ é•¿åº¦ä¸å¯å˜,æ•°æ®åœ¨æ ˆä¸Š
var arr [3]int = [3]int{1, 2, 3}
fmt.Println(arr)

// åˆ‡ç‰‡ så®é™…ä¸Šæ˜¯ä¸€ä¸ªç»“æ„ä½“{arr_point,len,cap} ç±»ä¼¼c++ std::vector æ”¯æŒåŠ¨æ€æ‰©å®¹
s := []int{1, 2, 3}
fmt.Println("åŸå§‹åˆ‡ç‰‡:", s, "len:", len(s), "cap:", cap(s))

// === å¢ï¼ˆAppendï¼‰===
// 1. è¿½åŠ å•ä¸ªå…ƒç´ ï¼ˆç±»ä¼¼ C++ vector.push_backï¼‰
s = append(s, 17)
fmt.Println("è¿½åŠ 17:", s)

// 2. è¿½åŠ å¤šä¸ªå…ƒç´ 
s = append(s, 19, 23, 29)
fmt.Println("è¿½åŠ å¤šä¸ª:", s)

// 3. è¿½åŠ å¦ä¸€ä¸ªåˆ‡ç‰‡ï¼ˆéœ€è¦ ... å±•å¼€ï¼‰
s2 := []int{31, 37}
s = append(s, s2...)
fmt.Println("è¿½åŠ åˆ‡ç‰‡:", s)

// === æŸ¥ï¼ˆAccessï¼‰===
// ç›´æ¥é€šè¿‡ç´¢å¼•è®¿é—®ï¼ŒO(1) æ—¶é—´å¤æ‚åº¦
fmt.Println("ç´¢å¼•3çš„å…ƒç´ :", s[3])

// === æ”¹ï¼ˆModifyï¼‰===
// ç›´æ¥é€šè¿‡ç´¢å¼•ä¿®æ”¹
s[0] = 100
fmt.Println("ä¿®æ”¹ç´¢å¼•0:", s)

// === åˆ ï¼ˆDeleteï¼‰===
// Go æ²¡æœ‰å†…ç½®åˆ é™¤å‡½æ•°ï¼Œéœ€è¦é€šè¿‡åˆ‡ç‰‡æ“ä½œ
// 1. åˆ é™¤ç´¢å¼•ä¸º2çš„å…ƒç´ 
i := 2
s = append(s[:i], s[i+1:]...)
fmt.Println("åˆ é™¤ç´¢å¼•2:", s)

// 2. åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆç±»ä¼¼ C++ vector.pop_backï¼‰
s = s[:len(s)-1]
fmt.Println("åˆ é™¤æœ€å:", s)

// === åˆ‡ç‰‡æ“ä½œï¼ˆSlicingï¼‰===
// è¿™æ˜¯ Go ç‰¹æœ‰çš„ï¼ŒC++ éœ€è¦ç”¨è¿­ä»£å™¨
sub := s[2:5] // è·å–ç´¢å¼• 2-4 çš„å…ƒç´ ï¼ˆå·¦é—­å³å¼€ï¼‰
fmt.Println("å­åˆ‡ç‰‡[2:5]:", sub)

// === åˆ›å»ºåˆ‡ç‰‡çš„æ–¹å¼ ===
// 1. ä½¿ç”¨ make åˆ›å»ºæŒ‡å®šé•¿åº¦å’Œå®¹é‡çš„åˆ‡ç‰‡
s3 := make([]int, 5) // é•¿åº¦5ï¼Œå®¹é‡5ï¼Œåˆå§‹å€¼éƒ½æ˜¯0
fmt.Println("make(len=5):", s3, "len:", len(s3), "cap:", cap(s3))

s4 := make([]int, 3, 10) // é•¿åº¦3ï¼Œå®¹é‡10
fmt.Println("make(len=3,cap=10):", s4, "len:", len(s4), "cap:", cap(s4))
2. å¯¹æ•°ç»„åˆ‡ç‰‡åï¼Œæ‰©å®¹åˆ‡ç‰‡è¶…è¿‡åŸæ•°ç»„åä¼šä¸åŸæ•°ç»„æ–­å¼€å…³è”
// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º5çš„æ•°ç»„
arr := [5]int{1, 2, 3, 4, 5}
fmt.Printf("åŸæ•°ç»„: %v, åœ°å€: %p\n", arr, &amp;arr)
fmt.Printf("åˆ‡ç‰‡: %v, len=%d, cap=%d\n", arr, len(arr), cap(arr))

// å¯¹æ•°ç»„è¿›è¡Œåˆ‡ç‰‡ï¼Œå–å‰3ä¸ªå…ƒç´ 
slice := arr[0:3] // ç­‰ä»·ä¸ [:3]
fmt.Printf("\n--- åˆå§‹åˆ‡ç‰‡ ---\n")
fmt.Printf("åˆ‡ç‰‡: %v, len=%d, cap=%d\n", slice, len(slice), cap(slice))
fmt.Printf("åˆ‡ç‰‡ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n", &amp;slice[0])
fmt.Printf("åŸæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n", &amp;arr[0])
fmt.Println("æ­¤æ—¶åˆ‡ç‰‡å’ŒåŸæ•°ç»„å…±äº«åº•å±‚æ•°ç»„:", &amp;slice[0] == &amp;arr[0])

// ä¿®æ”¹åˆ‡ç‰‡ä¼šå½±å“åŸæ•°ç»„
slice[0] = 100
fmt.Printf("\n--- ä¿®æ”¹ slice[0] = 100 ---\n")
fmt.Printf("åˆ‡ç‰‡: %v\n", slice)
fmt.Printf("åŸæ•°ç»„: %v (åŸæ•°ç»„ä¹Ÿè¢«ä¿®æ”¹äº†)\n", arr)

// åœ¨å®¹é‡èŒƒå›´å†…appendï¼Œä»ç„¶ä½¿ç”¨åŸæ•°ç»„
fmt.Printf("\n--- åœ¨å®¹é‡èŒƒå›´å†… append ---\n")
fmt.Printf("å½“å‰ len=%d, cap=%d, è¿˜å¯ä»¥åœ¨åŸæ•°ç»„ä¸Šè¿½åŠ  %d ä¸ªå…ƒç´ \n", len(slice), cap(slice), cap(slice)-len(slice))
slice = append(slice, 6)
fmt.Printf("append(slice, 6) å: %v, len=%d, cap=%d\n", slice, len(slice), cap(slice))
fmt.Printf("åˆ‡ç‰‡ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n", &amp;slice[0])
fmt.Println("ä»ç„¶å…±äº«åº•å±‚æ•°ç»„:", &amp;slice[0] == &amp;arr[0])
fmt.Printf("åŸæ•°ç»„: %v (arr[3] è¢«è¦†ç›–äº†)\n", arr)

slice = append(slice, 7)
fmt.Printf("append(slice, 7) å: %v, len=%d, cap=%d\n", slice, len(slice), cap(slice))
fmt.Printf("åŸæ•°ç»„: %v (arr[4] è¢«è¦†ç›–äº†)\n", arr)

// è¶…è¿‡å®¹é‡ï¼Œè§¦å‘æ‰©å®¹ï¼Œä½¿ç”¨æ–°çš„åº•å±‚æ•°ç»„
fmt.Printf("\n--- è¶…è¿‡å®¹é‡ï¼Œè§¦å‘æ‰©å®¹ ---\n")
fmt.Printf("å½“å‰ len=%d, cap=%d, ç»§ç»­ append å°†è¶…è¿‡å®¹é‡\n", len(slice), cap(slice))
oldAddr := &amp;slice[0]
slice = append(slice, 8)
newAddr := &amp;slice[0]
fmt.Printf("append(slice, 8) å: %v, len=%d, cap=%d\n", slice, len(slice), cap(slice))
fmt.Printf("æ‰©å®¹å‰ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n", oldAddr)
fmt.Printf("æ‰©å®¹åç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n", newAddr)
fmt.Println("åœ°å€å‘ç”Ÿå˜åŒ–ï¼Œä½¿ç”¨äº†æ–°çš„åº•å±‚æ•°ç»„:", oldAddr != newAddr)

// ç°åœ¨ä¿®æ”¹åˆ‡ç‰‡ä¸ä¼šå½±å“åŸæ•°ç»„
fmt.Printf("\n--- éªŒè¯åˆ‡ç‰‡å·²ä¸åŸæ•°ç»„åˆ†ç¦» ---\n")
slice[0] = 999
fmt.Printf("ä¿®æ”¹ slice[0] = 999\n")
fmt.Printf("åˆ‡ç‰‡: %v\n", slice)
fmt.Printf("åŸæ•°ç»„: %v (åŸæ•°ç»„ä¸å—å½±å“)\n", arr)
3. åˆ‡ç‰‡çš„é›¶å€¼ï¼ˆé»˜è®¤å€¼ï¼‰æ˜¯ nil
var s []int
fmt.Println(s, len(s), cap(s))
if s == nil {
	fmt.Println("nil!")
}
map(æ˜ å°„ï¼‰

åŸºäºhashè¡¨å®ç°ï¼šï¼ˆGo1.19åŠä»¥åå“ˆå¸Œå†²çªè§£å†³ä¸»è¦é‡‡ç”¨æ‹‰é“¾æ³•ï¼ˆæ•°ç»„+é“¾è¡¨/çº¢é»‘æ ‘ï¼‰ï¼‰
æ— åºï¼šæ¯æ¬¡éå†å…ƒç´ çš„é¡ºåºå¯èƒ½ä¸åŒ
æŸ¥æ‰¾æ•ˆç‡é«˜ï¼šæŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º$O(1)$ ï¼Œ æœ€åçš„æƒ…å†µä¸‹é€€åŒ–åˆ°$O(n)$
keyå¿…é¡»å”¯ä¸€ï¼š åŒä¸€ä¸ªé”®å¤šæ¬¡èµ‹å€¼ï¼Œåè€…è¦†ç›–å‰è€…
keyå¿…é¡»å¯æ¯”è¾ƒ
é›¶å€¼(nil)ï¼šå¯è¯»ä½†ä¸å¯å†™ï¼ˆä¼šå¼•å‘panicï¼‰
æ‰©å®¹ï¼šæå‰æŒ‡å®šé¢„ä¼°åˆå§‹å®¹é‡å¯ä»¥å‡å°‘æ‰©å®¹å¸¦æ¥çš„æ€§èƒ½æŸè€— make(map[KeyType]ValueType, initialCappacity)
éå¹¶å‘å®‰å…¨ï¼šå¤šä¸ªgoroutine å¹¶å‘å¯¹åŒä¸€ä¸ªmapè¯»å†™ä¼šå¯¼è‡´panic

map çš„å®šä¹‰ã€åˆå§‹åŒ–ã€ä»¥åŠå¢åˆ æŸ¥æ”¹
package main

import "fmt"

func main() {
	fmt.Println("=== Go Map åŸºç¡€æ•™ç¨‹ ===\n")

	// 1. åˆ›å»º map çš„å‡ ç§æ–¹å¼
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  scores := make(map[string]int)
	// C++: std::unordered_map<std::string, int> scores;
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - Go ä½¿ç”¨ make() å‡½æ•°æˆ–å­—é¢é‡è¯­æ³•ï¼Œè¯­æ³•æ›´ç®€æ´
	// - C++ éœ€è¦æ¨¡æ¿å‚æ•° <Key, Value>
	// - Go çš„ map æ˜¯å¼•ç”¨ç±»å‹ï¼ŒC++ çš„ unordered_map æ˜¯å€¼ç±»å‹
	// - Go å¯ä»¥é¢„åˆ†é…å®¹é‡ï¼šmake(map[string]int, 100)
	// - C++ ä½¿ç”¨ reserve(): scores.reserve(100)
	fmt.Println("1. åˆ›å»º map:")

	// æ–¹å¼1: ä½¿ç”¨ make åˆ›å»º
	scores := make(map[string]int)
	fmt.Printf("ç©º map: %v\n", scores)

	// æ–¹å¼2: å­—é¢é‡åˆå§‹åŒ–
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  ages := map[string]int{"å¼ ä¸‰": 25, "æå››": 30}
	// C++: std::unordered_map<std::string, int> ages = {{"å¼ ä¸‰", 25}, {"æå››", 30}};
	// C++ ä½¿ç”¨åŒå±‚å¤§æ‹¬å·ï¼ŒGo ä½¿ç”¨å†’å·åˆ†éš”é”®å€¼
	ages := map[string]int{
		"å¼ ä¸‰": 25,
		"æå››": 30,
		"ç‹äº”": 28,
	}
	fmt.Printf("åˆå§‹åŒ–çš„ map: %v\n\n", ages)

	// 2. å¢åŠ å…ƒç´ ï¼ˆç›´æ¥èµ‹å€¼ï¼‰
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  scores["æ•°å­¦"] = 95
	// C++: scores["æ•°å­¦"] = 95;  æˆ– scores.insert({"æ•°å­¦", 95});
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - ä¸¤è€…è¯­æ³•ç±»ä¼¼ï¼Œéƒ½æ”¯æŒ [] æ“ä½œç¬¦ç›´æ¥èµ‹å€¼
	// - C++ è¿˜æœ‰ insert(), emplace() ç­‰æ–¹æ³•
	// - Go çš„ [] æ“ä½œç¬¦ä¼šè‡ªåŠ¨å¤„ç†å¢åŠ å’Œä¿®æ”¹
	// - C++ çš„ insert() å¦‚æœé”®å·²å­˜åœ¨åˆ™ä¸ä¼šè¦†ç›–ï¼Œ[] ä¼šè¦†ç›–
	fmt.Println("2. å¢åŠ å…ƒç´ :")
	scores["æ•°å­¦"] = 95
	scores["è¯­æ–‡"] = 88
	scores["è‹±è¯­"] = 92
	fmt.Printf("æ·»åŠ å: %v\n\n", scores)

	// 3. æŸ¥è¯¢å…ƒç´ 
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  value := scores["æ•°å­¦"]
	// C++: int value = scores["æ•°å­¦"];     // ä¸å­˜åœ¨ä¼šæ’å…¥é»˜è®¤å€¼
	//      int value = scores.at("æ•°å­¦");  // ä¸å­˜åœ¨ä¼šæŠ›å¼‚å¸¸
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - Go çš„ [] è®¿é—®ä¸å­˜åœ¨çš„é”®è¿”å›é›¶å€¼ï¼ˆ0, "", nil ç­‰ï¼‰ï¼Œä¸ä¼šæŠ¥é”™
	// - C++ çš„ [] è®¿é—®ä¸å­˜åœ¨çš„é”®ä¼šæ’å…¥è¯¥é”®å¹¶è¿”å›é»˜è®¤å€¼
	// - C++ çš„ at() è®¿é—®ä¸å­˜åœ¨çš„é”®ä¼šæŠ›å‡º std::out_of_range å¼‚å¸¸
	// - Go ä½¿ç”¨ value, ok := map[key] æ¥æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨
	// - C++ ä½¿ç”¨ find() è¿”å›è¿­ä»£å™¨ï¼Œæˆ– contains() (C++20)
	fmt.Println("3. æŸ¥è¯¢å…ƒç´ :")

	// ç›´æ¥è®¿é—®
	mathScore := scores["æ•°å­¦"]
	fmt.Printf("æ•°å­¦æˆç»©: %d\n", mathScore)

	// å®‰å…¨æŸ¥è¯¢ï¼ˆæ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ï¼‰
	// Go ç‰¹æœ‰çš„è¯­æ³•ï¼šè¿”å›å€¼å’Œå­˜åœ¨æ ‡å¿—
	// C++ ç­‰ä»·: auto it = scores.find("è¯­æ–‡"); if (it != scores.end()) { ... }
	chineseScore, exists := scores["è¯­æ–‡"]
	if exists {
		fmt.Printf("è¯­æ–‡æˆç»©: %d (å­˜åœ¨)\n", chineseScore)
	}

	// æŸ¥è¯¢ä¸å­˜åœ¨çš„é”®
	physicsScore, exists := scores["ç‰©ç†"]
	if !exists {
		fmt.Printf("ç‰©ç†æˆç»©ä¸å­˜åœ¨ï¼Œè¿”å›é›¶å€¼: %d\n\n", physicsScore)
	}

	// 4. ä¿®æ”¹å…ƒç´ 
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go å’Œ C++ åœ¨ä¿®æ”¹å…ƒç´ æ—¶è¯­æ³•å®Œå…¨ä¸€è‡´
	// Go:  scores["æ•°å­¦"] = 98
	// C++: scores["æ•°å­¦"] = 98;
	//
	// æ³¨æ„ï¼šGo çš„ [] æ“ä½œç¬¦ä¸åŒºåˆ†å¢åŠ å’Œä¿®æ”¹ï¼Œç»Ÿä¸€ä½¿ç”¨èµ‹å€¼è¯­æ³•
	fmt.Println("4. ä¿®æ”¹å…ƒç´ :")
	fmt.Printf("ä¿®æ”¹å‰æ•°å­¦æˆç»©: %d\n", scores["æ•°å­¦"])
	scores["æ•°å­¦"] = 98
	fmt.Printf("ä¿®æ”¹åæ•°å­¦æˆç»©: %d\n\n", scores["æ•°å­¦"])

	// 5. åˆ é™¤å…ƒç´ 
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  delete(scores, "è‹±è¯­")
	// C++: scores.erase("è‹±è¯­");
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - Go ä½¿ç”¨å†…ç½®å‡½æ•° delete(map, key)ï¼Œæ— è¿”å›å€¼
	// - C++ ä½¿ç”¨æˆå‘˜æ–¹æ³• erase(key)ï¼Œè¿”å›åˆ é™¤çš„å…ƒç´ ä¸ªæ•°
	// - ä¸¤è€…åˆ é™¤ä¸å­˜åœ¨çš„é”®éƒ½ä¸ä¼šæŠ¥é”™/panic
	// - C++ è¿˜æ”¯æŒé€šè¿‡è¿­ä»£å™¨åˆ é™¤: scores.erase(it);
	fmt.Println("5. åˆ é™¤å…ƒç´ :")
	fmt.Printf("åˆ é™¤å‰: %v\n", scores)
	delete(scores, "è‹±è¯­")
	fmt.Printf("åˆ é™¤è‹±è¯­å: %v\n", scores)

	// åˆ é™¤ä¸å­˜åœ¨çš„é”®ä¸ä¼šæŠ¥é”™
	delete(scores, "ä¸å­˜åœ¨çš„ç§‘ç›®")
	fmt.Printf("åˆ é™¤ä¸å­˜åœ¨çš„é”®å: %v\n\n", scores)

	// 6. è·å– map é•¿åº¦
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  len(scores)
	// C++: scores.size()
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - Go ä½¿ç”¨å†…ç½®å‡½æ•° len()ï¼Œé€‚ç”¨äºæ‰€æœ‰é›†åˆç±»å‹
	// - C++ ä½¿ç”¨æˆå‘˜æ–¹æ³• size()
	// - C++ è¿˜æœ‰ empty() æ–¹æ³•æ£€æŸ¥æ˜¯å¦ä¸ºç©º
	// - Go å¯ä»¥ç›´æ¥ç”¨ len(map) == 0 æ£€æŸ¥
	fmt.Println("6. è·å–é•¿åº¦:")
	fmt.Printf("scores çš„é•¿åº¦: %d\n", len(scores))
	fmt.Printf("ages çš„é•¿åº¦: %d\n\n", len(ages))

	// 7. éå† map
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  for key, value := range scores { ... }
	// C++: for (const auto& [key, value] : scores) { ... }  // C++17 ç»“æ„åŒ–ç»‘å®š
	//      for (auto it = scores.begin(); it != scores.end(); ++it) { ... }
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - Go ä½¿ç”¨ range å…³é”®å­—ï¼Œè¯­æ³•æ›´ç®€æ´
	// - C++ å¯ä»¥ä½¿ç”¨ç»“æ„åŒ–ç»‘å®šï¼ˆC++17ï¼‰æˆ–è¿­ä»£å™¨
	// - ä¸¤è€…éå†é¡ºåºéƒ½æ˜¯ä¸ç¡®å®šçš„ï¼ˆunorderedï¼‰
	// - Go æ¯æ¬¡è¿è¡Œéå†é¡ºåºå¯èƒ½ä¸åŒï¼ˆæ•…æ„éšæœºåŒ–ï¼‰
	// - C++ çš„é¡ºåºå–å†³äºå“ˆå¸Œå®ç°ï¼Œä½†åŒä¸€æ¬¡è¿è¡Œä¸­ç¨³å®š
	fmt.Println("7. éå† map:")
	fmt.Println("éå† scores:")
	for subject, score := range scores {
		fmt.Printf("  %s: %d\n", subject, score)
	}

	fmt.Println("\néå† ages:")
	for name, age := range ages {
		fmt.Printf("  %s: %d å²\n", name, age)
	}
	fmt.Println()

	// 8. åªéå†é”®æˆ–å€¼
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go åªéå†é”®:  for key := range scores { ... }
	// Go åªéå†å€¼:  for _, value := range scores { ... }
	//
	// C++ åªéå†é”®:  for (const auto& [key, _] : scores) { ... }
	// C++ åªéå†å€¼:  for (const auto& [_, value] : scores) { ... }
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - Go ä½¿ç”¨ _ å¿½ç•¥ä¸éœ€è¦çš„å€¼ï¼Œè¯­æ³•æ›´æ¸…æ™°
	// - C++ ä¹Ÿå¯ä»¥ç”¨ [[maybe_unused]] æˆ–ç›´æ¥ä¸ä½¿ç”¨å˜é‡
	// - Go çœç•¥ç¬¬äºŒä¸ªå˜é‡å°±åªéå†é”®
	// - C++ éœ€è¦å®Œæ•´çš„ç»“æ„åŒ–ç»‘å®šè¯­æ³•
	fmt.Println("8. åªéå†é”®æˆ–å€¼:")
	fmt.Print("æ‰€æœ‰ç§‘ç›®: ")
	for subject := range scores {
		fmt.Printf("%s ", subject)
	}
	fmt.Println()

	fmt.Print("æ‰€æœ‰åˆ†æ•°: ")
	for _, score := range scores {
		fmt.Printf("%d ", score)
	}
	fmt.Println("\n")

	// 9. æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  if _, ok := scores["æ•°å­¦"]; ok { ... }
	// C++: if (scores.find("æ•°å­¦") != scores.end()) { ... }
	//      if (scores.contains("æ•°å­¦")) { ... }  // C++20
	//      if (scores.count("æ•°å­¦") > 0) { ... }  // æ—§æ–¹å¼
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - Go ä½¿ç”¨é€—å·okæƒ¯ç”¨æ³• (comma ok idiom)ï¼Œè¿”å›å€¼å’Œå¸ƒå°”æ ‡å¿—
	// - C++ ä½¿ç”¨ find() è¿”å›è¿­ä»£å™¨ï¼Œéœ€è¦ä¸ end() æ¯”è¾ƒ
	// - C++20 æ–°å¢ contains() æ–¹æ³•ï¼Œè¿”å› boolï¼Œæ›´æ¥è¿‘ Go çš„è¯­ä¹‰
	// - Go çš„æ–¹å¼æ›´ç®€æ´ï¼Œä¸€è¡Œä»£ç åŒæ—¶è·å–å€¼å’Œæ£€æŸ¥å­˜åœ¨æ€§
	// - C++ çš„ count() å¯¹äº unordered_map åªè¿”å› 0 æˆ– 1
	fmt.Println("9. æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨:")
	if _, ok := scores["æ•°å­¦"]; ok {
		fmt.Println("æ•°å­¦æˆç»©å­˜åœ¨")
	}
	if _, ok := scores["ç‰©ç†"]; !ok {
		fmt.Println("ç‰©ç†æˆç»©ä¸å­˜åœ¨")
	}
	fmt.Println()

	// 10. map çš„é›¶å€¼å’Œæ¸…ç©º
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  var emptyMap map[string]int  // nil map
	// C++: std::unordered_map<std::string, int> emptyMap;  // ç©º mapï¼Œä¸æ˜¯ null
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - Go çš„ map é›¶å€¼æ˜¯ nilï¼Œå¯ä»¥è¯»å–ä½†ä¸èƒ½å†™å…¥ï¼ˆä¼š panicï¼‰
	// - C++ çš„ unordered_map æ²¡æœ‰ null æ¦‚å¿µï¼Œå£°æ˜å³å¯ç”¨
	// - Go éœ€è¦æ˜¾å¼åˆå§‹åŒ–æ‰èƒ½å†™å…¥: make(map[K]V) æˆ–å­—é¢é‡
	// - C++ çš„é»˜è®¤æ„é€ å‡½æ•°è‡ªåŠ¨åˆ›å»ºå¯ç”¨çš„ç©º map
	//
	// æ¸…ç©ºæ“ä½œï¼š
	// Go:  myMap = make(map[string]int)  // é‡æ–°åˆ†é…
	//      æˆ–éå†åˆ é™¤: for k := range myMap { delete(myMap, k) }
	// C++: myMap.clear();  // æœ‰ä¸“é—¨çš„æ¸…ç©ºæ–¹æ³•
	fmt.Println("10. map çš„é›¶å€¼:")
	var emptyMap map[string]int
	fmt.Printf("æœªåˆå§‹åŒ–çš„ map: %v (nil: %v)\n", emptyMap, emptyMap == nil)
	// æ³¨æ„ï¼šnil map å¯ä»¥è¯»å–ï¼Œä½†ä¸èƒ½å†™å…¥
	// emptyMap["key"] = 1  // è¿™ä¼š panic

	// æ¸…ç©º mapï¼ˆé‡æ–°èµ‹å€¼ï¼‰
	scores = make(map[string]int)
	fmt.Printf("æ¸…ç©ºåçš„ map: %v\n\n", scores)

	// 11. å¤æ‚ç±»å‹ä½œä¸ºå€¼
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  map[int]Student
	// C++: std::unordered_map<int, Student>
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - Go çš„ç»“æ„ä½“ä½œä¸ºå€¼æ—¶æ˜¯å€¼æ‹·è´ï¼Œä¿®æ”¹éœ€è¦é‡æ–°èµ‹å€¼æ•´ä¸ªç»“æ„ä½“
	//   ä¾‹å¦‚: s := students[1001]; s.Age = 20; students[1001] = s
	// - C++ ä¹Ÿæ˜¯å€¼æ‹·è´ï¼Œä½†å¯ä»¥é€šè¿‡å¼•ç”¨ä¿®æ”¹: students[1001].Age = 20;
	// - Go å¦‚æœéœ€è¦ä¿®æ”¹ï¼Œå»ºè®®ä½¿ç”¨æŒ‡é’ˆ: map[int]*Student
	// - C++ å¯ä»¥ç”¨ emplace() åŸåœ°æ„é€ ï¼Œé¿å…æ‹·è´
	//
	// æ³¨æ„ï¼šGo ä¸èƒ½ç›´æ¥ä¿®æ”¹ map ä¸­ç»“æ„ä½“çš„å­—æ®µ
	// students[1001].Age = 20  // ç¼–è¯‘é”™è¯¯ï¼
	fmt.Println("11. å¤æ‚ç±»å‹çš„ map:")

	// map çš„å€¼å¯ä»¥æ˜¯ç»“æ„ä½“
	type Student struct {
		Name  string
		Age   int
		Grade int
	}

	students := map[int]Student{
		1001: {"å¼ ä¸‰", 18, 90},
		1002: {"æå››", 19, 85},
	}

	fmt.Printf("å­¦ç”Ÿä¿¡æ¯: %v\n", students)
	fmt.Printf("å­¦å· 1001: %v\n\n", students[1001])

	// 12. map åµŒå¥—
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  map[string]map[string]int
	// C++: std::unordered_map<std::string, std::unordered_map<std::string, int>>
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - è¯­æ³•ç±»ä¼¼ï¼Œä½† C++ çš„æ¨¡æ¿åµŒå¥—æ›´å†—é•¿
	// - Go åˆå§‹åŒ–å†…å±‚ map æ—¶è¯­æ³•æ›´ç®€æ´
	// - æ³¨æ„ï¼šè®¿é—®ä¸å­˜åœ¨çš„å¤–å±‚é”®æ—¶ï¼ŒGo è¿”å› nil mapï¼Œè®¿é—®ä¼š panic
	//   å»ºè®®å…ˆæ£€æŸ¥: if inner, ok := outer["key"]; ok { ... }
	// - C++ çš„ [] ä¼šè‡ªåŠ¨åˆ›å»ºä¸å­˜åœ¨çš„é”®
	fmt.Println("12. map åµŒå¥—:")
	classScores := map[string]map[string]int{
		"ä¸€ç­": {
			"å¼ ä¸‰": 90,
			"æå››": 85,
		},
		"äºŒç­": {
			"ç‹äº”": 92,
			"èµµå…­": 88,
		},
	}

	fmt.Printf("ç­çº§æˆç»©: %v\n", classScores)
	fmt.Printf("ä¸€ç­å¼ ä¸‰çš„æˆç»©: %d\n", classScores["ä¸€ç­"]["å¼ ä¸‰"])

	// ========================================
	// ã€Go map vs C++ unordered_map æ€»ç»“å¯¹æ¯”ã€‘
	// ========================================
	//
	// 1. ç±»å‹ç³»ç»Ÿï¼š
	//    - Go: map æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¼ é€’æ—¶ä¸æ‹·è´æ•°æ®
	//    - C++: unordered_map æ˜¯å€¼ç±»å‹ï¼Œä¼ é€’æ—¶æ‹·è´ï¼ˆå¯ç”¨å¼•ç”¨ä¼˜åŒ–ï¼‰
	//
	// 2. çº¿ç¨‹å®‰å…¨ï¼š
	//    - Go: map ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œéœ€è¦ sync.Mutex æˆ– sync.Map
	//    - C++: unordered_map ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œéœ€è¦è‡ªè¡ŒåŠ é”
	//
	// 3. é”®çš„è¦æ±‚ï¼š
	//    - Go: é”®å¿…é¡»æ˜¯å¯æ¯”è¾ƒç±»å‹ï¼ˆæ”¯æŒ ==ï¼‰ï¼Œä¸èƒ½æ˜¯ sliceã€mapã€function
	//    - C++: é”®å¿…é¡»æœ‰ hash å‡½æ•°å’Œ == è¿ç®—ç¬¦
	//
	// 4. æ€§èƒ½ç‰¹ç‚¹ï¼š
	//    - Go: å“ˆå¸Œè¡¨å®ç°ï¼Œå¹³å‡ O(1)ï¼Œè‡ªåŠ¨æ‰©å®¹
	//    - C++: å“ˆå¸Œè¡¨å®ç°ï¼Œå¹³å‡ O(1)ï¼Œå¯ä»¥è‡ªå®šä¹‰ hash å’Œ load factor
	//
	// 5. å†…å­˜ç®¡ç†ï¼š
	//    - Go: è‡ªåŠ¨åƒåœ¾å›æ”¶ï¼Œåˆ é™¤å…ƒç´ ä¸ä¸€å®šç«‹å³é‡Šæ”¾å†…å­˜
	//    - C++: æ‰‹åŠ¨ç®¡ç†ï¼ˆRAIIï¼‰ï¼Œåˆ é™¤å…ƒç´ ç«‹å³é‡Šæ”¾å†…å­˜
	//
	// 6. è¿­ä»£é¡ºåºï¼š
	//    - Go: æ•…æ„éšæœºåŒ–ï¼Œæ¯æ¬¡è¿è¡Œå¯èƒ½ä¸åŒ
	//    - C++: ä¸ç¡®å®šä½†åŒä¸€æ¬¡è¿è¡Œä¸­ç›¸å¯¹ç¨³å®š
	//
	// 7. é›¶å€¼/ç©ºå€¼ï¼š
	//    - Go: nil map å¯è¯»ä¸å¯å†™ï¼Œéœ€è¦å…ˆ make
	//    - C++: é»˜è®¤æ„é€ å³å¯ç”¨ï¼Œæ—  null æ¦‚å¿µ
	//
	// 8. å¸¸ç”¨æ“ä½œå¯¹æ¯”è¡¨ï¼š
	//    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
	//    â”‚   æ“ä½œ      â”‚          Go              â”‚            C++                 â”‚
	//    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
	//    â”‚ åˆ›å»º        â”‚ make(map[K]V)            â”‚ unordered_map<K,V> m;          â”‚
	//    â”‚ æ·»åŠ /ä¿®æ”¹   â”‚ m[k] = v                 â”‚ m[k] = v;                      â”‚
	//    â”‚ æŸ¥è¯¢        â”‚ v := m[k]                â”‚ v = m[k];                      â”‚
	//    â”‚ å®‰å…¨æŸ¥è¯¢    â”‚ v, ok := m[k]            â”‚ auto it = m.find(k);           â”‚
	//    â”‚ å­˜åœ¨æ€§æ£€æŸ¥  â”‚ _, ok := m[k]            â”‚ m.contains(k) // C++20         â”‚
	//    â”‚ åˆ é™¤        â”‚ delete(m, k)             â”‚ m.erase(k);                    â”‚
	//    â”‚ é•¿åº¦        â”‚ len(m)                   â”‚ m.size()                       â”‚
	//    â”‚ æ¸…ç©º        â”‚ m = make(map[K]V)        â”‚ m.clear();                     â”‚
	//    â”‚ éå†        â”‚ for k, v := range m {...}â”‚ for(auto& [k,v]:m){...}        â”‚
	//    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
	//
	// 9. ä½•æ—¶é€‰æ‹©ï¼š
	//    - Go map: ç®€æ´æ˜“ç”¨ï¼Œé€‚åˆå¤§å¤šæ•°åœºæ™¯ï¼Œéœ€è¦åƒåœ¾å›æ”¶çš„é¡¹ç›®
	//    - C++ unordered_map: éœ€è¦æ›´ç²¾ç»†çš„å†…å­˜æ§åˆ¶ï¼Œæ€§èƒ½å…³é”®è·¯å¾„
	//
	// 10. å®ç”¨å»ºè®®ï¼š
	//     Go:
	//     - æ€»æ˜¯æ£€æŸ¥ nil map å†å†™å…¥
	//     - ä½¿ç”¨ comma-ok æƒ¯ç”¨æ³•æ£€æŸ¥é”®å­˜åœ¨æ€§
	//     - éœ€è¦å¹¶å‘è®¿é—®æ—¶ä½¿ç”¨ sync.Map æˆ–åŠ é”
	//     - å¦‚æœéœ€è¦æœ‰åºéå†ï¼Œè€ƒè™‘å…ˆæ’åºé”®
	//
	//     C++:
	//     - ä¼ é€’ map æ—¶ä½¿ç”¨ const& é¿å…æ‹·è´
	//     - ä½¿ç”¨ emplace() åŸåœ°æ„é€ æé«˜æ€§èƒ½
	//     - éœ€è¦æœ‰åºéå†ä½¿ç”¨ std::map è€Œä¸æ˜¯ unordered_map
	//     - C++20 ä¼˜å…ˆä½¿ç”¨ contains() è€Œä¸æ˜¯ find()

	fmt.Println("\n=== æ•™ç¨‹ç»“æŸ ===")
}
'><meta name=author content="neo"><link rel=canonical href=https://neo-dai.github.io/posts/a-tour-of-gogolang%E4%B8%AD%E7%9A%84%E6%95%B0%E7%BB%84slicemap/><link crossorigin=anonymous href=/assets/css/stylesheet.b4dfb58bc1aadc21cb0542f53df82233971252c1283b7ff385ac519b35b25bc3.css integrity="sha256-tN+1i8Gq3CHLBUL1PfgiM5cSUsEoO3/zhaxRmzWyW8M=" rel="preload stylesheet" as=style><link rel=icon href=https://neo-dai.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://neo-dai.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://neo-dai.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://neo-dai.github.io/apple-touch-icon.png><link rel=mask-icon href=https://neo-dai.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://neo-dai.github.io/posts/a-tour-of-gogolang%E4%B8%AD%E7%9A%84%E6%95%B0%E7%BB%84slicemap/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;400;500;600;700&display=swap" rel=stylesheet><meta property="og:url" content="https://neo-dai.github.io/posts/a-tour-of-gogolang%E4%B8%AD%E7%9A%84%E6%95%B0%E7%BB%84slicemap/"><meta property="og:site_name" content="Notes"><meta property="og:title" content="ã€ŠA Tour of Goã€‹golangä¸­çš„æ•°ç»„ã€sliceã€map"><meta property="og:description" content=' tour.golang.org
æ•°ç»„ var æ•°ç»„å [æ•°ç»„é•¿åº¦] æ•°ç»„ç±»å‹
package main import "fmt" func main() { var a [2]string // c++: string a[2]; a[0] = "Hello" a[1] = "World" fmt.Println(a[0], a[1]) fmt.Println(a) primes := [6]int{2, 3, 5, 7, 11, 13} fmt.Println(primes) } slice(åˆ‡ç‰‡) ğŸ’¡ ç±»ä¼¼c++ä¸­çš„std::vector æ”¯æŒåŠ¨æ€æ‰©å®¹,ä¸”æœ¬è´¨æ˜¯ä¸€ä¸ªç»“æ„ä½“ è®°å½•äº†æŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆã€é•¿åº¦ã€å®¹é‡ {arr_point,len,cap}
1. åˆ‡ç‰‡ä¸æ•°ç»„çš„åŒºåˆ«ã€åˆ‡ç‰‡çš„å¢åˆ æŸ¥æ”¹ // æ•°ç»„ ç›´æ¥å­˜å‚¨3ä¸ªintå€¼ é•¿åº¦ä¸å¯å˜,æ•°æ®åœ¨æ ˆä¸Š var arr [3]int = [3]int{1, 2, 3} fmt.Println(arr) // åˆ‡ç‰‡ så®é™…ä¸Šæ˜¯ä¸€ä¸ªç»“æ„ä½“{arr_point,len,cap} ç±»ä¼¼c++ std::vector æ”¯æŒåŠ¨æ€æ‰©å®¹ s := []int{1, 2, 3} fmt.Println("åŸå§‹åˆ‡ç‰‡:", s, "len:", len(s), "cap:", cap(s)) // === å¢ï¼ˆAppendï¼‰=== // 1. è¿½åŠ å•ä¸ªå…ƒç´ ï¼ˆç±»ä¼¼ C++ vector.push_backï¼‰ s = append(s, 17) fmt.Println("è¿½åŠ 17:", s) // 2. è¿½åŠ å¤šä¸ªå…ƒç´  s = append(s, 19, 23, 29) fmt.Println("è¿½åŠ å¤šä¸ª:", s) // 3. è¿½åŠ å¦ä¸€ä¸ªåˆ‡ç‰‡ï¼ˆéœ€è¦ ... å±•å¼€ï¼‰ s2 := []int{31, 37} s = append(s, s2...) fmt.Println("è¿½åŠ åˆ‡ç‰‡:", s) // === æŸ¥ï¼ˆAccessï¼‰=== // ç›´æ¥é€šè¿‡ç´¢å¼•è®¿é—®ï¼ŒO(1) æ—¶é—´å¤æ‚åº¦ fmt.Println("ç´¢å¼•3çš„å…ƒç´ :", s[3]) // === æ”¹ï¼ˆModifyï¼‰=== // ç›´æ¥é€šè¿‡ç´¢å¼•ä¿®æ”¹ s[0] = 100 fmt.Println("ä¿®æ”¹ç´¢å¼•0:", s) // === åˆ ï¼ˆDeleteï¼‰=== // Go æ²¡æœ‰å†…ç½®åˆ é™¤å‡½æ•°ï¼Œéœ€è¦é€šè¿‡åˆ‡ç‰‡æ“ä½œ // 1. åˆ é™¤ç´¢å¼•ä¸º2çš„å…ƒç´  i := 2 s = append(s[:i], s[i+1:]...) fmt.Println("åˆ é™¤ç´¢å¼•2:", s) // 2. åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆç±»ä¼¼ C++ vector.pop_backï¼‰ s = s[:len(s)-1] fmt.Println("åˆ é™¤æœ€å:", s) // === åˆ‡ç‰‡æ“ä½œï¼ˆSlicingï¼‰=== // è¿™æ˜¯ Go ç‰¹æœ‰çš„ï¼ŒC++ éœ€è¦ç”¨è¿­ä»£å™¨ sub := s[2:5] // è·å–ç´¢å¼• 2-4 çš„å…ƒç´ ï¼ˆå·¦é—­å³å¼€ï¼‰ fmt.Println("å­åˆ‡ç‰‡[2:5]:", sub) // === åˆ›å»ºåˆ‡ç‰‡çš„æ–¹å¼ === // 1. ä½¿ç”¨ make åˆ›å»ºæŒ‡å®šé•¿åº¦å’Œå®¹é‡çš„åˆ‡ç‰‡ s3 := make([]int, 5) // é•¿åº¦5ï¼Œå®¹é‡5ï¼Œåˆå§‹å€¼éƒ½æ˜¯0 fmt.Println("make(len=5):", s3, "len:", len(s3), "cap:", cap(s3)) s4 := make([]int, 3, 10) // é•¿åº¦3ï¼Œå®¹é‡10 fmt.Println("make(len=3,cap=10):", s4, "len:", len(s4), "cap:", cap(s4)) 2. å¯¹æ•°ç»„åˆ‡ç‰‡åï¼Œæ‰©å®¹åˆ‡ç‰‡è¶…è¿‡åŸæ•°ç»„åä¼šä¸åŸæ•°ç»„æ–­å¼€å…³è” // åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º5çš„æ•°ç»„ arr := [5]int{1, 2, 3, 4, 5} fmt.Printf("åŸæ•°ç»„: %v, åœ°å€: %p\n", arr, &amp;arr) fmt.Printf("åˆ‡ç‰‡: %v, len=%d, cap=%d\n", arr, len(arr), cap(arr)) // å¯¹æ•°ç»„è¿›è¡Œåˆ‡ç‰‡ï¼Œå–å‰3ä¸ªå…ƒç´  slice := arr[0:3] // ç­‰ä»·ä¸ [:3] fmt.Printf("\n--- åˆå§‹åˆ‡ç‰‡ ---\n") fmt.Printf("åˆ‡ç‰‡: %v, len=%d, cap=%d\n", slice, len(slice), cap(slice)) fmt.Printf("åˆ‡ç‰‡ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n", &amp;slice[0]) fmt.Printf("åŸæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n", &amp;arr[0]) fmt.Println("æ­¤æ—¶åˆ‡ç‰‡å’ŒåŸæ•°ç»„å…±äº«åº•å±‚æ•°ç»„:", &amp;slice[0] == &amp;arr[0]) // ä¿®æ”¹åˆ‡ç‰‡ä¼šå½±å“åŸæ•°ç»„ slice[0] = 100 fmt.Printf("\n--- ä¿®æ”¹ slice[0] = 100 ---\n") fmt.Printf("åˆ‡ç‰‡: %v\n", slice) fmt.Printf("åŸæ•°ç»„: %v (åŸæ•°ç»„ä¹Ÿè¢«ä¿®æ”¹äº†)\n", arr) // åœ¨å®¹é‡èŒƒå›´å†…appendï¼Œä»ç„¶ä½¿ç”¨åŸæ•°ç»„ fmt.Printf("\n--- åœ¨å®¹é‡èŒƒå›´å†… append ---\n") fmt.Printf("å½“å‰ len=%d, cap=%d, è¿˜å¯ä»¥åœ¨åŸæ•°ç»„ä¸Šè¿½åŠ  %d ä¸ªå…ƒç´ \n", len(slice), cap(slice), cap(slice)-len(slice)) slice = append(slice, 6) fmt.Printf("append(slice, 6) å: %v, len=%d, cap=%d\n", slice, len(slice), cap(slice)) fmt.Printf("åˆ‡ç‰‡ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n", &amp;slice[0]) fmt.Println("ä»ç„¶å…±äº«åº•å±‚æ•°ç»„:", &amp;slice[0] == &amp;arr[0]) fmt.Printf("åŸæ•°ç»„: %v (arr[3] è¢«è¦†ç›–äº†)\n", arr) slice = append(slice, 7) fmt.Printf("append(slice, 7) å: %v, len=%d, cap=%d\n", slice, len(slice), cap(slice)) fmt.Printf("åŸæ•°ç»„: %v (arr[4] è¢«è¦†ç›–äº†)\n", arr) // è¶…è¿‡å®¹é‡ï¼Œè§¦å‘æ‰©å®¹ï¼Œä½¿ç”¨æ–°çš„åº•å±‚æ•°ç»„ fmt.Printf("\n--- è¶…è¿‡å®¹é‡ï¼Œè§¦å‘æ‰©å®¹ ---\n") fmt.Printf("å½“å‰ len=%d, cap=%d, ç»§ç»­ append å°†è¶…è¿‡å®¹é‡\n", len(slice), cap(slice)) oldAddr := &amp;slice[0] slice = append(slice, 8) newAddr := &amp;slice[0] fmt.Printf("append(slice, 8) å: %v, len=%d, cap=%d\n", slice, len(slice), cap(slice)) fmt.Printf("æ‰©å®¹å‰ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n", oldAddr) fmt.Printf("æ‰©å®¹åç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n", newAddr) fmt.Println("åœ°å€å‘ç”Ÿå˜åŒ–ï¼Œä½¿ç”¨äº†æ–°çš„åº•å±‚æ•°ç»„:", oldAddr != newAddr) // ç°åœ¨ä¿®æ”¹åˆ‡ç‰‡ä¸ä¼šå½±å“åŸæ•°ç»„ fmt.Printf("\n--- éªŒè¯åˆ‡ç‰‡å·²ä¸åŸæ•°ç»„åˆ†ç¦» ---\n") slice[0] = 999 fmt.Printf("ä¿®æ”¹ slice[0] = 999\n") fmt.Printf("åˆ‡ç‰‡: %v\n", slice) fmt.Printf("åŸæ•°ç»„: %v (åŸæ•°ç»„ä¸å—å½±å“)\n", arr) 3. åˆ‡ç‰‡çš„é›¶å€¼ï¼ˆé»˜è®¤å€¼ï¼‰æ˜¯ nil var s []int fmt.Println(s, len(s), cap(s)) if s == nil { fmt.Println("nil!") } map(æ˜ å°„ï¼‰ åŸºäºhashè¡¨å®ç°ï¼šï¼ˆGo1.19åŠä»¥åå“ˆå¸Œå†²çªè§£å†³ä¸»è¦é‡‡ç”¨æ‹‰é“¾æ³•ï¼ˆæ•°ç»„+é“¾è¡¨/çº¢é»‘æ ‘ï¼‰ï¼‰ æ— åºï¼šæ¯æ¬¡éå†å…ƒç´ çš„é¡ºåºå¯èƒ½ä¸åŒ æŸ¥æ‰¾æ•ˆç‡é«˜ï¼šæŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º$O(1)$ ï¼Œ æœ€åçš„æƒ…å†µä¸‹é€€åŒ–åˆ°$O(n)$ keyå¿…é¡»å”¯ä¸€ï¼š åŒä¸€ä¸ªé”®å¤šæ¬¡èµ‹å€¼ï¼Œåè€…è¦†ç›–å‰è€… keyå¿…é¡»å¯æ¯”è¾ƒ é›¶å€¼(nil)ï¼šå¯è¯»ä½†ä¸å¯å†™ï¼ˆä¼šå¼•å‘panicï¼‰ æ‰©å®¹ï¼šæå‰æŒ‡å®šé¢„ä¼°åˆå§‹å®¹é‡å¯ä»¥å‡å°‘æ‰©å®¹å¸¦æ¥çš„æ€§èƒ½æŸè€— make(map[KeyType]ValueType, initialCappacity) éå¹¶å‘å®‰å…¨ï¼šå¤šä¸ªgoroutine å¹¶å‘å¯¹åŒä¸€ä¸ªmapè¯»å†™ä¼šå¯¼è‡´panic map çš„å®šä¹‰ã€åˆå§‹åŒ–ã€ä»¥åŠå¢åˆ æŸ¥æ”¹ package main import "fmt" func main() { fmt.Println("=== Go Map åŸºç¡€æ•™ç¨‹ ===\n") // 1. åˆ›å»º map çš„å‡ ç§æ–¹å¼ // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: scores := make(map[string]int) // C++: std::unordered_map<std::string, int> scores; // // ä¸»è¦å·®å¼‚ï¼š // - Go ä½¿ç”¨ make() å‡½æ•°æˆ–å­—é¢é‡è¯­æ³•ï¼Œè¯­æ³•æ›´ç®€æ´ // - C++ éœ€è¦æ¨¡æ¿å‚æ•° <Key, Value> // - Go çš„ map æ˜¯å¼•ç”¨ç±»å‹ï¼ŒC++ çš„ unordered_map æ˜¯å€¼ç±»å‹ // - Go å¯ä»¥é¢„åˆ†é…å®¹é‡ï¼šmake(map[string]int, 100) // - C++ ä½¿ç”¨ reserve(): scores.reserve(100) fmt.Println("1. åˆ›å»º map:") // æ–¹å¼1: ä½¿ç”¨ make åˆ›å»º scores := make(map[string]int) fmt.Printf("ç©º map: %v\n", scores) // æ–¹å¼2: å­—é¢é‡åˆå§‹åŒ– // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: ages := map[string]int{"å¼ ä¸‰": 25, "æå››": 30} // C++: std::unordered_map<std::string, int> ages = {{"å¼ ä¸‰", 25}, {"æå››", 30}}; // C++ ä½¿ç”¨åŒå±‚å¤§æ‹¬å·ï¼ŒGo ä½¿ç”¨å†’å·åˆ†éš”é”®å€¼ ages := map[string]int{ "å¼ ä¸‰": 25, "æå››": 30, "ç‹äº”": 28, } fmt.Printf("åˆå§‹åŒ–çš„ map: %v\n\n", ages) // 2. å¢åŠ å…ƒç´ ï¼ˆç›´æ¥èµ‹å€¼ï¼‰ // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: scores["æ•°å­¦"] = 95 // C++: scores["æ•°å­¦"] = 95; æˆ– scores.insert({"æ•°å­¦", 95}); // // ä¸»è¦å·®å¼‚ï¼š // - ä¸¤è€…è¯­æ³•ç±»ä¼¼ï¼Œéƒ½æ”¯æŒ [] æ“ä½œç¬¦ç›´æ¥èµ‹å€¼ // - C++ è¿˜æœ‰ insert(), emplace() ç­‰æ–¹æ³• // - Go çš„ [] æ“ä½œç¬¦ä¼šè‡ªåŠ¨å¤„ç†å¢åŠ å’Œä¿®æ”¹ // - C++ çš„ insert() å¦‚æœé”®å·²å­˜åœ¨åˆ™ä¸ä¼šè¦†ç›–ï¼Œ[] ä¼šè¦†ç›– fmt.Println("2. å¢åŠ å…ƒç´ :") scores["æ•°å­¦"] = 95 scores["è¯­æ–‡"] = 88 scores["è‹±è¯­"] = 92 fmt.Printf("æ·»åŠ å: %v\n\n", scores) // 3. æŸ¥è¯¢å…ƒç´  // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: value := scores["æ•°å­¦"] // C++: int value = scores["æ•°å­¦"]; // ä¸å­˜åœ¨ä¼šæ’å…¥é»˜è®¤å€¼ // int value = scores.at("æ•°å­¦"); // ä¸å­˜åœ¨ä¼šæŠ›å¼‚å¸¸ // // ä¸»è¦å·®å¼‚ï¼š // - Go çš„ [] è®¿é—®ä¸å­˜åœ¨çš„é”®è¿”å›é›¶å€¼ï¼ˆ0, "", nil ç­‰ï¼‰ï¼Œä¸ä¼šæŠ¥é”™ // - C++ çš„ [] è®¿é—®ä¸å­˜åœ¨çš„é”®ä¼šæ’å…¥è¯¥é”®å¹¶è¿”å›é»˜è®¤å€¼ // - C++ çš„ at() è®¿é—®ä¸å­˜åœ¨çš„é”®ä¼šæŠ›å‡º std::out_of_range å¼‚å¸¸ // - Go ä½¿ç”¨ value, ok := map[key] æ¥æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ // - C++ ä½¿ç”¨ find() è¿”å›è¿­ä»£å™¨ï¼Œæˆ– contains() (C++20) fmt.Println("3. æŸ¥è¯¢å…ƒç´ :") // ç›´æ¥è®¿é—® mathScore := scores["æ•°å­¦"] fmt.Printf("æ•°å­¦æˆç»©: %d\n", mathScore) // å®‰å…¨æŸ¥è¯¢ï¼ˆæ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ï¼‰ // Go ç‰¹æœ‰çš„è¯­æ³•ï¼šè¿”å›å€¼å’Œå­˜åœ¨æ ‡å¿— // C++ ç­‰ä»·: auto it = scores.find("è¯­æ–‡"); if (it != scores.end()) { ... } chineseScore, exists := scores["è¯­æ–‡"] if exists { fmt.Printf("è¯­æ–‡æˆç»©: %d (å­˜åœ¨)\n", chineseScore) } // æŸ¥è¯¢ä¸å­˜åœ¨çš„é”® physicsScore, exists := scores["ç‰©ç†"] if !exists { fmt.Printf("ç‰©ç†æˆç»©ä¸å­˜åœ¨ï¼Œè¿”å›é›¶å€¼: %d\n\n", physicsScore) } // 4. ä¿®æ”¹å…ƒç´  // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go å’Œ C++ åœ¨ä¿®æ”¹å…ƒç´ æ—¶è¯­æ³•å®Œå…¨ä¸€è‡´ // Go: scores["æ•°å­¦"] = 98 // C++: scores["æ•°å­¦"] = 98; // // æ³¨æ„ï¼šGo çš„ [] æ“ä½œç¬¦ä¸åŒºåˆ†å¢åŠ å’Œä¿®æ”¹ï¼Œç»Ÿä¸€ä½¿ç”¨èµ‹å€¼è¯­æ³• fmt.Println("4. ä¿®æ”¹å…ƒç´ :") fmt.Printf("ä¿®æ”¹å‰æ•°å­¦æˆç»©: %d\n", scores["æ•°å­¦"]) scores["æ•°å­¦"] = 98 fmt.Printf("ä¿®æ”¹åæ•°å­¦æˆç»©: %d\n\n", scores["æ•°å­¦"]) // 5. åˆ é™¤å…ƒç´  // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: delete(scores, "è‹±è¯­") // C++: scores.erase("è‹±è¯­"); // // ä¸»è¦å·®å¼‚ï¼š // - Go ä½¿ç”¨å†…ç½®å‡½æ•° delete(map, key)ï¼Œæ— è¿”å›å€¼ // - C++ ä½¿ç”¨æˆå‘˜æ–¹æ³• erase(key)ï¼Œè¿”å›åˆ é™¤çš„å…ƒç´ ä¸ªæ•° // - ä¸¤è€…åˆ é™¤ä¸å­˜åœ¨çš„é”®éƒ½ä¸ä¼šæŠ¥é”™/panic // - C++ è¿˜æ”¯æŒé€šè¿‡è¿­ä»£å™¨åˆ é™¤: scores.erase(it); fmt.Println("5. åˆ é™¤å…ƒç´ :") fmt.Printf("åˆ é™¤å‰: %v\n", scores) delete(scores, "è‹±è¯­") fmt.Printf("åˆ é™¤è‹±è¯­å: %v\n", scores) // åˆ é™¤ä¸å­˜åœ¨çš„é”®ä¸ä¼šæŠ¥é”™ delete(scores, "ä¸å­˜åœ¨çš„ç§‘ç›®") fmt.Printf("åˆ é™¤ä¸å­˜åœ¨çš„é”®å: %v\n\n", scores) // 6. è·å– map é•¿åº¦ // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: len(scores) // C++: scores.size() // // ä¸»è¦å·®å¼‚ï¼š // - Go ä½¿ç”¨å†…ç½®å‡½æ•° len()ï¼Œé€‚ç”¨äºæ‰€æœ‰é›†åˆç±»å‹ // - C++ ä½¿ç”¨æˆå‘˜æ–¹æ³• size() // - C++ è¿˜æœ‰ empty() æ–¹æ³•æ£€æŸ¥æ˜¯å¦ä¸ºç©º // - Go å¯ä»¥ç›´æ¥ç”¨ len(map) == 0 æ£€æŸ¥ fmt.Println("6. è·å–é•¿åº¦:") fmt.Printf("scores çš„é•¿åº¦: %d\n", len(scores)) fmt.Printf("ages çš„é•¿åº¦: %d\n\n", len(ages)) // 7. éå† map // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: for key, value := range scores { ... } // C++: for (const auto& [key, value] : scores) { ... } // C++17 ç»“æ„åŒ–ç»‘å®š // for (auto it = scores.begin(); it != scores.end(); ++it) { ... } // // ä¸»è¦å·®å¼‚ï¼š // - Go ä½¿ç”¨ range å…³é”®å­—ï¼Œè¯­æ³•æ›´ç®€æ´ // - C++ å¯ä»¥ä½¿ç”¨ç»“æ„åŒ–ç»‘å®šï¼ˆC++17ï¼‰æˆ–è¿­ä»£å™¨ // - ä¸¤è€…éå†é¡ºåºéƒ½æ˜¯ä¸ç¡®å®šçš„ï¼ˆunorderedï¼‰ // - Go æ¯æ¬¡è¿è¡Œéå†é¡ºåºå¯èƒ½ä¸åŒï¼ˆæ•…æ„éšæœºåŒ–ï¼‰ // - C++ çš„é¡ºåºå–å†³äºå“ˆå¸Œå®ç°ï¼Œä½†åŒä¸€æ¬¡è¿è¡Œä¸­ç¨³å®š fmt.Println("7. éå† map:") fmt.Println("éå† scores:") for subject, score := range scores { fmt.Printf(" %s: %d\n", subject, score) } fmt.Println("\néå† ages:") for name, age := range ages { fmt.Printf(" %s: %d å²\n", name, age) } fmt.Println() // 8. åªéå†é”®æˆ–å€¼ // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go åªéå†é”®: for key := range scores { ... } // Go åªéå†å€¼: for _, value := range scores { ... } // // C++ åªéå†é”®: for (const auto& [key, _] : scores) { ... } // C++ åªéå†å€¼: for (const auto& [_, value] : scores) { ... } // // ä¸»è¦å·®å¼‚ï¼š // - Go ä½¿ç”¨ _ å¿½ç•¥ä¸éœ€è¦çš„å€¼ï¼Œè¯­æ³•æ›´æ¸…æ™° // - C++ ä¹Ÿå¯ä»¥ç”¨ [[maybe_unused]] æˆ–ç›´æ¥ä¸ä½¿ç”¨å˜é‡ // - Go çœç•¥ç¬¬äºŒä¸ªå˜é‡å°±åªéå†é”® // - C++ éœ€è¦å®Œæ•´çš„ç»“æ„åŒ–ç»‘å®šè¯­æ³• fmt.Println("8. åªéå†é”®æˆ–å€¼:") fmt.Print("æ‰€æœ‰ç§‘ç›®: ") for subject := range scores { fmt.Printf("%s ", subject) } fmt.Println() fmt.Print("æ‰€æœ‰åˆ†æ•°: ") for _, score := range scores { fmt.Printf("%d ", score) } fmt.Println("\n") // 9. æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: if _, ok := scores["æ•°å­¦"]; ok { ... } // C++: if (scores.find("æ•°å­¦") != scores.end()) { ... } // if (scores.contains("æ•°å­¦")) { ... } // C++20 // if (scores.count("æ•°å­¦") > 0) { ... } // æ—§æ–¹å¼ // // ä¸»è¦å·®å¼‚ï¼š // - Go ä½¿ç”¨é€—å·okæƒ¯ç”¨æ³• (comma ok idiom)ï¼Œè¿”å›å€¼å’Œå¸ƒå°”æ ‡å¿— // - C++ ä½¿ç”¨ find() è¿”å›è¿­ä»£å™¨ï¼Œéœ€è¦ä¸ end() æ¯”è¾ƒ // - C++20 æ–°å¢ contains() æ–¹æ³•ï¼Œè¿”å› boolï¼Œæ›´æ¥è¿‘ Go çš„è¯­ä¹‰ // - Go çš„æ–¹å¼æ›´ç®€æ´ï¼Œä¸€è¡Œä»£ç åŒæ—¶è·å–å€¼å’Œæ£€æŸ¥å­˜åœ¨æ€§ // - C++ çš„ count() å¯¹äº unordered_map åªè¿”å› 0 æˆ– 1 fmt.Println("9. æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨:") if _, ok := scores["æ•°å­¦"]; ok { fmt.Println("æ•°å­¦æˆç»©å­˜åœ¨") } if _, ok := scores["ç‰©ç†"]; !ok { fmt.Println("ç‰©ç†æˆç»©ä¸å­˜åœ¨") } fmt.Println() // 10. map çš„é›¶å€¼å’Œæ¸…ç©º // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: var emptyMap map[string]int // nil map // C++: std::unordered_map<std::string, int> emptyMap; // ç©º mapï¼Œä¸æ˜¯ null // // ä¸»è¦å·®å¼‚ï¼š // - Go çš„ map é›¶å€¼æ˜¯ nilï¼Œå¯ä»¥è¯»å–ä½†ä¸èƒ½å†™å…¥ï¼ˆä¼š panicï¼‰ // - C++ çš„ unordered_map æ²¡æœ‰ null æ¦‚å¿µï¼Œå£°æ˜å³å¯ç”¨ // - Go éœ€è¦æ˜¾å¼åˆå§‹åŒ–æ‰èƒ½å†™å…¥: make(map[K]V) æˆ–å­—é¢é‡ // - C++ çš„é»˜è®¤æ„é€ å‡½æ•°è‡ªåŠ¨åˆ›å»ºå¯ç”¨çš„ç©º map // // æ¸…ç©ºæ“ä½œï¼š // Go: myMap = make(map[string]int) // é‡æ–°åˆ†é… // æˆ–éå†åˆ é™¤: for k := range myMap { delete(myMap, k) } // C++: myMap.clear(); // æœ‰ä¸“é—¨çš„æ¸…ç©ºæ–¹æ³• fmt.Println("10. map çš„é›¶å€¼:") var emptyMap map[string]int fmt.Printf("æœªåˆå§‹åŒ–çš„ map: %v (nil: %v)\n", emptyMap, emptyMap == nil) // æ³¨æ„ï¼šnil map å¯ä»¥è¯»å–ï¼Œä½†ä¸èƒ½å†™å…¥ // emptyMap["key"] = 1 // è¿™ä¼š panic // æ¸…ç©º mapï¼ˆé‡æ–°èµ‹å€¼ï¼‰ scores = make(map[string]int) fmt.Printf("æ¸…ç©ºåçš„ map: %v\n\n", scores) // 11. å¤æ‚ç±»å‹ä½œä¸ºå€¼ // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: map[int]Student // C++: std::unordered_map<int, Student> // // ä¸»è¦å·®å¼‚ï¼š // - Go çš„ç»“æ„ä½“ä½œä¸ºå€¼æ—¶æ˜¯å€¼æ‹·è´ï¼Œä¿®æ”¹éœ€è¦é‡æ–°èµ‹å€¼æ•´ä¸ªç»“æ„ä½“ // ä¾‹å¦‚: s := students[1001]; s.Age = 20; students[1001] = s // - C++ ä¹Ÿæ˜¯å€¼æ‹·è´ï¼Œä½†å¯ä»¥é€šè¿‡å¼•ç”¨ä¿®æ”¹: students[1001].Age = 20; // - Go å¦‚æœéœ€è¦ä¿®æ”¹ï¼Œå»ºè®®ä½¿ç”¨æŒ‡é’ˆ: map[int]*Student // - C++ å¯ä»¥ç”¨ emplace() åŸåœ°æ„é€ ï¼Œé¿å…æ‹·è´ // // æ³¨æ„ï¼šGo ä¸èƒ½ç›´æ¥ä¿®æ”¹ map ä¸­ç»“æ„ä½“çš„å­—æ®µ // students[1001].Age = 20 // ç¼–è¯‘é”™è¯¯ï¼ fmt.Println("11. å¤æ‚ç±»å‹çš„ map:") // map çš„å€¼å¯ä»¥æ˜¯ç»“æ„ä½“ type Student struct { Name string Age int Grade int } students := map[int]Student{ 1001: {"å¼ ä¸‰", 18, 90}, 1002: {"æå››", 19, 85}, } fmt.Printf("å­¦ç”Ÿä¿¡æ¯: %v\n", students) fmt.Printf("å­¦å· 1001: %v\n\n", students[1001]) // 12. map åµŒå¥— // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: map[string]map[string]int // C++: std::unordered_map<std::string, std::unordered_map<std::string, int>> // // ä¸»è¦å·®å¼‚ï¼š // - è¯­æ³•ç±»ä¼¼ï¼Œä½† C++ çš„æ¨¡æ¿åµŒå¥—æ›´å†—é•¿ // - Go åˆå§‹åŒ–å†…å±‚ map æ—¶è¯­æ³•æ›´ç®€æ´ // - æ³¨æ„ï¼šè®¿é—®ä¸å­˜åœ¨çš„å¤–å±‚é”®æ—¶ï¼ŒGo è¿”å› nil mapï¼Œè®¿é—®ä¼š panic // å»ºè®®å…ˆæ£€æŸ¥: if inner, ok := outer["key"]; ok { ... } // - C++ çš„ [] ä¼šè‡ªåŠ¨åˆ›å»ºä¸å­˜åœ¨çš„é”® fmt.Println("12. map åµŒå¥—:") classScores := map[string]map[string]int{ "ä¸€ç­": { "å¼ ä¸‰": 90, "æå››": 85, }, "äºŒç­": { "ç‹äº”": 92, "èµµå…­": 88, }, } fmt.Printf("ç­çº§æˆç»©: %v\n", classScores) fmt.Printf("ä¸€ç­å¼ ä¸‰çš„æˆç»©: %d\n", classScores["ä¸€ç­"]["å¼ ä¸‰"]) // ======================================== // ã€Go map vs C++ unordered_map æ€»ç»“å¯¹æ¯”ã€‘ // ======================================== // // 1. ç±»å‹ç³»ç»Ÿï¼š // - Go: map æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¼ é€’æ—¶ä¸æ‹·è´æ•°æ® // - C++: unordered_map æ˜¯å€¼ç±»å‹ï¼Œä¼ é€’æ—¶æ‹·è´ï¼ˆå¯ç”¨å¼•ç”¨ä¼˜åŒ–ï¼‰ // // 2. çº¿ç¨‹å®‰å…¨ï¼š // - Go: map ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œéœ€è¦ sync.Mutex æˆ– sync.Map // - C++: unordered_map ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œéœ€è¦è‡ªè¡ŒåŠ é” // // 3. é”®çš„è¦æ±‚ï¼š // - Go: é”®å¿…é¡»æ˜¯å¯æ¯”è¾ƒç±»å‹ï¼ˆæ”¯æŒ ==ï¼‰ï¼Œä¸èƒ½æ˜¯ sliceã€mapã€function // - C++: é”®å¿…é¡»æœ‰ hash å‡½æ•°å’Œ == è¿ç®—ç¬¦ // // 4. æ€§èƒ½ç‰¹ç‚¹ï¼š // - Go: å“ˆå¸Œè¡¨å®ç°ï¼Œå¹³å‡ O(1)ï¼Œè‡ªåŠ¨æ‰©å®¹ // - C++: å“ˆå¸Œè¡¨å®ç°ï¼Œå¹³å‡ O(1)ï¼Œå¯ä»¥è‡ªå®šä¹‰ hash å’Œ load factor // // 5. å†…å­˜ç®¡ç†ï¼š // - Go: è‡ªåŠ¨åƒåœ¾å›æ”¶ï¼Œåˆ é™¤å…ƒç´ ä¸ä¸€å®šç«‹å³é‡Šæ”¾å†…å­˜ // - C++: æ‰‹åŠ¨ç®¡ç†ï¼ˆRAIIï¼‰ï¼Œåˆ é™¤å…ƒç´ ç«‹å³é‡Šæ”¾å†…å­˜ // // 6. è¿­ä»£é¡ºåºï¼š // - Go: æ•…æ„éšæœºåŒ–ï¼Œæ¯æ¬¡è¿è¡Œå¯èƒ½ä¸åŒ // - C++: ä¸ç¡®å®šä½†åŒä¸€æ¬¡è¿è¡Œä¸­ç›¸å¯¹ç¨³å®š // // 7. é›¶å€¼/ç©ºå€¼ï¼š // - Go: nil map å¯è¯»ä¸å¯å†™ï¼Œéœ€è¦å…ˆ make // - C++: é»˜è®¤æ„é€ å³å¯ç”¨ï¼Œæ—  null æ¦‚å¿µ // // 8. å¸¸ç”¨æ“ä½œå¯¹æ¯”è¡¨ï¼š // â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” // â”‚ æ“ä½œ â”‚ Go â”‚ C++ â”‚ // â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ // â”‚ åˆ›å»º â”‚ make(map[K]V) â”‚ unordered_map<K,V> m; â”‚ // â”‚ æ·»åŠ /ä¿®æ”¹ â”‚ m[k] = v â”‚ m[k] = v; â”‚ // â”‚ æŸ¥è¯¢ â”‚ v := m[k] â”‚ v = m[k]; â”‚ // â”‚ å®‰å…¨æŸ¥è¯¢ â”‚ v, ok := m[k] â”‚ auto it = m.find(k); â”‚ // â”‚ å­˜åœ¨æ€§æ£€æŸ¥ â”‚ _, ok := m[k] â”‚ m.contains(k) // C++20 â”‚ // â”‚ åˆ é™¤ â”‚ delete(m, k) â”‚ m.erase(k); â”‚ // â”‚ é•¿åº¦ â”‚ len(m) â”‚ m.size() â”‚ // â”‚ æ¸…ç©º â”‚ m = make(map[K]V) â”‚ m.clear(); â”‚ // â”‚ éå† â”‚ for k, v := range m {...}â”‚ for(auto& [k,v]:m){...} â”‚ // â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ // // 9. ä½•æ—¶é€‰æ‹©ï¼š // - Go map: ç®€æ´æ˜“ç”¨ï¼Œé€‚åˆå¤§å¤šæ•°åœºæ™¯ï¼Œéœ€è¦åƒåœ¾å›æ”¶çš„é¡¹ç›® // - C++ unordered_map: éœ€è¦æ›´ç²¾ç»†çš„å†…å­˜æ§åˆ¶ï¼Œæ€§èƒ½å…³é”®è·¯å¾„ // // 10. å®ç”¨å»ºè®®ï¼š // Go: // - æ€»æ˜¯æ£€æŸ¥ nil map å†å†™å…¥ // - ä½¿ç”¨ comma-ok æƒ¯ç”¨æ³•æ£€æŸ¥é”®å­˜åœ¨æ€§ // - éœ€è¦å¹¶å‘è®¿é—®æ—¶ä½¿ç”¨ sync.Map æˆ–åŠ é” // - å¦‚æœéœ€è¦æœ‰åºéå†ï¼Œè€ƒè™‘å…ˆæ’åºé”® // // C++: // - ä¼ é€’ map æ—¶ä½¿ç”¨ const& é¿å…æ‹·è´ // - ä½¿ç”¨ emplace() åŸåœ°æ„é€ æé«˜æ€§èƒ½ // - éœ€è¦æœ‰åºéå†ä½¿ç”¨ std::map è€Œä¸æ˜¯ unordered_map // - C++20 ä¼˜å…ˆä½¿ç”¨ contains() è€Œä¸æ˜¯ find() fmt.Println("\n=== æ•™ç¨‹ç»“æŸ ===") } '><meta property="og:locale" content="zh-CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-12-11T17:50:13+08:00"><meta property="article:modified_time" content="2025-12-11T17:50:13+08:00"><meta property="article:tag" content="Golang"><meta name=twitter:card content="summary"><meta name=twitter:title content="ã€ŠA Tour of Goã€‹golangä¸­çš„æ•°ç»„ã€sliceã€map"><meta name=twitter:description content='
tour.golang.org
æ•°ç»„
var æ•°ç»„å [æ•°ç»„é•¿åº¦] æ•°ç»„ç±»å‹
package main

import "fmt"

func main() {
	var a [2]string // c++: string a[2];
	a[0] = "Hello"
	a[1] = "World"
	fmt.Println(a[0], a[1])
	fmt.Println(a)

	primes := [6]int{2, 3, 5, 7, 11, 13}
	fmt.Println(primes)
}
slice(åˆ‡ç‰‡)

ğŸ’¡ ç±»ä¼¼c++ä¸­çš„std::vector æ”¯æŒåŠ¨æ€æ‰©å®¹,ä¸”æœ¬è´¨æ˜¯ä¸€ä¸ªç»“æ„ä½“ è®°å½•äº†æŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆã€é•¿åº¦ã€å®¹é‡ {arr_point,len,cap}

1. åˆ‡ç‰‡ä¸æ•°ç»„çš„åŒºåˆ«ã€åˆ‡ç‰‡çš„å¢åˆ æŸ¥æ”¹

// æ•°ç»„ ç›´æ¥å­˜å‚¨3ä¸ªintå€¼ é•¿åº¦ä¸å¯å˜,æ•°æ®åœ¨æ ˆä¸Š
var arr [3]int = [3]int{1, 2, 3}
fmt.Println(arr)

// åˆ‡ç‰‡ så®é™…ä¸Šæ˜¯ä¸€ä¸ªç»“æ„ä½“{arr_point,len,cap} ç±»ä¼¼c++ std::vector æ”¯æŒåŠ¨æ€æ‰©å®¹
s := []int{1, 2, 3}
fmt.Println("åŸå§‹åˆ‡ç‰‡:", s, "len:", len(s), "cap:", cap(s))

// === å¢ï¼ˆAppendï¼‰===
// 1. è¿½åŠ å•ä¸ªå…ƒç´ ï¼ˆç±»ä¼¼ C++ vector.push_backï¼‰
s = append(s, 17)
fmt.Println("è¿½åŠ 17:", s)

// 2. è¿½åŠ å¤šä¸ªå…ƒç´ 
s = append(s, 19, 23, 29)
fmt.Println("è¿½åŠ å¤šä¸ª:", s)

// 3. è¿½åŠ å¦ä¸€ä¸ªåˆ‡ç‰‡ï¼ˆéœ€è¦ ... å±•å¼€ï¼‰
s2 := []int{31, 37}
s = append(s, s2...)
fmt.Println("è¿½åŠ åˆ‡ç‰‡:", s)

// === æŸ¥ï¼ˆAccessï¼‰===
// ç›´æ¥é€šè¿‡ç´¢å¼•è®¿é—®ï¼ŒO(1) æ—¶é—´å¤æ‚åº¦
fmt.Println("ç´¢å¼•3çš„å…ƒç´ :", s[3])

// === æ”¹ï¼ˆModifyï¼‰===
// ç›´æ¥é€šè¿‡ç´¢å¼•ä¿®æ”¹
s[0] = 100
fmt.Println("ä¿®æ”¹ç´¢å¼•0:", s)

// === åˆ ï¼ˆDeleteï¼‰===
// Go æ²¡æœ‰å†…ç½®åˆ é™¤å‡½æ•°ï¼Œéœ€è¦é€šè¿‡åˆ‡ç‰‡æ“ä½œ
// 1. åˆ é™¤ç´¢å¼•ä¸º2çš„å…ƒç´ 
i := 2
s = append(s[:i], s[i+1:]...)
fmt.Println("åˆ é™¤ç´¢å¼•2:", s)

// 2. åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆç±»ä¼¼ C++ vector.pop_backï¼‰
s = s[:len(s)-1]
fmt.Println("åˆ é™¤æœ€å:", s)

// === åˆ‡ç‰‡æ“ä½œï¼ˆSlicingï¼‰===
// è¿™æ˜¯ Go ç‰¹æœ‰çš„ï¼ŒC++ éœ€è¦ç”¨è¿­ä»£å™¨
sub := s[2:5] // è·å–ç´¢å¼• 2-4 çš„å…ƒç´ ï¼ˆå·¦é—­å³å¼€ï¼‰
fmt.Println("å­åˆ‡ç‰‡[2:5]:", sub)

// === åˆ›å»ºåˆ‡ç‰‡çš„æ–¹å¼ ===
// 1. ä½¿ç”¨ make åˆ›å»ºæŒ‡å®šé•¿åº¦å’Œå®¹é‡çš„åˆ‡ç‰‡
s3 := make([]int, 5) // é•¿åº¦5ï¼Œå®¹é‡5ï¼Œåˆå§‹å€¼éƒ½æ˜¯0
fmt.Println("make(len=5):", s3, "len:", len(s3), "cap:", cap(s3))

s4 := make([]int, 3, 10) // é•¿åº¦3ï¼Œå®¹é‡10
fmt.Println("make(len=3,cap=10):", s4, "len:", len(s4), "cap:", cap(s4))
2. å¯¹æ•°ç»„åˆ‡ç‰‡åï¼Œæ‰©å®¹åˆ‡ç‰‡è¶…è¿‡åŸæ•°ç»„åä¼šä¸åŸæ•°ç»„æ–­å¼€å…³è”
// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º5çš„æ•°ç»„
arr := [5]int{1, 2, 3, 4, 5}
fmt.Printf("åŸæ•°ç»„: %v, åœ°å€: %p\n", arr, &amp;arr)
fmt.Printf("åˆ‡ç‰‡: %v, len=%d, cap=%d\n", arr, len(arr), cap(arr))

// å¯¹æ•°ç»„è¿›è¡Œåˆ‡ç‰‡ï¼Œå–å‰3ä¸ªå…ƒç´ 
slice := arr[0:3] // ç­‰ä»·ä¸ [:3]
fmt.Printf("\n--- åˆå§‹åˆ‡ç‰‡ ---\n")
fmt.Printf("åˆ‡ç‰‡: %v, len=%d, cap=%d\n", slice, len(slice), cap(slice))
fmt.Printf("åˆ‡ç‰‡ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n", &amp;slice[0])
fmt.Printf("åŸæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n", &amp;arr[0])
fmt.Println("æ­¤æ—¶åˆ‡ç‰‡å’ŒåŸæ•°ç»„å…±äº«åº•å±‚æ•°ç»„:", &amp;slice[0] == &amp;arr[0])

// ä¿®æ”¹åˆ‡ç‰‡ä¼šå½±å“åŸæ•°ç»„
slice[0] = 100
fmt.Printf("\n--- ä¿®æ”¹ slice[0] = 100 ---\n")
fmt.Printf("åˆ‡ç‰‡: %v\n", slice)
fmt.Printf("åŸæ•°ç»„: %v (åŸæ•°ç»„ä¹Ÿè¢«ä¿®æ”¹äº†)\n", arr)

// åœ¨å®¹é‡èŒƒå›´å†…appendï¼Œä»ç„¶ä½¿ç”¨åŸæ•°ç»„
fmt.Printf("\n--- åœ¨å®¹é‡èŒƒå›´å†… append ---\n")
fmt.Printf("å½“å‰ len=%d, cap=%d, è¿˜å¯ä»¥åœ¨åŸæ•°ç»„ä¸Šè¿½åŠ  %d ä¸ªå…ƒç´ \n", len(slice), cap(slice), cap(slice)-len(slice))
slice = append(slice, 6)
fmt.Printf("append(slice, 6) å: %v, len=%d, cap=%d\n", slice, len(slice), cap(slice))
fmt.Printf("åˆ‡ç‰‡ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n", &amp;slice[0])
fmt.Println("ä»ç„¶å…±äº«åº•å±‚æ•°ç»„:", &amp;slice[0] == &amp;arr[0])
fmt.Printf("åŸæ•°ç»„: %v (arr[3] è¢«è¦†ç›–äº†)\n", arr)

slice = append(slice, 7)
fmt.Printf("append(slice, 7) å: %v, len=%d, cap=%d\n", slice, len(slice), cap(slice))
fmt.Printf("åŸæ•°ç»„: %v (arr[4] è¢«è¦†ç›–äº†)\n", arr)

// è¶…è¿‡å®¹é‡ï¼Œè§¦å‘æ‰©å®¹ï¼Œä½¿ç”¨æ–°çš„åº•å±‚æ•°ç»„
fmt.Printf("\n--- è¶…è¿‡å®¹é‡ï¼Œè§¦å‘æ‰©å®¹ ---\n")
fmt.Printf("å½“å‰ len=%d, cap=%d, ç»§ç»­ append å°†è¶…è¿‡å®¹é‡\n", len(slice), cap(slice))
oldAddr := &amp;slice[0]
slice = append(slice, 8)
newAddr := &amp;slice[0]
fmt.Printf("append(slice, 8) å: %v, len=%d, cap=%d\n", slice, len(slice), cap(slice))
fmt.Printf("æ‰©å®¹å‰ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n", oldAddr)
fmt.Printf("æ‰©å®¹åç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n", newAddr)
fmt.Println("åœ°å€å‘ç”Ÿå˜åŒ–ï¼Œä½¿ç”¨äº†æ–°çš„åº•å±‚æ•°ç»„:", oldAddr != newAddr)

// ç°åœ¨ä¿®æ”¹åˆ‡ç‰‡ä¸ä¼šå½±å“åŸæ•°ç»„
fmt.Printf("\n--- éªŒè¯åˆ‡ç‰‡å·²ä¸åŸæ•°ç»„åˆ†ç¦» ---\n")
slice[0] = 999
fmt.Printf("ä¿®æ”¹ slice[0] = 999\n")
fmt.Printf("åˆ‡ç‰‡: %v\n", slice)
fmt.Printf("åŸæ•°ç»„: %v (åŸæ•°ç»„ä¸å—å½±å“)\n", arr)
3. åˆ‡ç‰‡çš„é›¶å€¼ï¼ˆé»˜è®¤å€¼ï¼‰æ˜¯ nil
var s []int
fmt.Println(s, len(s), cap(s))
if s == nil {
	fmt.Println("nil!")
}
map(æ˜ å°„ï¼‰

åŸºäºhashè¡¨å®ç°ï¼šï¼ˆGo1.19åŠä»¥åå“ˆå¸Œå†²çªè§£å†³ä¸»è¦é‡‡ç”¨æ‹‰é“¾æ³•ï¼ˆæ•°ç»„+é“¾è¡¨/çº¢é»‘æ ‘ï¼‰ï¼‰
æ— åºï¼šæ¯æ¬¡éå†å…ƒç´ çš„é¡ºåºå¯èƒ½ä¸åŒ
æŸ¥æ‰¾æ•ˆç‡é«˜ï¼šæŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º$O(1)$ ï¼Œ æœ€åçš„æƒ…å†µä¸‹é€€åŒ–åˆ°$O(n)$
keyå¿…é¡»å”¯ä¸€ï¼š åŒä¸€ä¸ªé”®å¤šæ¬¡èµ‹å€¼ï¼Œåè€…è¦†ç›–å‰è€…
keyå¿…é¡»å¯æ¯”è¾ƒ
é›¶å€¼(nil)ï¼šå¯è¯»ä½†ä¸å¯å†™ï¼ˆä¼šå¼•å‘panicï¼‰
æ‰©å®¹ï¼šæå‰æŒ‡å®šé¢„ä¼°åˆå§‹å®¹é‡å¯ä»¥å‡å°‘æ‰©å®¹å¸¦æ¥çš„æ€§èƒ½æŸè€— make(map[KeyType]ValueType, initialCappacity)
éå¹¶å‘å®‰å…¨ï¼šå¤šä¸ªgoroutine å¹¶å‘å¯¹åŒä¸€ä¸ªmapè¯»å†™ä¼šå¯¼è‡´panic

map çš„å®šä¹‰ã€åˆå§‹åŒ–ã€ä»¥åŠå¢åˆ æŸ¥æ”¹
package main

import "fmt"

func main() {
	fmt.Println("=== Go Map åŸºç¡€æ•™ç¨‹ ===\n")

	// 1. åˆ›å»º map çš„å‡ ç§æ–¹å¼
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  scores := make(map[string]int)
	// C++: std::unordered_map<std::string, int> scores;
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - Go ä½¿ç”¨ make() å‡½æ•°æˆ–å­—é¢é‡è¯­æ³•ï¼Œè¯­æ³•æ›´ç®€æ´
	// - C++ éœ€è¦æ¨¡æ¿å‚æ•° <Key, Value>
	// - Go çš„ map æ˜¯å¼•ç”¨ç±»å‹ï¼ŒC++ çš„ unordered_map æ˜¯å€¼ç±»å‹
	// - Go å¯ä»¥é¢„åˆ†é…å®¹é‡ï¼šmake(map[string]int, 100)
	// - C++ ä½¿ç”¨ reserve(): scores.reserve(100)
	fmt.Println("1. åˆ›å»º map:")

	// æ–¹å¼1: ä½¿ç”¨ make åˆ›å»º
	scores := make(map[string]int)
	fmt.Printf("ç©º map: %v\n", scores)

	// æ–¹å¼2: å­—é¢é‡åˆå§‹åŒ–
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  ages := map[string]int{"å¼ ä¸‰": 25, "æå››": 30}
	// C++: std::unordered_map<std::string, int> ages = {{"å¼ ä¸‰", 25}, {"æå››", 30}};
	// C++ ä½¿ç”¨åŒå±‚å¤§æ‹¬å·ï¼ŒGo ä½¿ç”¨å†’å·åˆ†éš”é”®å€¼
	ages := map[string]int{
		"å¼ ä¸‰": 25,
		"æå››": 30,
		"ç‹äº”": 28,
	}
	fmt.Printf("åˆå§‹åŒ–çš„ map: %v\n\n", ages)

	// 2. å¢åŠ å…ƒç´ ï¼ˆç›´æ¥èµ‹å€¼ï¼‰
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  scores["æ•°å­¦"] = 95
	// C++: scores["æ•°å­¦"] = 95;  æˆ– scores.insert({"æ•°å­¦", 95});
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - ä¸¤è€…è¯­æ³•ç±»ä¼¼ï¼Œéƒ½æ”¯æŒ [] æ“ä½œç¬¦ç›´æ¥èµ‹å€¼
	// - C++ è¿˜æœ‰ insert(), emplace() ç­‰æ–¹æ³•
	// - Go çš„ [] æ“ä½œç¬¦ä¼šè‡ªåŠ¨å¤„ç†å¢åŠ å’Œä¿®æ”¹
	// - C++ çš„ insert() å¦‚æœé”®å·²å­˜åœ¨åˆ™ä¸ä¼šè¦†ç›–ï¼Œ[] ä¼šè¦†ç›–
	fmt.Println("2. å¢åŠ å…ƒç´ :")
	scores["æ•°å­¦"] = 95
	scores["è¯­æ–‡"] = 88
	scores["è‹±è¯­"] = 92
	fmt.Printf("æ·»åŠ å: %v\n\n", scores)

	// 3. æŸ¥è¯¢å…ƒç´ 
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  value := scores["æ•°å­¦"]
	// C++: int value = scores["æ•°å­¦"];     // ä¸å­˜åœ¨ä¼šæ’å…¥é»˜è®¤å€¼
	//      int value = scores.at("æ•°å­¦");  // ä¸å­˜åœ¨ä¼šæŠ›å¼‚å¸¸
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - Go çš„ [] è®¿é—®ä¸å­˜åœ¨çš„é”®è¿”å›é›¶å€¼ï¼ˆ0, "", nil ç­‰ï¼‰ï¼Œä¸ä¼šæŠ¥é”™
	// - C++ çš„ [] è®¿é—®ä¸å­˜åœ¨çš„é”®ä¼šæ’å…¥è¯¥é”®å¹¶è¿”å›é»˜è®¤å€¼
	// - C++ çš„ at() è®¿é—®ä¸å­˜åœ¨çš„é”®ä¼šæŠ›å‡º std::out_of_range å¼‚å¸¸
	// - Go ä½¿ç”¨ value, ok := map[key] æ¥æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨
	// - C++ ä½¿ç”¨ find() è¿”å›è¿­ä»£å™¨ï¼Œæˆ– contains() (C++20)
	fmt.Println("3. æŸ¥è¯¢å…ƒç´ :")

	// ç›´æ¥è®¿é—®
	mathScore := scores["æ•°å­¦"]
	fmt.Printf("æ•°å­¦æˆç»©: %d\n", mathScore)

	// å®‰å…¨æŸ¥è¯¢ï¼ˆæ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ï¼‰
	// Go ç‰¹æœ‰çš„è¯­æ³•ï¼šè¿”å›å€¼å’Œå­˜åœ¨æ ‡å¿—
	// C++ ç­‰ä»·: auto it = scores.find("è¯­æ–‡"); if (it != scores.end()) { ... }
	chineseScore, exists := scores["è¯­æ–‡"]
	if exists {
		fmt.Printf("è¯­æ–‡æˆç»©: %d (å­˜åœ¨)\n", chineseScore)
	}

	// æŸ¥è¯¢ä¸å­˜åœ¨çš„é”®
	physicsScore, exists := scores["ç‰©ç†"]
	if !exists {
		fmt.Printf("ç‰©ç†æˆç»©ä¸å­˜åœ¨ï¼Œè¿”å›é›¶å€¼: %d\n\n", physicsScore)
	}

	// 4. ä¿®æ”¹å…ƒç´ 
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go å’Œ C++ åœ¨ä¿®æ”¹å…ƒç´ æ—¶è¯­æ³•å®Œå…¨ä¸€è‡´
	// Go:  scores["æ•°å­¦"] = 98
	// C++: scores["æ•°å­¦"] = 98;
	//
	// æ³¨æ„ï¼šGo çš„ [] æ“ä½œç¬¦ä¸åŒºåˆ†å¢åŠ å’Œä¿®æ”¹ï¼Œç»Ÿä¸€ä½¿ç”¨èµ‹å€¼è¯­æ³•
	fmt.Println("4. ä¿®æ”¹å…ƒç´ :")
	fmt.Printf("ä¿®æ”¹å‰æ•°å­¦æˆç»©: %d\n", scores["æ•°å­¦"])
	scores["æ•°å­¦"] = 98
	fmt.Printf("ä¿®æ”¹åæ•°å­¦æˆç»©: %d\n\n", scores["æ•°å­¦"])

	// 5. åˆ é™¤å…ƒç´ 
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  delete(scores, "è‹±è¯­")
	// C++: scores.erase("è‹±è¯­");
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - Go ä½¿ç”¨å†…ç½®å‡½æ•° delete(map, key)ï¼Œæ— è¿”å›å€¼
	// - C++ ä½¿ç”¨æˆå‘˜æ–¹æ³• erase(key)ï¼Œè¿”å›åˆ é™¤çš„å…ƒç´ ä¸ªæ•°
	// - ä¸¤è€…åˆ é™¤ä¸å­˜åœ¨çš„é”®éƒ½ä¸ä¼šæŠ¥é”™/panic
	// - C++ è¿˜æ”¯æŒé€šè¿‡è¿­ä»£å™¨åˆ é™¤: scores.erase(it);
	fmt.Println("5. åˆ é™¤å…ƒç´ :")
	fmt.Printf("åˆ é™¤å‰: %v\n", scores)
	delete(scores, "è‹±è¯­")
	fmt.Printf("åˆ é™¤è‹±è¯­å: %v\n", scores)

	// åˆ é™¤ä¸å­˜åœ¨çš„é”®ä¸ä¼šæŠ¥é”™
	delete(scores, "ä¸å­˜åœ¨çš„ç§‘ç›®")
	fmt.Printf("åˆ é™¤ä¸å­˜åœ¨çš„é”®å: %v\n\n", scores)

	// 6. è·å– map é•¿åº¦
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  len(scores)
	// C++: scores.size()
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - Go ä½¿ç”¨å†…ç½®å‡½æ•° len()ï¼Œé€‚ç”¨äºæ‰€æœ‰é›†åˆç±»å‹
	// - C++ ä½¿ç”¨æˆå‘˜æ–¹æ³• size()
	// - C++ è¿˜æœ‰ empty() æ–¹æ³•æ£€æŸ¥æ˜¯å¦ä¸ºç©º
	// - Go å¯ä»¥ç›´æ¥ç”¨ len(map) == 0 æ£€æŸ¥
	fmt.Println("6. è·å–é•¿åº¦:")
	fmt.Printf("scores çš„é•¿åº¦: %d\n", len(scores))
	fmt.Printf("ages çš„é•¿åº¦: %d\n\n", len(ages))

	// 7. éå† map
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  for key, value := range scores { ... }
	// C++: for (const auto& [key, value] : scores) { ... }  // C++17 ç»“æ„åŒ–ç»‘å®š
	//      for (auto it = scores.begin(); it != scores.end(); ++it) { ... }
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - Go ä½¿ç”¨ range å…³é”®å­—ï¼Œè¯­æ³•æ›´ç®€æ´
	// - C++ å¯ä»¥ä½¿ç”¨ç»“æ„åŒ–ç»‘å®šï¼ˆC++17ï¼‰æˆ–è¿­ä»£å™¨
	// - ä¸¤è€…éå†é¡ºåºéƒ½æ˜¯ä¸ç¡®å®šçš„ï¼ˆunorderedï¼‰
	// - Go æ¯æ¬¡è¿è¡Œéå†é¡ºåºå¯èƒ½ä¸åŒï¼ˆæ•…æ„éšæœºåŒ–ï¼‰
	// - C++ çš„é¡ºåºå–å†³äºå“ˆå¸Œå®ç°ï¼Œä½†åŒä¸€æ¬¡è¿è¡Œä¸­ç¨³å®š
	fmt.Println("7. éå† map:")
	fmt.Println("éå† scores:")
	for subject, score := range scores {
		fmt.Printf("  %s: %d\n", subject, score)
	}

	fmt.Println("\néå† ages:")
	for name, age := range ages {
		fmt.Printf("  %s: %d å²\n", name, age)
	}
	fmt.Println()

	// 8. åªéå†é”®æˆ–å€¼
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go åªéå†é”®:  for key := range scores { ... }
	// Go åªéå†å€¼:  for _, value := range scores { ... }
	//
	// C++ åªéå†é”®:  for (const auto& [key, _] : scores) { ... }
	// C++ åªéå†å€¼:  for (const auto& [_, value] : scores) { ... }
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - Go ä½¿ç”¨ _ å¿½ç•¥ä¸éœ€è¦çš„å€¼ï¼Œè¯­æ³•æ›´æ¸…æ™°
	// - C++ ä¹Ÿå¯ä»¥ç”¨ [[maybe_unused]] æˆ–ç›´æ¥ä¸ä½¿ç”¨å˜é‡
	// - Go çœç•¥ç¬¬äºŒä¸ªå˜é‡å°±åªéå†é”®
	// - C++ éœ€è¦å®Œæ•´çš„ç»“æ„åŒ–ç»‘å®šè¯­æ³•
	fmt.Println("8. åªéå†é”®æˆ–å€¼:")
	fmt.Print("æ‰€æœ‰ç§‘ç›®: ")
	for subject := range scores {
		fmt.Printf("%s ", subject)
	}
	fmt.Println()

	fmt.Print("æ‰€æœ‰åˆ†æ•°: ")
	for _, score := range scores {
		fmt.Printf("%d ", score)
	}
	fmt.Println("\n")

	// 9. æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  if _, ok := scores["æ•°å­¦"]; ok { ... }
	// C++: if (scores.find("æ•°å­¦") != scores.end()) { ... }
	//      if (scores.contains("æ•°å­¦")) { ... }  // C++20
	//      if (scores.count("æ•°å­¦") > 0) { ... }  // æ—§æ–¹å¼
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - Go ä½¿ç”¨é€—å·okæƒ¯ç”¨æ³• (comma ok idiom)ï¼Œè¿”å›å€¼å’Œå¸ƒå°”æ ‡å¿—
	// - C++ ä½¿ç”¨ find() è¿”å›è¿­ä»£å™¨ï¼Œéœ€è¦ä¸ end() æ¯”è¾ƒ
	// - C++20 æ–°å¢ contains() æ–¹æ³•ï¼Œè¿”å› boolï¼Œæ›´æ¥è¿‘ Go çš„è¯­ä¹‰
	// - Go çš„æ–¹å¼æ›´ç®€æ´ï¼Œä¸€è¡Œä»£ç åŒæ—¶è·å–å€¼å’Œæ£€æŸ¥å­˜åœ¨æ€§
	// - C++ çš„ count() å¯¹äº unordered_map åªè¿”å› 0 æˆ– 1
	fmt.Println("9. æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨:")
	if _, ok := scores["æ•°å­¦"]; ok {
		fmt.Println("æ•°å­¦æˆç»©å­˜åœ¨")
	}
	if _, ok := scores["ç‰©ç†"]; !ok {
		fmt.Println("ç‰©ç†æˆç»©ä¸å­˜åœ¨")
	}
	fmt.Println()

	// 10. map çš„é›¶å€¼å’Œæ¸…ç©º
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  var emptyMap map[string]int  // nil map
	// C++: std::unordered_map<std::string, int> emptyMap;  // ç©º mapï¼Œä¸æ˜¯ null
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - Go çš„ map é›¶å€¼æ˜¯ nilï¼Œå¯ä»¥è¯»å–ä½†ä¸èƒ½å†™å…¥ï¼ˆä¼š panicï¼‰
	// - C++ çš„ unordered_map æ²¡æœ‰ null æ¦‚å¿µï¼Œå£°æ˜å³å¯ç”¨
	// - Go éœ€è¦æ˜¾å¼åˆå§‹åŒ–æ‰èƒ½å†™å…¥: make(map[K]V) æˆ–å­—é¢é‡
	// - C++ çš„é»˜è®¤æ„é€ å‡½æ•°è‡ªåŠ¨åˆ›å»ºå¯ç”¨çš„ç©º map
	//
	// æ¸…ç©ºæ“ä½œï¼š
	// Go:  myMap = make(map[string]int)  // é‡æ–°åˆ†é…
	//      æˆ–éå†åˆ é™¤: for k := range myMap { delete(myMap, k) }
	// C++: myMap.clear();  // æœ‰ä¸“é—¨çš„æ¸…ç©ºæ–¹æ³•
	fmt.Println("10. map çš„é›¶å€¼:")
	var emptyMap map[string]int
	fmt.Printf("æœªåˆå§‹åŒ–çš„ map: %v (nil: %v)\n", emptyMap, emptyMap == nil)
	// æ³¨æ„ï¼šnil map å¯ä»¥è¯»å–ï¼Œä½†ä¸èƒ½å†™å…¥
	// emptyMap["key"] = 1  // è¿™ä¼š panic

	// æ¸…ç©º mapï¼ˆé‡æ–°èµ‹å€¼ï¼‰
	scores = make(map[string]int)
	fmt.Printf("æ¸…ç©ºåçš„ map: %v\n\n", scores)

	// 11. å¤æ‚ç±»å‹ä½œä¸ºå€¼
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  map[int]Student
	// C++: std::unordered_map<int, Student>
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - Go çš„ç»“æ„ä½“ä½œä¸ºå€¼æ—¶æ˜¯å€¼æ‹·è´ï¼Œä¿®æ”¹éœ€è¦é‡æ–°èµ‹å€¼æ•´ä¸ªç»“æ„ä½“
	//   ä¾‹å¦‚: s := students[1001]; s.Age = 20; students[1001] = s
	// - C++ ä¹Ÿæ˜¯å€¼æ‹·è´ï¼Œä½†å¯ä»¥é€šè¿‡å¼•ç”¨ä¿®æ”¹: students[1001].Age = 20;
	// - Go å¦‚æœéœ€è¦ä¿®æ”¹ï¼Œå»ºè®®ä½¿ç”¨æŒ‡é’ˆ: map[int]*Student
	// - C++ å¯ä»¥ç”¨ emplace() åŸåœ°æ„é€ ï¼Œé¿å…æ‹·è´
	//
	// æ³¨æ„ï¼šGo ä¸èƒ½ç›´æ¥ä¿®æ”¹ map ä¸­ç»“æ„ä½“çš„å­—æ®µ
	// students[1001].Age = 20  // ç¼–è¯‘é”™è¯¯ï¼
	fmt.Println("11. å¤æ‚ç±»å‹çš„ map:")

	// map çš„å€¼å¯ä»¥æ˜¯ç»“æ„ä½“
	type Student struct {
		Name  string
		Age   int
		Grade int
	}

	students := map[int]Student{
		1001: {"å¼ ä¸‰", 18, 90},
		1002: {"æå››", 19, 85},
	}

	fmt.Printf("å­¦ç”Ÿä¿¡æ¯: %v\n", students)
	fmt.Printf("å­¦å· 1001: %v\n\n", students[1001])

	// 12. map åµŒå¥—
	// ã€ä¸ C++ å¯¹æ¯”ã€‘
	// Go:  map[string]map[string]int
	// C++: std::unordered_map<std::string, std::unordered_map<std::string, int>>
	//
	// ä¸»è¦å·®å¼‚ï¼š
	// - è¯­æ³•ç±»ä¼¼ï¼Œä½† C++ çš„æ¨¡æ¿åµŒå¥—æ›´å†—é•¿
	// - Go åˆå§‹åŒ–å†…å±‚ map æ—¶è¯­æ³•æ›´ç®€æ´
	// - æ³¨æ„ï¼šè®¿é—®ä¸å­˜åœ¨çš„å¤–å±‚é”®æ—¶ï¼ŒGo è¿”å› nil mapï¼Œè®¿é—®ä¼š panic
	//   å»ºè®®å…ˆæ£€æŸ¥: if inner, ok := outer["key"]; ok { ... }
	// - C++ çš„ [] ä¼šè‡ªåŠ¨åˆ›å»ºä¸å­˜åœ¨çš„é”®
	fmt.Println("12. map åµŒå¥—:")
	classScores := map[string]map[string]int{
		"ä¸€ç­": {
			"å¼ ä¸‰": 90,
			"æå››": 85,
		},
		"äºŒç­": {
			"ç‹äº”": 92,
			"èµµå…­": 88,
		},
	}

	fmt.Printf("ç­çº§æˆç»©: %v\n", classScores)
	fmt.Printf("ä¸€ç­å¼ ä¸‰çš„æˆç»©: %d\n", classScores["ä¸€ç­"]["å¼ ä¸‰"])

	// ========================================
	// ã€Go map vs C++ unordered_map æ€»ç»“å¯¹æ¯”ã€‘
	// ========================================
	//
	// 1. ç±»å‹ç³»ç»Ÿï¼š
	//    - Go: map æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¼ é€’æ—¶ä¸æ‹·è´æ•°æ®
	//    - C++: unordered_map æ˜¯å€¼ç±»å‹ï¼Œä¼ é€’æ—¶æ‹·è´ï¼ˆå¯ç”¨å¼•ç”¨ä¼˜åŒ–ï¼‰
	//
	// 2. çº¿ç¨‹å®‰å…¨ï¼š
	//    - Go: map ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œéœ€è¦ sync.Mutex æˆ– sync.Map
	//    - C++: unordered_map ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œéœ€è¦è‡ªè¡ŒåŠ é”
	//
	// 3. é”®çš„è¦æ±‚ï¼š
	//    - Go: é”®å¿…é¡»æ˜¯å¯æ¯”è¾ƒç±»å‹ï¼ˆæ”¯æŒ ==ï¼‰ï¼Œä¸èƒ½æ˜¯ sliceã€mapã€function
	//    - C++: é”®å¿…é¡»æœ‰ hash å‡½æ•°å’Œ == è¿ç®—ç¬¦
	//
	// 4. æ€§èƒ½ç‰¹ç‚¹ï¼š
	//    - Go: å“ˆå¸Œè¡¨å®ç°ï¼Œå¹³å‡ O(1)ï¼Œè‡ªåŠ¨æ‰©å®¹
	//    - C++: å“ˆå¸Œè¡¨å®ç°ï¼Œå¹³å‡ O(1)ï¼Œå¯ä»¥è‡ªå®šä¹‰ hash å’Œ load factor
	//
	// 5. å†…å­˜ç®¡ç†ï¼š
	//    - Go: è‡ªåŠ¨åƒåœ¾å›æ”¶ï¼Œåˆ é™¤å…ƒç´ ä¸ä¸€å®šç«‹å³é‡Šæ”¾å†…å­˜
	//    - C++: æ‰‹åŠ¨ç®¡ç†ï¼ˆRAIIï¼‰ï¼Œåˆ é™¤å…ƒç´ ç«‹å³é‡Šæ”¾å†…å­˜
	//
	// 6. è¿­ä»£é¡ºåºï¼š
	//    - Go: æ•…æ„éšæœºåŒ–ï¼Œæ¯æ¬¡è¿è¡Œå¯èƒ½ä¸åŒ
	//    - C++: ä¸ç¡®å®šä½†åŒä¸€æ¬¡è¿è¡Œä¸­ç›¸å¯¹ç¨³å®š
	//
	// 7. é›¶å€¼/ç©ºå€¼ï¼š
	//    - Go: nil map å¯è¯»ä¸å¯å†™ï¼Œéœ€è¦å…ˆ make
	//    - C++: é»˜è®¤æ„é€ å³å¯ç”¨ï¼Œæ—  null æ¦‚å¿µ
	//
	// 8. å¸¸ç”¨æ“ä½œå¯¹æ¯”è¡¨ï¼š
	//    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
	//    â”‚   æ“ä½œ      â”‚          Go              â”‚            C++                 â”‚
	//    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
	//    â”‚ åˆ›å»º        â”‚ make(map[K]V)            â”‚ unordered_map<K,V> m;          â”‚
	//    â”‚ æ·»åŠ /ä¿®æ”¹   â”‚ m[k] = v                 â”‚ m[k] = v;                      â”‚
	//    â”‚ æŸ¥è¯¢        â”‚ v := m[k]                â”‚ v = m[k];                      â”‚
	//    â”‚ å®‰å…¨æŸ¥è¯¢    â”‚ v, ok := m[k]            â”‚ auto it = m.find(k);           â”‚
	//    â”‚ å­˜åœ¨æ€§æ£€æŸ¥  â”‚ _, ok := m[k]            â”‚ m.contains(k) // C++20         â”‚
	//    â”‚ åˆ é™¤        â”‚ delete(m, k)             â”‚ m.erase(k);                    â”‚
	//    â”‚ é•¿åº¦        â”‚ len(m)                   â”‚ m.size()                       â”‚
	//    â”‚ æ¸…ç©º        â”‚ m = make(map[K]V)        â”‚ m.clear();                     â”‚
	//    â”‚ éå†        â”‚ for k, v := range m {...}â”‚ for(auto& [k,v]:m){...}        â”‚
	//    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
	//
	// 9. ä½•æ—¶é€‰æ‹©ï¼š
	//    - Go map: ç®€æ´æ˜“ç”¨ï¼Œé€‚åˆå¤§å¤šæ•°åœºæ™¯ï¼Œéœ€è¦åƒåœ¾å›æ”¶çš„é¡¹ç›®
	//    - C++ unordered_map: éœ€è¦æ›´ç²¾ç»†çš„å†…å­˜æ§åˆ¶ï¼Œæ€§èƒ½å…³é”®è·¯å¾„
	//
	// 10. å®ç”¨å»ºè®®ï¼š
	//     Go:
	//     - æ€»æ˜¯æ£€æŸ¥ nil map å†å†™å…¥
	//     - ä½¿ç”¨ comma-ok æƒ¯ç”¨æ³•æ£€æŸ¥é”®å­˜åœ¨æ€§
	//     - éœ€è¦å¹¶å‘è®¿é—®æ—¶ä½¿ç”¨ sync.Map æˆ–åŠ é”
	//     - å¦‚æœéœ€è¦æœ‰åºéå†ï¼Œè€ƒè™‘å…ˆæ’åºé”®
	//
	//     C++:
	//     - ä¼ é€’ map æ—¶ä½¿ç”¨ const& é¿å…æ‹·è´
	//     - ä½¿ç”¨ emplace() åŸåœ°æ„é€ æé«˜æ€§èƒ½
	//     - éœ€è¦æœ‰åºéå†ä½¿ç”¨ std::map è€Œä¸æ˜¯ unordered_map
	//     - C++20 ä¼˜å…ˆä½¿ç”¨ contains() è€Œä¸æ˜¯ find()

	fmt.Println("\n=== æ•™ç¨‹ç»“æŸ ===")
}
'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://neo-dai.github.io/posts/"},{"@type":"ListItem","position":2,"name":"ã€ŠA Tour of Goã€‹golangä¸­çš„æ•°ç»„ã€sliceã€map","item":"https://neo-dai.github.io/posts/a-tour-of-gogolang%E4%B8%AD%E7%9A%84%E6%95%B0%E7%BB%84slicemap/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ã€ŠA Tour of Goã€‹golangä¸­çš„æ•°ç»„ã€sliceã€map","name":"ã€ŠA Tour of Goã€‹golangä¸­çš„æ•°ç»„ã€sliceã€map","description":" tour.golang.org\næ•°ç»„ var æ•°ç»„å [æ•°ç»„é•¿åº¦] æ•°ç»„ç±»å‹\npackage main import \u0026#34;fmt\u0026#34; func main() { var a [2]string // c++: string a[2]; a[0] = \u0026#34;Hello\u0026#34; a[1] = \u0026#34;World\u0026#34; fmt.Println(a[0], a[1]) fmt.Println(a) primes := [6]int{2, 3, 5, 7, 11, 13} fmt.Println(primes) } slice(åˆ‡ç‰‡) ğŸ’¡ ç±»ä¼¼c++ä¸­çš„std::vector æ”¯æŒåŠ¨æ€æ‰©å®¹,ä¸”æœ¬è´¨æ˜¯ä¸€ä¸ªç»“æ„ä½“ è®°å½•äº†æŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆã€é•¿åº¦ã€å®¹é‡ {arr_point,len,cap}\n1. åˆ‡ç‰‡ä¸æ•°ç»„çš„åŒºåˆ«ã€åˆ‡ç‰‡çš„å¢åˆ æŸ¥æ”¹ // æ•°ç»„ ç›´æ¥å­˜å‚¨3ä¸ªintå€¼ é•¿åº¦ä¸å¯å˜,æ•°æ®åœ¨æ ˆä¸Š var arr [3]int = [3]int{1, 2, 3} fmt.Println(arr) // åˆ‡ç‰‡ så®é™…ä¸Šæ˜¯ä¸€ä¸ªç»“æ„ä½“{arr_point,len,cap} ç±»ä¼¼c++ std::vector æ”¯æŒåŠ¨æ€æ‰©å®¹ s := []int{1, 2, 3} fmt.Println(\u0026#34;åŸå§‹åˆ‡ç‰‡:\u0026#34;, s, \u0026#34;len:\u0026#34;, len(s), \u0026#34;cap:\u0026#34;, cap(s)) // === å¢ï¼ˆAppendï¼‰=== // 1. è¿½åŠ å•ä¸ªå…ƒç´ ï¼ˆç±»ä¼¼ C++ vector.push_backï¼‰ s = append(s, 17) fmt.Println(\u0026#34;è¿½åŠ 17:\u0026#34;, s) // 2. è¿½åŠ å¤šä¸ªå…ƒç´  s = append(s, 19, 23, 29) fmt.Println(\u0026#34;è¿½åŠ å¤šä¸ª:\u0026#34;, s) // 3. è¿½åŠ å¦ä¸€ä¸ªåˆ‡ç‰‡ï¼ˆéœ€è¦ ... å±•å¼€ï¼‰ s2 := []int{31, 37} s = append(s, s2...) fmt.Println(\u0026#34;è¿½åŠ åˆ‡ç‰‡:\u0026#34;, s) // === æŸ¥ï¼ˆAccessï¼‰=== // ç›´æ¥é€šè¿‡ç´¢å¼•è®¿é—®ï¼ŒO(1) æ—¶é—´å¤æ‚åº¦ fmt.Println(\u0026#34;ç´¢å¼•3çš„å…ƒç´ :\u0026#34;, s[3]) // === æ”¹ï¼ˆModifyï¼‰=== // ç›´æ¥é€šè¿‡ç´¢å¼•ä¿®æ”¹ s[0] = 100 fmt.Println(\u0026#34;ä¿®æ”¹ç´¢å¼•0:\u0026#34;, s) // === åˆ ï¼ˆDeleteï¼‰=== // Go æ²¡æœ‰å†…ç½®åˆ é™¤å‡½æ•°ï¼Œéœ€è¦é€šè¿‡åˆ‡ç‰‡æ“ä½œ // 1. åˆ é™¤ç´¢å¼•ä¸º2çš„å…ƒç´  i := 2 s = append(s[:i], s[i+1:]...) fmt.Println(\u0026#34;åˆ é™¤ç´¢å¼•2:\u0026#34;, s) // 2. åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆç±»ä¼¼ C++ vector.pop_backï¼‰ s = s[:len(s)-1] fmt.Println(\u0026#34;åˆ é™¤æœ€å:\u0026#34;, s) // === åˆ‡ç‰‡æ“ä½œï¼ˆSlicingï¼‰=== // è¿™æ˜¯ Go ç‰¹æœ‰çš„ï¼ŒC++ éœ€è¦ç”¨è¿­ä»£å™¨ sub := s[2:5] // è·å–ç´¢å¼• 2-4 çš„å…ƒç´ ï¼ˆå·¦é—­å³å¼€ï¼‰ fmt.Println(\u0026#34;å­åˆ‡ç‰‡[2:5]:\u0026#34;, sub) // === åˆ›å»ºåˆ‡ç‰‡çš„æ–¹å¼ === // 1. ä½¿ç”¨ make åˆ›å»ºæŒ‡å®šé•¿åº¦å’Œå®¹é‡çš„åˆ‡ç‰‡ s3 := make([]int, 5) // é•¿åº¦5ï¼Œå®¹é‡5ï¼Œåˆå§‹å€¼éƒ½æ˜¯0 fmt.Println(\u0026#34;make(len=5):\u0026#34;, s3, \u0026#34;len:\u0026#34;, len(s3), \u0026#34;cap:\u0026#34;, cap(s3)) s4 := make([]int, 3, 10) // é•¿åº¦3ï¼Œå®¹é‡10 fmt.Println(\u0026#34;make(len=3,cap=10):\u0026#34;, s4, \u0026#34;len:\u0026#34;, len(s4), \u0026#34;cap:\u0026#34;, cap(s4)) 2. å¯¹æ•°ç»„åˆ‡ç‰‡åï¼Œæ‰©å®¹åˆ‡ç‰‡è¶…è¿‡åŸæ•°ç»„åä¼šä¸åŸæ•°ç»„æ–­å¼€å…³è” // åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º5çš„æ•°ç»„ arr := [5]int{1, 2, 3, 4, 5} fmt.Printf(\u0026#34;åŸæ•°ç»„: %v, åœ°å€: %p\\n\u0026#34;, arr, \u0026amp;arr) fmt.Printf(\u0026#34;åˆ‡ç‰‡: %v, len=%d, cap=%d\\n\u0026#34;, arr, len(arr), cap(arr)) // å¯¹æ•°ç»„è¿›è¡Œåˆ‡ç‰‡ï¼Œå–å‰3ä¸ªå…ƒç´  slice := arr[0:3] // ç­‰ä»·ä¸ [:3] fmt.Printf(\u0026#34;\\n--- åˆå§‹åˆ‡ç‰‡ ---\\n\u0026#34;) fmt.Printf(\u0026#34;åˆ‡ç‰‡: %v, len=%d, cap=%d\\n\u0026#34;, slice, len(slice), cap(slice)) fmt.Printf(\u0026#34;åˆ‡ç‰‡ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\\n\u0026#34;, \u0026amp;slice[0]) fmt.Printf(\u0026#34;åŸæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\\n\u0026#34;, \u0026amp;arr[0]) fmt.Println(\u0026#34;æ­¤æ—¶åˆ‡ç‰‡å’ŒåŸæ•°ç»„å…±äº«åº•å±‚æ•°ç»„:\u0026#34;, \u0026amp;slice[0] == \u0026amp;arr[0]) // ä¿®æ”¹åˆ‡ç‰‡ä¼šå½±å“åŸæ•°ç»„ slice[0] = 100 fmt.Printf(\u0026#34;\\n--- ä¿®æ”¹ slice[0] = 100 ---\\n\u0026#34;) fmt.Printf(\u0026#34;åˆ‡ç‰‡: %v\\n\u0026#34;, slice) fmt.Printf(\u0026#34;åŸæ•°ç»„: %v (åŸæ•°ç»„ä¹Ÿè¢«ä¿®æ”¹äº†)\\n\u0026#34;, arr) // åœ¨å®¹é‡èŒƒå›´å†…appendï¼Œä»ç„¶ä½¿ç”¨åŸæ•°ç»„ fmt.Printf(\u0026#34;\\n--- åœ¨å®¹é‡èŒƒå›´å†… append ---\\n\u0026#34;) fmt.Printf(\u0026#34;å½“å‰ len=%d, cap=%d, è¿˜å¯ä»¥åœ¨åŸæ•°ç»„ä¸Šè¿½åŠ  %d ä¸ªå…ƒç´ \\n\u0026#34;, len(slice), cap(slice), cap(slice)-len(slice)) slice = append(slice, 6) fmt.Printf(\u0026#34;append(slice, 6) å: %v, len=%d, cap=%d\\n\u0026#34;, slice, len(slice), cap(slice)) fmt.Printf(\u0026#34;åˆ‡ç‰‡ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\\n\u0026#34;, \u0026amp;slice[0]) fmt.Println(\u0026#34;ä»ç„¶å…±äº«åº•å±‚æ•°ç»„:\u0026#34;, \u0026amp;slice[0] == \u0026amp;arr[0]) fmt.Printf(\u0026#34;åŸæ•°ç»„: %v (arr[3] è¢«è¦†ç›–äº†)\\n\u0026#34;, arr) slice = append(slice, 7) fmt.Printf(\u0026#34;append(slice, 7) å: %v, len=%d, cap=%d\\n\u0026#34;, slice, len(slice), cap(slice)) fmt.Printf(\u0026#34;åŸæ•°ç»„: %v (arr[4] è¢«è¦†ç›–äº†)\\n\u0026#34;, arr) // è¶…è¿‡å®¹é‡ï¼Œè§¦å‘æ‰©å®¹ï¼Œä½¿ç”¨æ–°çš„åº•å±‚æ•°ç»„ fmt.Printf(\u0026#34;\\n--- è¶…è¿‡å®¹é‡ï¼Œè§¦å‘æ‰©å®¹ ---\\n\u0026#34;) fmt.Printf(\u0026#34;å½“å‰ len=%d, cap=%d, ç»§ç»­ append å°†è¶…è¿‡å®¹é‡\\n\u0026#34;, len(slice), cap(slice)) oldAddr := \u0026amp;slice[0] slice = append(slice, 8) newAddr := \u0026amp;slice[0] fmt.Printf(\u0026#34;append(slice, 8) å: %v, len=%d, cap=%d\\n\u0026#34;, slice, len(slice), cap(slice)) fmt.Printf(\u0026#34;æ‰©å®¹å‰ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\\n\u0026#34;, oldAddr) fmt.Printf(\u0026#34;æ‰©å®¹åç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\\n\u0026#34;, newAddr) fmt.Println(\u0026#34;åœ°å€å‘ç”Ÿå˜åŒ–ï¼Œä½¿ç”¨äº†æ–°çš„åº•å±‚æ•°ç»„:\u0026#34;, oldAddr != newAddr) // ç°åœ¨ä¿®æ”¹åˆ‡ç‰‡ä¸ä¼šå½±å“åŸæ•°ç»„ fmt.Printf(\u0026#34;\\n--- éªŒè¯åˆ‡ç‰‡å·²ä¸åŸæ•°ç»„åˆ†ç¦» ---\\n\u0026#34;) slice[0] = 999 fmt.Printf(\u0026#34;ä¿®æ”¹ slice[0] = 999\\n\u0026#34;) fmt.Printf(\u0026#34;åˆ‡ç‰‡: %v\\n\u0026#34;, slice) fmt.Printf(\u0026#34;åŸæ•°ç»„: %v (åŸæ•°ç»„ä¸å—å½±å“)\\n\u0026#34;, arr) 3. åˆ‡ç‰‡çš„é›¶å€¼ï¼ˆé»˜è®¤å€¼ï¼‰æ˜¯ nil var s []int fmt.Println(s, len(s), cap(s)) if s == nil { fmt.Println(\u0026#34;nil!\u0026#34;) } map(æ˜ å°„ï¼‰ åŸºäºhashè¡¨å®ç°ï¼šï¼ˆGo1.19åŠä»¥åå“ˆå¸Œå†²çªè§£å†³ä¸»è¦é‡‡ç”¨æ‹‰é“¾æ³•ï¼ˆæ•°ç»„+é“¾è¡¨/çº¢é»‘æ ‘ï¼‰ï¼‰ æ— åºï¼šæ¯æ¬¡éå†å…ƒç´ çš„é¡ºåºå¯èƒ½ä¸åŒ æŸ¥æ‰¾æ•ˆç‡é«˜ï¼šæŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º$O(1)$ ï¼Œ æœ€åçš„æƒ…å†µä¸‹é€€åŒ–åˆ°$O(n)$ keyå¿…é¡»å”¯ä¸€ï¼š åŒä¸€ä¸ªé”®å¤šæ¬¡èµ‹å€¼ï¼Œåè€…è¦†ç›–å‰è€… keyå¿…é¡»å¯æ¯”è¾ƒ é›¶å€¼(nil)ï¼šå¯è¯»ä½†ä¸å¯å†™ï¼ˆä¼šå¼•å‘panicï¼‰ æ‰©å®¹ï¼šæå‰æŒ‡å®šé¢„ä¼°åˆå§‹å®¹é‡å¯ä»¥å‡å°‘æ‰©å®¹å¸¦æ¥çš„æ€§èƒ½æŸè€— make(map[KeyType]ValueType, initialCappacity) éå¹¶å‘å®‰å…¨ï¼šå¤šä¸ªgoroutine å¹¶å‘å¯¹åŒä¸€ä¸ªmapè¯»å†™ä¼šå¯¼è‡´panic map çš„å®šä¹‰ã€åˆå§‹åŒ–ã€ä»¥åŠå¢åˆ æŸ¥æ”¹ package main import \u0026#34;fmt\u0026#34; func main() { fmt.Println(\u0026#34;=== Go Map åŸºç¡€æ•™ç¨‹ ===\\n\u0026#34;) // 1. åˆ›å»º map çš„å‡ ç§æ–¹å¼ // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: scores := make(map[string]int) // C++: std::unordered_map\u0026lt;std::string, int\u0026gt; scores; // // ä¸»è¦å·®å¼‚ï¼š // - Go ä½¿ç”¨ make() å‡½æ•°æˆ–å­—é¢é‡è¯­æ³•ï¼Œè¯­æ³•æ›´ç®€æ´ // - C++ éœ€è¦æ¨¡æ¿å‚æ•° \u0026lt;Key, Value\u0026gt; // - Go çš„ map æ˜¯å¼•ç”¨ç±»å‹ï¼ŒC++ çš„ unordered_map æ˜¯å€¼ç±»å‹ // - Go å¯ä»¥é¢„åˆ†é…å®¹é‡ï¼šmake(map[string]int, 100) // - C++ ä½¿ç”¨ reserve(): scores.reserve(100) fmt.Println(\u0026#34;1. åˆ›å»º map:\u0026#34;) // æ–¹å¼1: ä½¿ç”¨ make åˆ›å»º scores := make(map[string]int) fmt.Printf(\u0026#34;ç©º map: %v\\n\u0026#34;, scores) // æ–¹å¼2: å­—é¢é‡åˆå§‹åŒ– // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: ages := map[string]int{\u0026#34;å¼ ä¸‰\u0026#34;: 25, \u0026#34;æå››\u0026#34;: 30} // C++: std::unordered_map\u0026lt;std::string, int\u0026gt; ages = {{\u0026#34;å¼ ä¸‰\u0026#34;, 25}, {\u0026#34;æå››\u0026#34;, 30}}; // C++ ä½¿ç”¨åŒå±‚å¤§æ‹¬å·ï¼ŒGo ä½¿ç”¨å†’å·åˆ†éš”é”®å€¼ ages := map[string]int{ \u0026#34;å¼ ä¸‰\u0026#34;: 25, \u0026#34;æå››\u0026#34;: 30, \u0026#34;ç‹äº”\u0026#34;: 28, } fmt.Printf(\u0026#34;åˆå§‹åŒ–çš„ map: %v\\n\\n\u0026#34;, ages) // 2. å¢åŠ å…ƒç´ ï¼ˆç›´æ¥èµ‹å€¼ï¼‰ // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: scores[\u0026#34;æ•°å­¦\u0026#34;] = 95 // C++: scores[\u0026#34;æ•°å­¦\u0026#34;] = 95; æˆ– scores.insert({\u0026#34;æ•°å­¦\u0026#34;, 95}); // // ä¸»è¦å·®å¼‚ï¼š // - ä¸¤è€…è¯­æ³•ç±»ä¼¼ï¼Œéƒ½æ”¯æŒ [] æ“ä½œç¬¦ç›´æ¥èµ‹å€¼ // - C++ è¿˜æœ‰ insert(), emplace() ç­‰æ–¹æ³• // - Go çš„ [] æ“ä½œç¬¦ä¼šè‡ªåŠ¨å¤„ç†å¢åŠ å’Œä¿®æ”¹ // - C++ çš„ insert() å¦‚æœé”®å·²å­˜åœ¨åˆ™ä¸ä¼šè¦†ç›–ï¼Œ[] ä¼šè¦†ç›– fmt.Println(\u0026#34;2. å¢åŠ å…ƒç´ :\u0026#34;) scores[\u0026#34;æ•°å­¦\u0026#34;] = 95 scores[\u0026#34;è¯­æ–‡\u0026#34;] = 88 scores[\u0026#34;è‹±è¯­\u0026#34;] = 92 fmt.Printf(\u0026#34;æ·»åŠ å: %v\\n\\n\u0026#34;, scores) // 3. æŸ¥è¯¢å…ƒç´  // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: value := scores[\u0026#34;æ•°å­¦\u0026#34;] // C++: int value = scores[\u0026#34;æ•°å­¦\u0026#34;]; // ä¸å­˜åœ¨ä¼šæ’å…¥é»˜è®¤å€¼ // int value = scores.at(\u0026#34;æ•°å­¦\u0026#34;); // ä¸å­˜åœ¨ä¼šæŠ›å¼‚å¸¸ // // ä¸»è¦å·®å¼‚ï¼š // - Go çš„ [] è®¿é—®ä¸å­˜åœ¨çš„é”®è¿”å›é›¶å€¼ï¼ˆ0, \u0026#34;\u0026#34;, nil ç­‰ï¼‰ï¼Œä¸ä¼šæŠ¥é”™ // - C++ çš„ [] è®¿é—®ä¸å­˜åœ¨çš„é”®ä¼šæ’å…¥è¯¥é”®å¹¶è¿”å›é»˜è®¤å€¼ // - C++ çš„ at() è®¿é—®ä¸å­˜åœ¨çš„é”®ä¼šæŠ›å‡º std::out_of_range å¼‚å¸¸ // - Go ä½¿ç”¨ value, ok := map[key] æ¥æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ // - C++ ä½¿ç”¨ find() è¿”å›è¿­ä»£å™¨ï¼Œæˆ– contains() (C++20) fmt.Println(\u0026#34;3. æŸ¥è¯¢å…ƒç´ :\u0026#34;) // ç›´æ¥è®¿é—® mathScore := scores[\u0026#34;æ•°å­¦\u0026#34;] fmt.Printf(\u0026#34;æ•°å­¦æˆç»©: %d\\n\u0026#34;, mathScore) // å®‰å…¨æŸ¥è¯¢ï¼ˆæ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ï¼‰ // Go ç‰¹æœ‰çš„è¯­æ³•ï¼šè¿”å›å€¼å’Œå­˜åœ¨æ ‡å¿— // C++ ç­‰ä»·: auto it = scores.find(\u0026#34;è¯­æ–‡\u0026#34;); if (it != scores.end()) { ... } chineseScore, exists := scores[\u0026#34;è¯­æ–‡\u0026#34;] if exists { fmt.Printf(\u0026#34;è¯­æ–‡æˆç»©: %d (å­˜åœ¨)\\n\u0026#34;, chineseScore) } // æŸ¥è¯¢ä¸å­˜åœ¨çš„é”® physicsScore, exists := scores[\u0026#34;ç‰©ç†\u0026#34;] if !exists { fmt.Printf(\u0026#34;ç‰©ç†æˆç»©ä¸å­˜åœ¨ï¼Œè¿”å›é›¶å€¼: %d\\n\\n\u0026#34;, physicsScore) } // 4. ä¿®æ”¹å…ƒç´  // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go å’Œ C++ åœ¨ä¿®æ”¹å…ƒç´ æ—¶è¯­æ³•å®Œå…¨ä¸€è‡´ // Go: scores[\u0026#34;æ•°å­¦\u0026#34;] = 98 // C++: scores[\u0026#34;æ•°å­¦\u0026#34;] = 98; // // æ³¨æ„ï¼šGo çš„ [] æ“ä½œç¬¦ä¸åŒºåˆ†å¢åŠ å’Œä¿®æ”¹ï¼Œç»Ÿä¸€ä½¿ç”¨èµ‹å€¼è¯­æ³• fmt.Println(\u0026#34;4. ä¿®æ”¹å…ƒç´ :\u0026#34;) fmt.Printf(\u0026#34;ä¿®æ”¹å‰æ•°å­¦æˆç»©: %d\\n\u0026#34;, scores[\u0026#34;æ•°å­¦\u0026#34;]) scores[\u0026#34;æ•°å­¦\u0026#34;] = 98 fmt.Printf(\u0026#34;ä¿®æ”¹åæ•°å­¦æˆç»©: %d\\n\\n\u0026#34;, scores[\u0026#34;æ•°å­¦\u0026#34;]) // 5. åˆ é™¤å…ƒç´  // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: delete(scores, \u0026#34;è‹±è¯­\u0026#34;) // C++: scores.erase(\u0026#34;è‹±è¯­\u0026#34;); // // ä¸»è¦å·®å¼‚ï¼š // - Go ä½¿ç”¨å†…ç½®å‡½æ•° delete(map, key)ï¼Œæ— è¿”å›å€¼ // - C++ ä½¿ç”¨æˆå‘˜æ–¹æ³• erase(key)ï¼Œè¿”å›åˆ é™¤çš„å…ƒç´ ä¸ªæ•° // - ä¸¤è€…åˆ é™¤ä¸å­˜åœ¨çš„é”®éƒ½ä¸ä¼šæŠ¥é”™/panic // - C++ è¿˜æ”¯æŒé€šè¿‡è¿­ä»£å™¨åˆ é™¤: scores.erase(it); fmt.Println(\u0026#34;5. åˆ é™¤å…ƒç´ :\u0026#34;) fmt.Printf(\u0026#34;åˆ é™¤å‰: %v\\n\u0026#34;, scores) delete(scores, \u0026#34;è‹±è¯­\u0026#34;) fmt.Printf(\u0026#34;åˆ é™¤è‹±è¯­å: %v\\n\u0026#34;, scores) // åˆ é™¤ä¸å­˜åœ¨çš„é”®ä¸ä¼šæŠ¥é”™ delete(scores, \u0026#34;ä¸å­˜åœ¨çš„ç§‘ç›®\u0026#34;) fmt.Printf(\u0026#34;åˆ é™¤ä¸å­˜åœ¨çš„é”®å: %v\\n\\n\u0026#34;, scores) // 6. è·å– map é•¿åº¦ // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: len(scores) // C++: scores.size() // // ä¸»è¦å·®å¼‚ï¼š // - Go ä½¿ç”¨å†…ç½®å‡½æ•° len()ï¼Œé€‚ç”¨äºæ‰€æœ‰é›†åˆç±»å‹ // - C++ ä½¿ç”¨æˆå‘˜æ–¹æ³• size() // - C++ è¿˜æœ‰ empty() æ–¹æ³•æ£€æŸ¥æ˜¯å¦ä¸ºç©º // - Go å¯ä»¥ç›´æ¥ç”¨ len(map) == 0 æ£€æŸ¥ fmt.Println(\u0026#34;6. è·å–é•¿åº¦:\u0026#34;) fmt.Printf(\u0026#34;scores çš„é•¿åº¦: %d\\n\u0026#34;, len(scores)) fmt.Printf(\u0026#34;ages çš„é•¿åº¦: %d\\n\\n\u0026#34;, len(ages)) // 7. éå† map // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: for key, value := range scores { ... } // C++: for (const auto\u0026amp; [key, value] : scores) { ... } // C++17 ç»“æ„åŒ–ç»‘å®š // for (auto it = scores.begin(); it != scores.end(); ++it) { ... } // // ä¸»è¦å·®å¼‚ï¼š // - Go ä½¿ç”¨ range å…³é”®å­—ï¼Œè¯­æ³•æ›´ç®€æ´ // - C++ å¯ä»¥ä½¿ç”¨ç»“æ„åŒ–ç»‘å®šï¼ˆC++17ï¼‰æˆ–è¿­ä»£å™¨ // - ä¸¤è€…éå†é¡ºåºéƒ½æ˜¯ä¸ç¡®å®šçš„ï¼ˆunorderedï¼‰ // - Go æ¯æ¬¡è¿è¡Œéå†é¡ºåºå¯èƒ½ä¸åŒï¼ˆæ•…æ„éšæœºåŒ–ï¼‰ // - C++ çš„é¡ºåºå–å†³äºå“ˆå¸Œå®ç°ï¼Œä½†åŒä¸€æ¬¡è¿è¡Œä¸­ç¨³å®š fmt.Println(\u0026#34;7. éå† map:\u0026#34;) fmt.Println(\u0026#34;éå† scores:\u0026#34;) for subject, score := range scores { fmt.Printf(\u0026#34; %s: %d\\n\u0026#34;, subject, score) } fmt.Println(\u0026#34;\\néå† ages:\u0026#34;) for name, age := range ages { fmt.Printf(\u0026#34; %s: %d å²\\n\u0026#34;, name, age) } fmt.Println() // 8. åªéå†é”®æˆ–å€¼ // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go åªéå†é”®: for key := range scores { ... } // Go åªéå†å€¼: for _, value := range scores { ... } // // C++ åªéå†é”®: for (const auto\u0026amp; [key, _] : scores) { ... } // C++ åªéå†å€¼: for (const auto\u0026amp; [_, value] : scores) { ... } // // ä¸»è¦å·®å¼‚ï¼š // - Go ä½¿ç”¨ _ å¿½ç•¥ä¸éœ€è¦çš„å€¼ï¼Œè¯­æ³•æ›´æ¸…æ™° // - C++ ä¹Ÿå¯ä»¥ç”¨ [[maybe_unused]] æˆ–ç›´æ¥ä¸ä½¿ç”¨å˜é‡ // - Go çœç•¥ç¬¬äºŒä¸ªå˜é‡å°±åªéå†é”® // - C++ éœ€è¦å®Œæ•´çš„ç»“æ„åŒ–ç»‘å®šè¯­æ³• fmt.Println(\u0026#34;8. åªéå†é”®æˆ–å€¼:\u0026#34;) fmt.Print(\u0026#34;æ‰€æœ‰ç§‘ç›®: \u0026#34;) for subject := range scores { fmt.Printf(\u0026#34;%s \u0026#34;, subject) } fmt.Println() fmt.Print(\u0026#34;æ‰€æœ‰åˆ†æ•°: \u0026#34;) for _, score := range scores { fmt.Printf(\u0026#34;%d \u0026#34;, score) } fmt.Println(\u0026#34;\\n\u0026#34;) // 9. æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: if _, ok := scores[\u0026#34;æ•°å­¦\u0026#34;]; ok { ... } // C++: if (scores.find(\u0026#34;æ•°å­¦\u0026#34;) != scores.end()) { ... } // if (scores.contains(\u0026#34;æ•°å­¦\u0026#34;)) { ... } // C++20 // if (scores.count(\u0026#34;æ•°å­¦\u0026#34;) \u0026gt; 0) { ... } // æ—§æ–¹å¼ // // ä¸»è¦å·®å¼‚ï¼š // - Go ä½¿ç”¨é€—å·okæƒ¯ç”¨æ³• (comma ok idiom)ï¼Œè¿”å›å€¼å’Œå¸ƒå°”æ ‡å¿— // - C++ ä½¿ç”¨ find() è¿”å›è¿­ä»£å™¨ï¼Œéœ€è¦ä¸ end() æ¯”è¾ƒ // - C++20 æ–°å¢ contains() æ–¹æ³•ï¼Œè¿”å› boolï¼Œæ›´æ¥è¿‘ Go çš„è¯­ä¹‰ // - Go çš„æ–¹å¼æ›´ç®€æ´ï¼Œä¸€è¡Œä»£ç åŒæ—¶è·å–å€¼å’Œæ£€æŸ¥å­˜åœ¨æ€§ // - C++ çš„ count() å¯¹äº unordered_map åªè¿”å› 0 æˆ– 1 fmt.Println(\u0026#34;9. æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨:\u0026#34;) if _, ok := scores[\u0026#34;æ•°å­¦\u0026#34;]; ok { fmt.Println(\u0026#34;æ•°å­¦æˆç»©å­˜åœ¨\u0026#34;) } if _, ok := scores[\u0026#34;ç‰©ç†\u0026#34;]; !ok { fmt.Println(\u0026#34;ç‰©ç†æˆç»©ä¸å­˜åœ¨\u0026#34;) } fmt.Println() // 10. map çš„é›¶å€¼å’Œæ¸…ç©º // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: var emptyMap map[string]int // nil map // C++: std::unordered_map\u0026lt;std::string, int\u0026gt; emptyMap; // ç©º mapï¼Œä¸æ˜¯ null // // ä¸»è¦å·®å¼‚ï¼š // - Go çš„ map é›¶å€¼æ˜¯ nilï¼Œå¯ä»¥è¯»å–ä½†ä¸èƒ½å†™å…¥ï¼ˆä¼š panicï¼‰ // - C++ çš„ unordered_map æ²¡æœ‰ null æ¦‚å¿µï¼Œå£°æ˜å³å¯ç”¨ // - Go éœ€è¦æ˜¾å¼åˆå§‹åŒ–æ‰èƒ½å†™å…¥: make(map[K]V) æˆ–å­—é¢é‡ // - C++ çš„é»˜è®¤æ„é€ å‡½æ•°è‡ªåŠ¨åˆ›å»ºå¯ç”¨çš„ç©º map // // æ¸…ç©ºæ“ä½œï¼š // Go: myMap = make(map[string]int) // é‡æ–°åˆ†é… // æˆ–éå†åˆ é™¤: for k := range myMap { delete(myMap, k) } // C++: myMap.clear(); // æœ‰ä¸“é—¨çš„æ¸…ç©ºæ–¹æ³• fmt.Println(\u0026#34;10. map çš„é›¶å€¼:\u0026#34;) var emptyMap map[string]int fmt.Printf(\u0026#34;æœªåˆå§‹åŒ–çš„ map: %v (nil: %v)\\n\u0026#34;, emptyMap, emptyMap == nil) // æ³¨æ„ï¼šnil map å¯ä»¥è¯»å–ï¼Œä½†ä¸èƒ½å†™å…¥ // emptyMap[\u0026#34;key\u0026#34;] = 1 // è¿™ä¼š panic // æ¸…ç©º mapï¼ˆé‡æ–°èµ‹å€¼ï¼‰ scores = make(map[string]int) fmt.Printf(\u0026#34;æ¸…ç©ºåçš„ map: %v\\n\\n\u0026#34;, scores) // 11. å¤æ‚ç±»å‹ä½œä¸ºå€¼ // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: map[int]Student // C++: std::unordered_map\u0026lt;int, Student\u0026gt; // // ä¸»è¦å·®å¼‚ï¼š // - Go çš„ç»“æ„ä½“ä½œä¸ºå€¼æ—¶æ˜¯å€¼æ‹·è´ï¼Œä¿®æ”¹éœ€è¦é‡æ–°èµ‹å€¼æ•´ä¸ªç»“æ„ä½“ // ä¾‹å¦‚: s := students[1001]; s.Age = 20; students[1001] = s // - C++ ä¹Ÿæ˜¯å€¼æ‹·è´ï¼Œä½†å¯ä»¥é€šè¿‡å¼•ç”¨ä¿®æ”¹: students[1001].Age = 20; // - Go å¦‚æœéœ€è¦ä¿®æ”¹ï¼Œå»ºè®®ä½¿ç”¨æŒ‡é’ˆ: map[int]*Student // - C++ å¯ä»¥ç”¨ emplace() åŸåœ°æ„é€ ï¼Œé¿å…æ‹·è´ // // æ³¨æ„ï¼šGo ä¸èƒ½ç›´æ¥ä¿®æ”¹ map ä¸­ç»“æ„ä½“çš„å­—æ®µ // students[1001].Age = 20 // ç¼–è¯‘é”™è¯¯ï¼ fmt.Println(\u0026#34;11. å¤æ‚ç±»å‹çš„ map:\u0026#34;) // map çš„å€¼å¯ä»¥æ˜¯ç»“æ„ä½“ type Student struct { Name string Age int Grade int } students := map[int]Student{ 1001: {\u0026#34;å¼ ä¸‰\u0026#34;, 18, 90}, 1002: {\u0026#34;æå››\u0026#34;, 19, 85}, } fmt.Printf(\u0026#34;å­¦ç”Ÿä¿¡æ¯: %v\\n\u0026#34;, students) fmt.Printf(\u0026#34;å­¦å· 1001: %v\\n\\n\u0026#34;, students[1001]) // 12. map åµŒå¥— // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: map[string]map[string]int // C++: std::unordered_map\u0026lt;std::string, std::unordered_map\u0026lt;std::string, int\u0026gt;\u0026gt; // // ä¸»è¦å·®å¼‚ï¼š // - è¯­æ³•ç±»ä¼¼ï¼Œä½† C++ çš„æ¨¡æ¿åµŒå¥—æ›´å†—é•¿ // - Go åˆå§‹åŒ–å†…å±‚ map æ—¶è¯­æ³•æ›´ç®€æ´ // - æ³¨æ„ï¼šè®¿é—®ä¸å­˜åœ¨çš„å¤–å±‚é”®æ—¶ï¼ŒGo è¿”å› nil mapï¼Œè®¿é—®ä¼š panic // å»ºè®®å…ˆæ£€æŸ¥: if inner, ok := outer[\u0026#34;key\u0026#34;]; ok { ... } // - C++ çš„ [] ä¼šè‡ªåŠ¨åˆ›å»ºä¸å­˜åœ¨çš„é”® fmt.Println(\u0026#34;12. map åµŒå¥—:\u0026#34;) classScores := map[string]map[string]int{ \u0026#34;ä¸€ç­\u0026#34;: { \u0026#34;å¼ ä¸‰\u0026#34;: 90, \u0026#34;æå››\u0026#34;: 85, }, \u0026#34;äºŒç­\u0026#34;: { \u0026#34;ç‹äº”\u0026#34;: 92, \u0026#34;èµµå…­\u0026#34;: 88, }, } fmt.Printf(\u0026#34;ç­çº§æˆç»©: %v\\n\u0026#34;, classScores) fmt.Printf(\u0026#34;ä¸€ç­å¼ ä¸‰çš„æˆç»©: %d\\n\u0026#34;, classScores[\u0026#34;ä¸€ç­\u0026#34;][\u0026#34;å¼ ä¸‰\u0026#34;]) // ======================================== // ã€Go map vs C++ unordered_map æ€»ç»“å¯¹æ¯”ã€‘ // ======================================== // // 1. ç±»å‹ç³»ç»Ÿï¼š // - Go: map æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¼ é€’æ—¶ä¸æ‹·è´æ•°æ® // - C++: unordered_map æ˜¯å€¼ç±»å‹ï¼Œä¼ é€’æ—¶æ‹·è´ï¼ˆå¯ç”¨å¼•ç”¨ä¼˜åŒ–ï¼‰ // // 2. çº¿ç¨‹å®‰å…¨ï¼š // - Go: map ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œéœ€è¦ sync.Mutex æˆ– sync.Map // - C++: unordered_map ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œéœ€è¦è‡ªè¡ŒåŠ é” // // 3. é”®çš„è¦æ±‚ï¼š // - Go: é”®å¿…é¡»æ˜¯å¯æ¯”è¾ƒç±»å‹ï¼ˆæ”¯æŒ ==ï¼‰ï¼Œä¸èƒ½æ˜¯ sliceã€mapã€function // - C++: é”®å¿…é¡»æœ‰ hash å‡½æ•°å’Œ == è¿ç®—ç¬¦ // // 4. æ€§èƒ½ç‰¹ç‚¹ï¼š // - Go: å“ˆå¸Œè¡¨å®ç°ï¼Œå¹³å‡ O(1)ï¼Œè‡ªåŠ¨æ‰©å®¹ // - C++: å“ˆå¸Œè¡¨å®ç°ï¼Œå¹³å‡ O(1)ï¼Œå¯ä»¥è‡ªå®šä¹‰ hash å’Œ load factor // // 5. å†…å­˜ç®¡ç†ï¼š // - Go: è‡ªåŠ¨åƒåœ¾å›æ”¶ï¼Œåˆ é™¤å…ƒç´ ä¸ä¸€å®šç«‹å³é‡Šæ”¾å†…å­˜ // - C++: æ‰‹åŠ¨ç®¡ç†ï¼ˆRAIIï¼‰ï¼Œåˆ é™¤å…ƒç´ ç«‹å³é‡Šæ”¾å†…å­˜ // // 6. è¿­ä»£é¡ºåºï¼š // - Go: æ•…æ„éšæœºåŒ–ï¼Œæ¯æ¬¡è¿è¡Œå¯èƒ½ä¸åŒ // - C++: ä¸ç¡®å®šä½†åŒä¸€æ¬¡è¿è¡Œä¸­ç›¸å¯¹ç¨³å®š // // 7. é›¶å€¼/ç©ºå€¼ï¼š // - Go: nil map å¯è¯»ä¸å¯å†™ï¼Œéœ€è¦å…ˆ make // - C++: é»˜è®¤æ„é€ å³å¯ç”¨ï¼Œæ—  null æ¦‚å¿µ // // 8. å¸¸ç”¨æ“ä½œå¯¹æ¯”è¡¨ï¼š // â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” // â”‚ æ“ä½œ â”‚ Go â”‚ C++ â”‚ // â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ // â”‚ åˆ›å»º â”‚ make(map[K]V) â”‚ unordered_map\u0026lt;K,V\u0026gt; m; â”‚ // â”‚ æ·»åŠ /ä¿®æ”¹ â”‚ m[k] = v â”‚ m[k] = v; â”‚ // â”‚ æŸ¥è¯¢ â”‚ v := m[k] â”‚ v = m[k]; â”‚ // â”‚ å®‰å…¨æŸ¥è¯¢ â”‚ v, ok := m[k] â”‚ auto it = m.find(k); â”‚ // â”‚ å­˜åœ¨æ€§æ£€æŸ¥ â”‚ _, ok := m[k] â”‚ m.contains(k) // C++20 â”‚ // â”‚ åˆ é™¤ â”‚ delete(m, k) â”‚ m.erase(k); â”‚ // â”‚ é•¿åº¦ â”‚ len(m) â”‚ m.size() â”‚ // â”‚ æ¸…ç©º â”‚ m = make(map[K]V) â”‚ m.clear(); â”‚ // â”‚ éå† â”‚ for k, v := range m {...}â”‚ for(auto\u0026amp; [k,v]:m){...} â”‚ // â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ // // 9. ä½•æ—¶é€‰æ‹©ï¼š // - Go map: ç®€æ´æ˜“ç”¨ï¼Œé€‚åˆå¤§å¤šæ•°åœºæ™¯ï¼Œéœ€è¦åƒåœ¾å›æ”¶çš„é¡¹ç›® // - C++ unordered_map: éœ€è¦æ›´ç²¾ç»†çš„å†…å­˜æ§åˆ¶ï¼Œæ€§èƒ½å…³é”®è·¯å¾„ // // 10. å®ç”¨å»ºè®®ï¼š // Go: // - æ€»æ˜¯æ£€æŸ¥ nil map å†å†™å…¥ // - ä½¿ç”¨ comma-ok æƒ¯ç”¨æ³•æ£€æŸ¥é”®å­˜åœ¨æ€§ // - éœ€è¦å¹¶å‘è®¿é—®æ—¶ä½¿ç”¨ sync.Map æˆ–åŠ é” // - å¦‚æœéœ€è¦æœ‰åºéå†ï¼Œè€ƒè™‘å…ˆæ’åºé”® // // C++: // - ä¼ é€’ map æ—¶ä½¿ç”¨ const\u0026amp; é¿å…æ‹·è´ // - ä½¿ç”¨ emplace() åŸåœ°æ„é€ æé«˜æ€§èƒ½ // - éœ€è¦æœ‰åºéå†ä½¿ç”¨ std::map è€Œä¸æ˜¯ unordered_map // - C++20 ä¼˜å…ˆä½¿ç”¨ contains() è€Œä¸æ˜¯ find() fmt.Println(\u0026#34;\\n=== æ•™ç¨‹ç»“æŸ ===\u0026#34;) } ","keywords":["golang"],"articleBody":" tour.golang.org\næ•°ç»„ var æ•°ç»„å [æ•°ç»„é•¿åº¦] æ•°ç»„ç±»å‹\npackage main import \"fmt\" func main() { var a [2]string // c++: string a[2]; a[0] = \"Hello\" a[1] = \"World\" fmt.Println(a[0], a[1]) fmt.Println(a) primes := [6]int{2, 3, 5, 7, 11, 13} fmt.Println(primes) } slice(åˆ‡ç‰‡) ğŸ’¡ ç±»ä¼¼c++ä¸­çš„std::vector æ”¯æŒåŠ¨æ€æ‰©å®¹,ä¸”æœ¬è´¨æ˜¯ä¸€ä¸ªç»“æ„ä½“ è®°å½•äº†æŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆã€é•¿åº¦ã€å®¹é‡ {arr_point,len,cap}\n1. åˆ‡ç‰‡ä¸æ•°ç»„çš„åŒºåˆ«ã€åˆ‡ç‰‡çš„å¢åˆ æŸ¥æ”¹ // æ•°ç»„ ç›´æ¥å­˜å‚¨3ä¸ªintå€¼ é•¿åº¦ä¸å¯å˜,æ•°æ®åœ¨æ ˆä¸Š var arr [3]int = [3]int{1, 2, 3} fmt.Println(arr) // åˆ‡ç‰‡ så®é™…ä¸Šæ˜¯ä¸€ä¸ªç»“æ„ä½“{arr_point,len,cap} ç±»ä¼¼c++ std::vector æ”¯æŒåŠ¨æ€æ‰©å®¹ s := []int{1, 2, 3} fmt.Println(\"åŸå§‹åˆ‡ç‰‡:\", s, \"len:\", len(s), \"cap:\", cap(s)) // === å¢ï¼ˆAppendï¼‰=== // 1. è¿½åŠ å•ä¸ªå…ƒç´ ï¼ˆç±»ä¼¼ C++ vector.push_backï¼‰ s = append(s, 17) fmt.Println(\"è¿½åŠ 17:\", s) // 2. è¿½åŠ å¤šä¸ªå…ƒç´  s = append(s, 19, 23, 29) fmt.Println(\"è¿½åŠ å¤šä¸ª:\", s) // 3. è¿½åŠ å¦ä¸€ä¸ªåˆ‡ç‰‡ï¼ˆéœ€è¦ ... å±•å¼€ï¼‰ s2 := []int{31, 37} s = append(s, s2...) fmt.Println(\"è¿½åŠ åˆ‡ç‰‡:\", s) // === æŸ¥ï¼ˆAccessï¼‰=== // ç›´æ¥é€šè¿‡ç´¢å¼•è®¿é—®ï¼ŒO(1) æ—¶é—´å¤æ‚åº¦ fmt.Println(\"ç´¢å¼•3çš„å…ƒç´ :\", s[3]) // === æ”¹ï¼ˆModifyï¼‰=== // ç›´æ¥é€šè¿‡ç´¢å¼•ä¿®æ”¹ s[0] = 100 fmt.Println(\"ä¿®æ”¹ç´¢å¼•0:\", s) // === åˆ ï¼ˆDeleteï¼‰=== // Go æ²¡æœ‰å†…ç½®åˆ é™¤å‡½æ•°ï¼Œéœ€è¦é€šè¿‡åˆ‡ç‰‡æ“ä½œ // 1. åˆ é™¤ç´¢å¼•ä¸º2çš„å…ƒç´  i := 2 s = append(s[:i], s[i+1:]...) fmt.Println(\"åˆ é™¤ç´¢å¼•2:\", s) // 2. åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆç±»ä¼¼ C++ vector.pop_backï¼‰ s = s[:len(s)-1] fmt.Println(\"åˆ é™¤æœ€å:\", s) // === åˆ‡ç‰‡æ“ä½œï¼ˆSlicingï¼‰=== // è¿™æ˜¯ Go ç‰¹æœ‰çš„ï¼ŒC++ éœ€è¦ç”¨è¿­ä»£å™¨ sub := s[2:5] // è·å–ç´¢å¼• 2-4 çš„å…ƒç´ ï¼ˆå·¦é—­å³å¼€ï¼‰ fmt.Println(\"å­åˆ‡ç‰‡[2:5]:\", sub) // === åˆ›å»ºåˆ‡ç‰‡çš„æ–¹å¼ === // 1. ä½¿ç”¨ make åˆ›å»ºæŒ‡å®šé•¿åº¦å’Œå®¹é‡çš„åˆ‡ç‰‡ s3 := make([]int, 5) // é•¿åº¦5ï¼Œå®¹é‡5ï¼Œåˆå§‹å€¼éƒ½æ˜¯0 fmt.Println(\"make(len=5):\", s3, \"len:\", len(s3), \"cap:\", cap(s3)) s4 := make([]int, 3, 10) // é•¿åº¦3ï¼Œå®¹é‡10 fmt.Println(\"make(len=3,cap=10):\", s4, \"len:\", len(s4), \"cap:\", cap(s4)) 2. å¯¹æ•°ç»„åˆ‡ç‰‡åï¼Œæ‰©å®¹åˆ‡ç‰‡è¶…è¿‡åŸæ•°ç»„åä¼šä¸åŸæ•°ç»„æ–­å¼€å…³è” // åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º5çš„æ•°ç»„ arr := [5]int{1, 2, 3, 4, 5} fmt.Printf(\"åŸæ•°ç»„: %v, åœ°å€: %p\\n\", arr, \u0026arr) fmt.Printf(\"åˆ‡ç‰‡: %v, len=%d, cap=%d\\n\", arr, len(arr), cap(arr)) // å¯¹æ•°ç»„è¿›è¡Œåˆ‡ç‰‡ï¼Œå–å‰3ä¸ªå…ƒç´  slice := arr[0:3] // ç­‰ä»·ä¸ [:3] fmt.Printf(\"\\n--- åˆå§‹åˆ‡ç‰‡ ---\\n\") fmt.Printf(\"åˆ‡ç‰‡: %v, len=%d, cap=%d\\n\", slice, len(slice), cap(slice)) fmt.Printf(\"åˆ‡ç‰‡ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\\n\", \u0026slice[0]) fmt.Printf(\"åŸæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\\n\", \u0026arr[0]) fmt.Println(\"æ­¤æ—¶åˆ‡ç‰‡å’ŒåŸæ•°ç»„å…±äº«åº•å±‚æ•°ç»„:\", \u0026slice[0] == \u0026arr[0]) // ä¿®æ”¹åˆ‡ç‰‡ä¼šå½±å“åŸæ•°ç»„ slice[0] = 100 fmt.Printf(\"\\n--- ä¿®æ”¹ slice[0] = 100 ---\\n\") fmt.Printf(\"åˆ‡ç‰‡: %v\\n\", slice) fmt.Printf(\"åŸæ•°ç»„: %v (åŸæ•°ç»„ä¹Ÿè¢«ä¿®æ”¹äº†)\\n\", arr) // åœ¨å®¹é‡èŒƒå›´å†…appendï¼Œä»ç„¶ä½¿ç”¨åŸæ•°ç»„ fmt.Printf(\"\\n--- åœ¨å®¹é‡èŒƒå›´å†… append ---\\n\") fmt.Printf(\"å½“å‰ len=%d, cap=%d, è¿˜å¯ä»¥åœ¨åŸæ•°ç»„ä¸Šè¿½åŠ  %d ä¸ªå…ƒç´ \\n\", len(slice), cap(slice), cap(slice)-len(slice)) slice = append(slice, 6) fmt.Printf(\"append(slice, 6) å: %v, len=%d, cap=%d\\n\", slice, len(slice), cap(slice)) fmt.Printf(\"åˆ‡ç‰‡ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\\n\", \u0026slice[0]) fmt.Println(\"ä»ç„¶å…±äº«åº•å±‚æ•°ç»„:\", \u0026slice[0] == \u0026arr[0]) fmt.Printf(\"åŸæ•°ç»„: %v (arr[3] è¢«è¦†ç›–äº†)\\n\", arr) slice = append(slice, 7) fmt.Printf(\"append(slice, 7) å: %v, len=%d, cap=%d\\n\", slice, len(slice), cap(slice)) fmt.Printf(\"åŸæ•°ç»„: %v (arr[4] è¢«è¦†ç›–äº†)\\n\", arr) // è¶…è¿‡å®¹é‡ï¼Œè§¦å‘æ‰©å®¹ï¼Œä½¿ç”¨æ–°çš„åº•å±‚æ•°ç»„ fmt.Printf(\"\\n--- è¶…è¿‡å®¹é‡ï¼Œè§¦å‘æ‰©å®¹ ---\\n\") fmt.Printf(\"å½“å‰ len=%d, cap=%d, ç»§ç»­ append å°†è¶…è¿‡å®¹é‡\\n\", len(slice), cap(slice)) oldAddr := \u0026slice[0] slice = append(slice, 8) newAddr := \u0026slice[0] fmt.Printf(\"append(slice, 8) å: %v, len=%d, cap=%d\\n\", slice, len(slice), cap(slice)) fmt.Printf(\"æ‰©å®¹å‰ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\\n\", oldAddr) fmt.Printf(\"æ‰©å®¹åç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\\n\", newAddr) fmt.Println(\"åœ°å€å‘ç”Ÿå˜åŒ–ï¼Œä½¿ç”¨äº†æ–°çš„åº•å±‚æ•°ç»„:\", oldAddr != newAddr) // ç°åœ¨ä¿®æ”¹åˆ‡ç‰‡ä¸ä¼šå½±å“åŸæ•°ç»„ fmt.Printf(\"\\n--- éªŒè¯åˆ‡ç‰‡å·²ä¸åŸæ•°ç»„åˆ†ç¦» ---\\n\") slice[0] = 999 fmt.Printf(\"ä¿®æ”¹ slice[0] = 999\\n\") fmt.Printf(\"åˆ‡ç‰‡: %v\\n\", slice) fmt.Printf(\"åŸæ•°ç»„: %v (åŸæ•°ç»„ä¸å—å½±å“)\\n\", arr) 3. åˆ‡ç‰‡çš„é›¶å€¼ï¼ˆé»˜è®¤å€¼ï¼‰æ˜¯ nil var s []int fmt.Println(s, len(s), cap(s)) if s == nil { fmt.Println(\"nil!\") } map(æ˜ å°„ï¼‰ åŸºäºhashè¡¨å®ç°ï¼šï¼ˆGo1.19åŠä»¥åå“ˆå¸Œå†²çªè§£å†³ä¸»è¦é‡‡ç”¨æ‹‰é“¾æ³•ï¼ˆæ•°ç»„+é“¾è¡¨/çº¢é»‘æ ‘ï¼‰ï¼‰ æ— åºï¼šæ¯æ¬¡éå†å…ƒç´ çš„é¡ºåºå¯èƒ½ä¸åŒ æŸ¥æ‰¾æ•ˆç‡é«˜ï¼šæŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º$O(1)$ ï¼Œ æœ€åçš„æƒ…å†µä¸‹é€€åŒ–åˆ°$O(n)$ keyå¿…é¡»å”¯ä¸€ï¼š åŒä¸€ä¸ªé”®å¤šæ¬¡èµ‹å€¼ï¼Œåè€…è¦†ç›–å‰è€… keyå¿…é¡»å¯æ¯”è¾ƒ é›¶å€¼(nil)ï¼šå¯è¯»ä½†ä¸å¯å†™ï¼ˆä¼šå¼•å‘panicï¼‰ æ‰©å®¹ï¼šæå‰æŒ‡å®šé¢„ä¼°åˆå§‹å®¹é‡å¯ä»¥å‡å°‘æ‰©å®¹å¸¦æ¥çš„æ€§èƒ½æŸè€— make(map[KeyType]ValueType, initialCappacity) éå¹¶å‘å®‰å…¨ï¼šå¤šä¸ªgoroutine å¹¶å‘å¯¹åŒä¸€ä¸ªmapè¯»å†™ä¼šå¯¼è‡´panic map çš„å®šä¹‰ã€åˆå§‹åŒ–ã€ä»¥åŠå¢åˆ æŸ¥æ”¹ package main import \"fmt\" func main() { fmt.Println(\"=== Go Map åŸºç¡€æ•™ç¨‹ ===\\n\") // 1. åˆ›å»º map çš„å‡ ç§æ–¹å¼ // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: scores := make(map[string]int) // C++: std::unordered_map scores; // // ä¸»è¦å·®å¼‚ï¼š // - Go ä½¿ç”¨ make() å‡½æ•°æˆ–å­—é¢é‡è¯­æ³•ï¼Œè¯­æ³•æ›´ç®€æ´ // - C++ éœ€è¦æ¨¡æ¿å‚æ•° // - Go çš„ map æ˜¯å¼•ç”¨ç±»å‹ï¼ŒC++ çš„ unordered_map æ˜¯å€¼ç±»å‹ // - Go å¯ä»¥é¢„åˆ†é…å®¹é‡ï¼šmake(map[string]int, 100) // - C++ ä½¿ç”¨ reserve(): scores.reserve(100) fmt.Println(\"1. åˆ›å»º map:\") // æ–¹å¼1: ä½¿ç”¨ make åˆ›å»º scores := make(map[string]int) fmt.Printf(\"ç©º map: %v\\n\", scores) // æ–¹å¼2: å­—é¢é‡åˆå§‹åŒ– // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: ages := map[string]int{\"å¼ ä¸‰\": 25, \"æå››\": 30} // C++: std::unordered_map ages = {{\"å¼ ä¸‰\", 25}, {\"æå››\", 30}}; // C++ ä½¿ç”¨åŒå±‚å¤§æ‹¬å·ï¼ŒGo ä½¿ç”¨å†’å·åˆ†éš”é”®å€¼ ages := map[string]int{ \"å¼ ä¸‰\": 25, \"æå››\": 30, \"ç‹äº”\": 28, } fmt.Printf(\"åˆå§‹åŒ–çš„ map: %v\\n\\n\", ages) // 2. å¢åŠ å…ƒç´ ï¼ˆç›´æ¥èµ‹å€¼ï¼‰ // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: scores[\"æ•°å­¦\"] = 95 // C++: scores[\"æ•°å­¦\"] = 95; æˆ– scores.insert({\"æ•°å­¦\", 95}); // // ä¸»è¦å·®å¼‚ï¼š // - ä¸¤è€…è¯­æ³•ç±»ä¼¼ï¼Œéƒ½æ”¯æŒ [] æ“ä½œç¬¦ç›´æ¥èµ‹å€¼ // - C++ è¿˜æœ‰ insert(), emplace() ç­‰æ–¹æ³• // - Go çš„ [] æ“ä½œç¬¦ä¼šè‡ªåŠ¨å¤„ç†å¢åŠ å’Œä¿®æ”¹ // - C++ çš„ insert() å¦‚æœé”®å·²å­˜åœ¨åˆ™ä¸ä¼šè¦†ç›–ï¼Œ[] ä¼šè¦†ç›– fmt.Println(\"2. å¢åŠ å…ƒç´ :\") scores[\"æ•°å­¦\"] = 95 scores[\"è¯­æ–‡\"] = 88 scores[\"è‹±è¯­\"] = 92 fmt.Printf(\"æ·»åŠ å: %v\\n\\n\", scores) // 3. æŸ¥è¯¢å…ƒç´  // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: value := scores[\"æ•°å­¦\"] // C++: int value = scores[\"æ•°å­¦\"]; // ä¸å­˜åœ¨ä¼šæ’å…¥é»˜è®¤å€¼ // int value = scores.at(\"æ•°å­¦\"); // ä¸å­˜åœ¨ä¼šæŠ›å¼‚å¸¸ // // ä¸»è¦å·®å¼‚ï¼š // - Go çš„ [] è®¿é—®ä¸å­˜åœ¨çš„é”®è¿”å›é›¶å€¼ï¼ˆ0, \"\", nil ç­‰ï¼‰ï¼Œä¸ä¼šæŠ¥é”™ // - C++ çš„ [] è®¿é—®ä¸å­˜åœ¨çš„é”®ä¼šæ’å…¥è¯¥é”®å¹¶è¿”å›é»˜è®¤å€¼ // - C++ çš„ at() è®¿é—®ä¸å­˜åœ¨çš„é”®ä¼šæŠ›å‡º std::out_of_range å¼‚å¸¸ // - Go ä½¿ç”¨ value, ok := map[key] æ¥æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ // - C++ ä½¿ç”¨ find() è¿”å›è¿­ä»£å™¨ï¼Œæˆ– contains() (C++20) fmt.Println(\"3. æŸ¥è¯¢å…ƒç´ :\") // ç›´æ¥è®¿é—® mathScore := scores[\"æ•°å­¦\"] fmt.Printf(\"æ•°å­¦æˆç»©: %d\\n\", mathScore) // å®‰å…¨æŸ¥è¯¢ï¼ˆæ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ï¼‰ // Go ç‰¹æœ‰çš„è¯­æ³•ï¼šè¿”å›å€¼å’Œå­˜åœ¨æ ‡å¿— // C++ ç­‰ä»·: auto it = scores.find(\"è¯­æ–‡\"); if (it != scores.end()) { ... } chineseScore, exists := scores[\"è¯­æ–‡\"] if exists { fmt.Printf(\"è¯­æ–‡æˆç»©: %d (å­˜åœ¨)\\n\", chineseScore) } // æŸ¥è¯¢ä¸å­˜åœ¨çš„é”® physicsScore, exists := scores[\"ç‰©ç†\"] if !exists { fmt.Printf(\"ç‰©ç†æˆç»©ä¸å­˜åœ¨ï¼Œè¿”å›é›¶å€¼: %d\\n\\n\", physicsScore) } // 4. ä¿®æ”¹å…ƒç´  // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go å’Œ C++ åœ¨ä¿®æ”¹å…ƒç´ æ—¶è¯­æ³•å®Œå…¨ä¸€è‡´ // Go: scores[\"æ•°å­¦\"] = 98 // C++: scores[\"æ•°å­¦\"] = 98; // // æ³¨æ„ï¼šGo çš„ [] æ“ä½œç¬¦ä¸åŒºåˆ†å¢åŠ å’Œä¿®æ”¹ï¼Œç»Ÿä¸€ä½¿ç”¨èµ‹å€¼è¯­æ³• fmt.Println(\"4. ä¿®æ”¹å…ƒç´ :\") fmt.Printf(\"ä¿®æ”¹å‰æ•°å­¦æˆç»©: %d\\n\", scores[\"æ•°å­¦\"]) scores[\"æ•°å­¦\"] = 98 fmt.Printf(\"ä¿®æ”¹åæ•°å­¦æˆç»©: %d\\n\\n\", scores[\"æ•°å­¦\"]) // 5. åˆ é™¤å…ƒç´  // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: delete(scores, \"è‹±è¯­\") // C++: scores.erase(\"è‹±è¯­\"); // // ä¸»è¦å·®å¼‚ï¼š // - Go ä½¿ç”¨å†…ç½®å‡½æ•° delete(map, key)ï¼Œæ— è¿”å›å€¼ // - C++ ä½¿ç”¨æˆå‘˜æ–¹æ³• erase(key)ï¼Œè¿”å›åˆ é™¤çš„å…ƒç´ ä¸ªæ•° // - ä¸¤è€…åˆ é™¤ä¸å­˜åœ¨çš„é”®éƒ½ä¸ä¼šæŠ¥é”™/panic // - C++ è¿˜æ”¯æŒé€šè¿‡è¿­ä»£å™¨åˆ é™¤: scores.erase(it); fmt.Println(\"5. åˆ é™¤å…ƒç´ :\") fmt.Printf(\"åˆ é™¤å‰: %v\\n\", scores) delete(scores, \"è‹±è¯­\") fmt.Printf(\"åˆ é™¤è‹±è¯­å: %v\\n\", scores) // åˆ é™¤ä¸å­˜åœ¨çš„é”®ä¸ä¼šæŠ¥é”™ delete(scores, \"ä¸å­˜åœ¨çš„ç§‘ç›®\") fmt.Printf(\"åˆ é™¤ä¸å­˜åœ¨çš„é”®å: %v\\n\\n\", scores) // 6. è·å– map é•¿åº¦ // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: len(scores) // C++: scores.size() // // ä¸»è¦å·®å¼‚ï¼š // - Go ä½¿ç”¨å†…ç½®å‡½æ•° len()ï¼Œé€‚ç”¨äºæ‰€æœ‰é›†åˆç±»å‹ // - C++ ä½¿ç”¨æˆå‘˜æ–¹æ³• size() // - C++ è¿˜æœ‰ empty() æ–¹æ³•æ£€æŸ¥æ˜¯å¦ä¸ºç©º // - Go å¯ä»¥ç›´æ¥ç”¨ len(map) == 0 æ£€æŸ¥ fmt.Println(\"6. è·å–é•¿åº¦:\") fmt.Printf(\"scores çš„é•¿åº¦: %d\\n\", len(scores)) fmt.Printf(\"ages çš„é•¿åº¦: %d\\n\\n\", len(ages)) // 7. éå† map // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: for key, value := range scores { ... } // C++: for (const auto\u0026 [key, value] : scores) { ... } // C++17 ç»“æ„åŒ–ç»‘å®š // for (auto it = scores.begin(); it != scores.end(); ++it) { ... } // // ä¸»è¦å·®å¼‚ï¼š // - Go ä½¿ç”¨ range å…³é”®å­—ï¼Œè¯­æ³•æ›´ç®€æ´ // - C++ å¯ä»¥ä½¿ç”¨ç»“æ„åŒ–ç»‘å®šï¼ˆC++17ï¼‰æˆ–è¿­ä»£å™¨ // - ä¸¤è€…éå†é¡ºåºéƒ½æ˜¯ä¸ç¡®å®šçš„ï¼ˆunorderedï¼‰ // - Go æ¯æ¬¡è¿è¡Œéå†é¡ºåºå¯èƒ½ä¸åŒï¼ˆæ•…æ„éšæœºåŒ–ï¼‰ // - C++ çš„é¡ºåºå–å†³äºå“ˆå¸Œå®ç°ï¼Œä½†åŒä¸€æ¬¡è¿è¡Œä¸­ç¨³å®š fmt.Println(\"7. éå† map:\") fmt.Println(\"éå† scores:\") for subject, score := range scores { fmt.Printf(\" %s: %d\\n\", subject, score) } fmt.Println(\"\\néå† ages:\") for name, age := range ages { fmt.Printf(\" %s: %d å²\\n\", name, age) } fmt.Println() // 8. åªéå†é”®æˆ–å€¼ // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go åªéå†é”®: for key := range scores { ... } // Go åªéå†å€¼: for _, value := range scores { ... } // // C++ åªéå†é”®: for (const auto\u0026 [key, _] : scores) { ... } // C++ åªéå†å€¼: for (const auto\u0026 [_, value] : scores) { ... } // // ä¸»è¦å·®å¼‚ï¼š // - Go ä½¿ç”¨ _ å¿½ç•¥ä¸éœ€è¦çš„å€¼ï¼Œè¯­æ³•æ›´æ¸…æ™° // - C++ ä¹Ÿå¯ä»¥ç”¨ [[maybe_unused]] æˆ–ç›´æ¥ä¸ä½¿ç”¨å˜é‡ // - Go çœç•¥ç¬¬äºŒä¸ªå˜é‡å°±åªéå†é”® // - C++ éœ€è¦å®Œæ•´çš„ç»“æ„åŒ–ç»‘å®šè¯­æ³• fmt.Println(\"8. åªéå†é”®æˆ–å€¼:\") fmt.Print(\"æ‰€æœ‰ç§‘ç›®: \") for subject := range scores { fmt.Printf(\"%s \", subject) } fmt.Println() fmt.Print(\"æ‰€æœ‰åˆ†æ•°: \") for _, score := range scores { fmt.Printf(\"%d \", score) } fmt.Println(\"\\n\") // 9. æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: if _, ok := scores[\"æ•°å­¦\"]; ok { ... } // C++: if (scores.find(\"æ•°å­¦\") != scores.end()) { ... } // if (scores.contains(\"æ•°å­¦\")) { ... } // C++20 // if (scores.count(\"æ•°å­¦\") \u003e 0) { ... } // æ—§æ–¹å¼ // // ä¸»è¦å·®å¼‚ï¼š // - Go ä½¿ç”¨é€—å·okæƒ¯ç”¨æ³• (comma ok idiom)ï¼Œè¿”å›å€¼å’Œå¸ƒå°”æ ‡å¿— // - C++ ä½¿ç”¨ find() è¿”å›è¿­ä»£å™¨ï¼Œéœ€è¦ä¸ end() æ¯”è¾ƒ // - C++20 æ–°å¢ contains() æ–¹æ³•ï¼Œè¿”å› boolï¼Œæ›´æ¥è¿‘ Go çš„è¯­ä¹‰ // - Go çš„æ–¹å¼æ›´ç®€æ´ï¼Œä¸€è¡Œä»£ç åŒæ—¶è·å–å€¼å’Œæ£€æŸ¥å­˜åœ¨æ€§ // - C++ çš„ count() å¯¹äº unordered_map åªè¿”å› 0 æˆ– 1 fmt.Println(\"9. æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨:\") if _, ok := scores[\"æ•°å­¦\"]; ok { fmt.Println(\"æ•°å­¦æˆç»©å­˜åœ¨\") } if _, ok := scores[\"ç‰©ç†\"]; !ok { fmt.Println(\"ç‰©ç†æˆç»©ä¸å­˜åœ¨\") } fmt.Println() // 10. map çš„é›¶å€¼å’Œæ¸…ç©º // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: var emptyMap map[string]int // nil map // C++: std::unordered_map emptyMap; // ç©º mapï¼Œä¸æ˜¯ null // // ä¸»è¦å·®å¼‚ï¼š // - Go çš„ map é›¶å€¼æ˜¯ nilï¼Œå¯ä»¥è¯»å–ä½†ä¸èƒ½å†™å…¥ï¼ˆä¼š panicï¼‰ // - C++ çš„ unordered_map æ²¡æœ‰ null æ¦‚å¿µï¼Œå£°æ˜å³å¯ç”¨ // - Go éœ€è¦æ˜¾å¼åˆå§‹åŒ–æ‰èƒ½å†™å…¥: make(map[K]V) æˆ–å­—é¢é‡ // - C++ çš„é»˜è®¤æ„é€ å‡½æ•°è‡ªåŠ¨åˆ›å»ºå¯ç”¨çš„ç©º map // // æ¸…ç©ºæ“ä½œï¼š // Go: myMap = make(map[string]int) // é‡æ–°åˆ†é… // æˆ–éå†åˆ é™¤: for k := range myMap { delete(myMap, k) } // C++: myMap.clear(); // æœ‰ä¸“é—¨çš„æ¸…ç©ºæ–¹æ³• fmt.Println(\"10. map çš„é›¶å€¼:\") var emptyMap map[string]int fmt.Printf(\"æœªåˆå§‹åŒ–çš„ map: %v (nil: %v)\\n\", emptyMap, emptyMap == nil) // æ³¨æ„ï¼šnil map å¯ä»¥è¯»å–ï¼Œä½†ä¸èƒ½å†™å…¥ // emptyMap[\"key\"] = 1 // è¿™ä¼š panic // æ¸…ç©º mapï¼ˆé‡æ–°èµ‹å€¼ï¼‰ scores = make(map[string]int) fmt.Printf(\"æ¸…ç©ºåçš„ map: %v\\n\\n\", scores) // 11. å¤æ‚ç±»å‹ä½œä¸ºå€¼ // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: map[int]Student // C++: std::unordered_map // // ä¸»è¦å·®å¼‚ï¼š // - Go çš„ç»“æ„ä½“ä½œä¸ºå€¼æ—¶æ˜¯å€¼æ‹·è´ï¼Œä¿®æ”¹éœ€è¦é‡æ–°èµ‹å€¼æ•´ä¸ªç»“æ„ä½“ // ä¾‹å¦‚: s := students[1001]; s.Age = 20; students[1001] = s // - C++ ä¹Ÿæ˜¯å€¼æ‹·è´ï¼Œä½†å¯ä»¥é€šè¿‡å¼•ç”¨ä¿®æ”¹: students[1001].Age = 20; // - Go å¦‚æœéœ€è¦ä¿®æ”¹ï¼Œå»ºè®®ä½¿ç”¨æŒ‡é’ˆ: map[int]*Student // - C++ å¯ä»¥ç”¨ emplace() åŸåœ°æ„é€ ï¼Œé¿å…æ‹·è´ // // æ³¨æ„ï¼šGo ä¸èƒ½ç›´æ¥ä¿®æ”¹ map ä¸­ç»“æ„ä½“çš„å­—æ®µ // students[1001].Age = 20 // ç¼–è¯‘é”™è¯¯ï¼ fmt.Println(\"11. å¤æ‚ç±»å‹çš„ map:\") // map çš„å€¼å¯ä»¥æ˜¯ç»“æ„ä½“ type Student struct { Name string Age int Grade int } students := map[int]Student{ 1001: {\"å¼ ä¸‰\", 18, 90}, 1002: {\"æå››\", 19, 85}, } fmt.Printf(\"å­¦ç”Ÿä¿¡æ¯: %v\\n\", students) fmt.Printf(\"å­¦å· 1001: %v\\n\\n\", students[1001]) // 12. map åµŒå¥— // ã€ä¸ C++ å¯¹æ¯”ã€‘ // Go: map[string]map[string]int // C++: std::unordered_map","wordCount":"1817","inLanguage":"en","datePublished":"2025-12-11T17:50:13+08:00","dateModified":"2025-12-11T17:50:13+08:00","author":{"@type":"Person","name":"neo"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://neo-dai.github.io/posts/a-tour-of-gogolang%E4%B8%AD%E7%9A%84%E6%95%B0%E7%BB%84slicemap/"},"publisher":{"@type":"Organization","name":"Notes","logo":{"@type":"ImageObject","url":"https://neo-dai.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://neo-dai.github.io/ accesskey=h title="Notes (Alt + H)">Notes</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://neo-dai.github.io/ title=é¦–é¡µ><span>é¦–é¡µ</span></a></li><li><a href=https://neo-dai.github.io/posts/ title=æ–‡ç« ><span>æ–‡ç« </span></a></li><li><a href=https://neo-dai.github.io/series/ title=ä¸“æ ><span>ä¸“æ </span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">ã€ŠA Tour of Goã€‹golangä¸­çš„æ•°ç»„ã€sliceã€map</h1><div class=post-meta><span title='2025-12-11 17:50:13 +0800 +0800'>2025å¹´12æœˆ11æ—¥</span>&nbsp;Â·&nbsp;<span>9 min</span>&nbsp;Â·&nbsp;<span>neo</span></div></header><div class=post-content><p><img loading=lazy src=/images/file-20251211133350673.png>
<a href=https://tour.go-zh.org/list>tour.golang.org</a></p><h3 id=æ•°ç»„>æ•°ç»„<a hidden class=anchor aria-hidden=true href=#æ•°ç»„>#</a></h3><p>var æ•°ç»„å [æ•°ç»„é•¿åº¦] æ•°ç»„ç±»å‹</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=s>&#34;fmt&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>func</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=kd>var</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=p>[</span><span class=mi>2</span><span class=p>]</span><span class=kt>string</span><span class=w> </span><span class=c1>// c++: string a[2];</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>a</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&#34;Hello&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>a</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&#34;World&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>a</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span><span class=w> </span><span class=nx>a</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>primes</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[</span><span class=mi>6</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=mi>7</span><span class=p>,</span><span class=w> </span><span class=mi>11</span><span class=p>,</span><span class=w> </span><span class=mi>13</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>primes</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h3 id=sliceåˆ‡ç‰‡>slice(åˆ‡ç‰‡)<a hidden class=anchor aria-hidden=true href=#sliceåˆ‡ç‰‡>#</a></h3><blockquote><p>ğŸ’¡ ç±»ä¼¼c++ä¸­çš„std::vector æ”¯æŒåŠ¨æ€æ‰©å®¹,ä¸”æœ¬è´¨æ˜¯ä¸€ä¸ªç»“æ„ä½“ è®°å½•äº†æŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆã€é•¿åº¦ã€å®¹é‡ {arr_point,len,cap}</p></blockquote><h4 id=1-åˆ‡ç‰‡ä¸æ•°ç»„çš„åŒºåˆ«åˆ‡ç‰‡çš„å¢åˆ æŸ¥æ”¹>1. åˆ‡ç‰‡ä¸æ•°ç»„çš„åŒºåˆ«ã€åˆ‡ç‰‡çš„å¢åˆ æŸ¥æ”¹<a hidden class=anchor aria-hidden=true href=#1-åˆ‡ç‰‡ä¸æ•°ç»„çš„åŒºåˆ«åˆ‡ç‰‡çš„å¢åˆ æŸ¥æ”¹>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// æ•°ç»„ ç›´æ¥å­˜å‚¨3ä¸ªintå€¼ é•¿åº¦ä¸å¯å˜,æ•°æ®åœ¨æ ˆä¸Š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>var</span><span class=w> </span><span class=nx>arr</span><span class=w> </span><span class=p>[</span><span class=mi>3</span><span class=p>]</span><span class=kt>int</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=p>[</span><span class=mi>3</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>arr</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// åˆ‡ç‰‡ så®é™…ä¸Šæ˜¯ä¸€ä¸ªç»“æ„ä½“{arr_point,len,cap} ç±»ä¼¼c++ std::vector æ”¯æŒåŠ¨æ€æ‰©å®¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>s</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;åŸå§‹åˆ‡ç‰‡:&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>,</span><span class=w> </span><span class=s>&#34;len:&#34;</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s</span><span class=p>),</span><span class=w> </span><span class=s>&#34;cap:&#34;</span><span class=p>,</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>s</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// === å¢ï¼ˆAppendï¼‰===</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 1. è¿½åŠ å•ä¸ªå…ƒç´ ï¼ˆç±»ä¼¼ C++ vector.push_backï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>s</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>append</span><span class=p>(</span><span class=nx>s</span><span class=p>,</span><span class=w> </span><span class=mi>17</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;è¿½åŠ 17:&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 2. è¿½åŠ å¤šä¸ªå…ƒç´ </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>s</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>append</span><span class=p>(</span><span class=nx>s</span><span class=p>,</span><span class=w> </span><span class=mi>19</span><span class=p>,</span><span class=w> </span><span class=mi>23</span><span class=p>,</span><span class=w> </span><span class=mi>29</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;è¿½åŠ å¤šä¸ª:&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 3. è¿½åŠ å¦ä¸€ä¸ªåˆ‡ç‰‡ï¼ˆéœ€è¦ ... å±•å¼€ï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>s2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>31</span><span class=p>,</span><span class=w> </span><span class=mi>37</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>s</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>append</span><span class=p>(</span><span class=nx>s</span><span class=p>,</span><span class=w> </span><span class=nx>s2</span><span class=o>...</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;è¿½åŠ åˆ‡ç‰‡:&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// === æŸ¥ï¼ˆAccessï¼‰===</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç›´æ¥é€šè¿‡ç´¢å¼•è®¿é—®ï¼ŒO(1) æ—¶é—´å¤æ‚åº¦</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;ç´¢å¼•3çš„å…ƒç´ :&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>[</span><span class=mi>3</span><span class=p>])</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// === æ”¹ï¼ˆModifyï¼‰===</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç›´æ¥é€šè¿‡ç´¢å¼•ä¿®æ”¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>s</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>100</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;ä¿®æ”¹ç´¢å¼•0:&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// === åˆ ï¼ˆDeleteï¼‰===</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// Go æ²¡æœ‰å†…ç½®åˆ é™¤å‡½æ•°ï¼Œéœ€è¦é€šè¿‡åˆ‡ç‰‡æ“ä½œ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 1. åˆ é™¤ç´¢å¼•ä¸º2çš„å…ƒç´ </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>s</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>append</span><span class=p>(</span><span class=nx>s</span><span class=p>[:</span><span class=nx>i</span><span class=p>],</span><span class=w> </span><span class=nx>s</span><span class=p>[</span><span class=nx>i</span><span class=o>+</span><span class=mi>1</span><span class=p>:]</span><span class=o>...</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;åˆ é™¤ç´¢å¼•2:&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 2. åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆç±»ä¼¼ C++ vector.pop_backï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>s</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>s</span><span class=p>[:</span><span class=nb>len</span><span class=p>(</span><span class=nx>s</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;åˆ é™¤æœ€å:&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// === åˆ‡ç‰‡æ“ä½œï¼ˆSlicingï¼‰===</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// è¿™æ˜¯ Go ç‰¹æœ‰çš„ï¼ŒC++ éœ€è¦ç”¨è¿­ä»£å™¨</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>sub</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>s</span><span class=p>[</span><span class=mi>2</span><span class=p>:</span><span class=mi>5</span><span class=p>]</span><span class=w> </span><span class=c1>// è·å–ç´¢å¼• 2-4 çš„å…ƒç´ ï¼ˆå·¦é—­å³å¼€ï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;å­åˆ‡ç‰‡[2:5]:&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>sub</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// === åˆ›å»ºåˆ‡ç‰‡çš„æ–¹å¼ ===</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 1. ä½¿ç”¨ make åˆ›å»ºæŒ‡å®šé•¿åº¦å’Œå®¹é‡çš„åˆ‡ç‰‡</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>s3</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>)</span><span class=w> </span><span class=c1>// é•¿åº¦5ï¼Œå®¹é‡5ï¼Œåˆå§‹å€¼éƒ½æ˜¯0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;make(len=5):&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>s3</span><span class=p>,</span><span class=w> </span><span class=s>&#34;len:&#34;</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s3</span><span class=p>),</span><span class=w> </span><span class=s>&#34;cap:&#34;</span><span class=p>,</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>s3</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>s4</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=c1>// é•¿åº¦3ï¼Œå®¹é‡10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;make(len=3,cap=10):&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>s4</span><span class=p>,</span><span class=w> </span><span class=s>&#34;len:&#34;</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s4</span><span class=p>),</span><span class=w> </span><span class=s>&#34;cap:&#34;</span><span class=p>,</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>s4</span><span class=p>))</span><span class=w>
</span></span></span></code></pre></div><h4 id=2-å¯¹æ•°ç»„åˆ‡ç‰‡åæ‰©å®¹åˆ‡ç‰‡è¶…è¿‡åŸæ•°ç»„åä¼šä¸åŸæ•°ç»„æ–­å¼€å…³è”>2. å¯¹æ•°ç»„åˆ‡ç‰‡åï¼Œæ‰©å®¹åˆ‡ç‰‡è¶…è¿‡åŸæ•°ç»„åä¼šä¸åŸæ•°ç»„æ–­å¼€å…³è”<a hidden class=anchor aria-hidden=true href=#2-å¯¹æ•°ç»„åˆ‡ç‰‡åæ‰©å®¹åˆ‡ç‰‡è¶…è¿‡åŸæ•°ç»„åä¼šä¸åŸæ•°ç»„æ–­å¼€å…³è”>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º5çš„æ•°ç»„</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>arr</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;åŸæ•°ç»„: %v, åœ°å€: %p\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>arr</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>arr</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;åˆ‡ç‰‡: %v, len=%d, cap=%d\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>arr</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>arr</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>arr</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// å¯¹æ•°ç»„è¿›è¡Œåˆ‡ç‰‡ï¼Œå–å‰3ä¸ªå…ƒç´ </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>slice</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>arr</span><span class=p>[</span><span class=mi>0</span><span class=p>:</span><span class=mi>3</span><span class=p>]</span><span class=w> </span><span class=c1>// ç­‰ä»·ä¸ [:3]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;\n--- åˆå§‹åˆ‡ç‰‡ ---\n&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;åˆ‡ç‰‡: %v, len=%d, cap=%d\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>slice</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>slice</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>slice</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;åˆ‡ç‰‡ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n&#34;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>slice</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;åŸæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n&#34;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>arr</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;æ­¤æ—¶åˆ‡ç‰‡å’ŒåŸæ•°ç»„å…±äº«åº•å±‚æ•°ç»„:&#34;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>slice</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=o>&amp;</span><span class=nx>arr</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ä¿®æ”¹åˆ‡ç‰‡ä¼šå½±å“åŸæ•°ç»„</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>slice</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>100</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;\n--- ä¿®æ”¹ slice[0] = 100 ---\n&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;åˆ‡ç‰‡: %v\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>slice</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;åŸæ•°ç»„: %v (åŸæ•°ç»„ä¹Ÿè¢«ä¿®æ”¹äº†)\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>arr</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// åœ¨å®¹é‡èŒƒå›´å†…appendï¼Œä»ç„¶ä½¿ç”¨åŸæ•°ç»„</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;\n--- åœ¨å®¹é‡èŒƒå›´å†… append ---\n&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;å½“å‰ len=%d, cap=%d, è¿˜å¯ä»¥åœ¨åŸæ•°ç»„ä¸Šè¿½åŠ  %d ä¸ªå…ƒç´ \n&#34;</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>slice</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>slice</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>slice</span><span class=p>)</span><span class=o>-</span><span class=nb>len</span><span class=p>(</span><span class=nx>slice</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>slice</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>append</span><span class=p>(</span><span class=nx>slice</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;append(slice, 6) å: %v, len=%d, cap=%d\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>slice</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>slice</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>slice</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;åˆ‡ç‰‡ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n&#34;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>slice</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;ä»ç„¶å…±äº«åº•å±‚æ•°ç»„:&#34;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>slice</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=o>&amp;</span><span class=nx>arr</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;åŸæ•°ç»„: %v (arr[3] è¢«è¦†ç›–äº†)\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>arr</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>slice</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>append</span><span class=p>(</span><span class=nx>slice</span><span class=p>,</span><span class=w> </span><span class=mi>7</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;append(slice, 7) å: %v, len=%d, cap=%d\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>slice</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>slice</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>slice</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;åŸæ•°ç»„: %v (arr[4] è¢«è¦†ç›–äº†)\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>arr</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// è¶…è¿‡å®¹é‡ï¼Œè§¦å‘æ‰©å®¹ï¼Œä½¿ç”¨æ–°çš„åº•å±‚æ•°ç»„</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;\n--- è¶…è¿‡å®¹é‡ï¼Œè§¦å‘æ‰©å®¹ ---\n&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;å½“å‰ len=%d, cap=%d, ç»§ç»­ append å°†è¶…è¿‡å®¹é‡\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>slice</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>slice</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>oldAddr</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=o>&amp;</span><span class=nx>slice</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>slice</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>append</span><span class=p>(</span><span class=nx>slice</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>newAddr</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=o>&amp;</span><span class=nx>slice</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;append(slice, 8) å: %v, len=%d, cap=%d\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>slice</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>slice</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>slice</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;æ‰©å®¹å‰ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>oldAddr</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;æ‰©å®¹åç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€: %p\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>newAddr</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;åœ°å€å‘ç”Ÿå˜åŒ–ï¼Œä½¿ç”¨äº†æ–°çš„åº•å±‚æ•°ç»„:&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>oldAddr</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=nx>newAddr</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç°åœ¨ä¿®æ”¹åˆ‡ç‰‡ä¸ä¼šå½±å“åŸæ•°ç»„</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;\n--- éªŒè¯åˆ‡ç‰‡å·²ä¸åŸæ•°ç»„åˆ†ç¦» ---\n&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>slice</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>999</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;ä¿®æ”¹ slice[0] = 999\n&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;åˆ‡ç‰‡: %v\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>slice</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;åŸæ•°ç»„: %v (åŸæ•°ç»„ä¸å—å½±å“)\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>arr</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h4 id=3-åˆ‡ç‰‡çš„é›¶å€¼é»˜è®¤å€¼æ˜¯-nil>3. åˆ‡ç‰‡çš„é›¶å€¼ï¼ˆé»˜è®¤å€¼ï¼‰æ˜¯ nil<a hidden class=anchor aria-hidden=true href=#3-åˆ‡ç‰‡çš„é›¶å€¼é»˜è®¤å€¼æ˜¯-nil>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=nx>s</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>s</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>s</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>if</span><span class=w> </span><span class=nx>s</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;nil!&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h3 id=mapæ˜ å°„>map(æ˜ å°„ï¼‰<a hidden class=anchor aria-hidden=true href=#mapæ˜ å°„>#</a></h3><ul><li><strong>åŸºäºhashè¡¨å®ç°</strong>ï¼šï¼ˆGo1.19åŠä»¥åå“ˆå¸Œå†²çªè§£å†³ä¸»è¦é‡‡ç”¨<strong>æ‹‰é“¾æ³•</strong>ï¼ˆæ•°ç»„+é“¾è¡¨/çº¢é»‘æ ‘ï¼‰ï¼‰</li><li><strong>æ— åº</strong>ï¼šæ¯æ¬¡éå†å…ƒç´ çš„é¡ºåºå¯èƒ½ä¸åŒ</li><li><strong>æŸ¥æ‰¾æ•ˆç‡é«˜</strong>ï¼šæŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º$O(1)$ ï¼Œ æœ€åçš„æƒ…å†µä¸‹é€€åŒ–åˆ°$O(n)$</li><li><strong>keyå¿…é¡»å”¯ä¸€</strong>ï¼š åŒä¸€ä¸ªé”®å¤šæ¬¡èµ‹å€¼ï¼Œåè€…è¦†ç›–å‰è€…</li><li><strong>keyå¿…é¡»å¯æ¯”è¾ƒ</strong></li><li><strong>é›¶å€¼(nil)</strong>ï¼šå¯è¯»ä½†ä¸å¯å†™ï¼ˆä¼šå¼•å‘panicï¼‰</li><li><strong>æ‰©å®¹</strong>ï¼šæå‰æŒ‡å®šé¢„ä¼°åˆå§‹å®¹é‡å¯ä»¥å‡å°‘æ‰©å®¹å¸¦æ¥çš„æ€§èƒ½æŸè€— <code>make(map[KeyType]ValueType, initialCappacity)</code></li><li><strong>éå¹¶å‘å®‰å…¨</strong>ï¼šå¤šä¸ªgoroutine å¹¶å‘å¯¹åŒä¸€ä¸ªmapè¯»å†™ä¼šå¯¼è‡´panic</li></ul><h4 id=map-çš„å®šä¹‰åˆå§‹åŒ–ä»¥åŠå¢åˆ æŸ¥æ”¹>map çš„å®šä¹‰ã€åˆå§‹åŒ–ã€ä»¥åŠå¢åˆ æŸ¥æ”¹<a hidden class=anchor aria-hidden=true href=#map-çš„å®šä¹‰åˆå§‹åŒ–ä»¥åŠå¢åˆ æŸ¥æ”¹>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=s>&#34;fmt&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>func</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;=== Go Map åŸºç¡€æ•™ç¨‹ ===\n&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// 1. åˆ›å»º map çš„å‡ ç§æ–¹å¼</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// ã€ä¸ C++ å¯¹æ¯”ã€‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// Go:  scores := make(map[string]int)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// C++: std::unordered_map&lt;std::string, int&gt; scores;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// ä¸»è¦å·®å¼‚ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go ä½¿ç”¨ make() å‡½æ•°æˆ–å­—é¢é‡è¯­æ³•ï¼Œè¯­æ³•æ›´ç®€æ´</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ éœ€è¦æ¨¡æ¿å‚æ•° &lt;Key, Value&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go çš„ map æ˜¯å¼•ç”¨ç±»å‹ï¼ŒC++ çš„ unordered_map æ˜¯å€¼ç±»å‹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go å¯ä»¥é¢„åˆ†é…å®¹é‡ï¼šmake(map[string]int, 100)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ ä½¿ç”¨ reserve(): scores.reserve(100)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;1. åˆ›å»º map:&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// æ–¹å¼1: ä½¿ç”¨ make åˆ›å»º</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>scores</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;ç©º map: %v\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>scores</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// æ–¹å¼2: å­—é¢é‡åˆå§‹åŒ–</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// ã€ä¸ C++ å¯¹æ¯”ã€‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// Go:  ages := map[string]int{&#34;å¼ ä¸‰&#34;: 25, &#34;æå››&#34;: 30}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// C++: std::unordered_map&lt;std::string, int&gt; ages = {{&#34;å¼ ä¸‰&#34;, 25}, {&#34;æå››&#34;, 30}};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// C++ ä½¿ç”¨åŒå±‚å¤§æ‹¬å·ï¼ŒGo ä½¿ç”¨å†’å·åˆ†éš”é”®å€¼</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>ages</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=s>&#34;å¼ ä¸‰&#34;</span><span class=p>:</span><span class=w> </span><span class=mi>25</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=s>&#34;æå››&#34;</span><span class=p>:</span><span class=w> </span><span class=mi>30</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=s>&#34;ç‹äº”&#34;</span><span class=p>:</span><span class=w> </span><span class=mi>28</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;åˆå§‹åŒ–çš„ map: %v\n\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>ages</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// 2. å¢åŠ å…ƒç´ ï¼ˆç›´æ¥èµ‹å€¼ï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// ã€ä¸ C++ å¯¹æ¯”ã€‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// Go:  scores[&#34;æ•°å­¦&#34;] = 95</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// C++: scores[&#34;æ•°å­¦&#34;] = 95;  æˆ– scores.insert({&#34;æ•°å­¦&#34;, 95});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// ä¸»è¦å·®å¼‚ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - ä¸¤è€…è¯­æ³•ç±»ä¼¼ï¼Œéƒ½æ”¯æŒ [] æ“ä½œç¬¦ç›´æ¥èµ‹å€¼</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ è¿˜æœ‰ insert(), emplace() ç­‰æ–¹æ³•</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go çš„ [] æ“ä½œç¬¦ä¼šè‡ªåŠ¨å¤„ç†å¢åŠ å’Œä¿®æ”¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ çš„ insert() å¦‚æœé”®å·²å­˜åœ¨åˆ™ä¸ä¼šè¦†ç›–ï¼Œ[] ä¼šè¦†ç›–</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;2. å¢åŠ å…ƒç´ :&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>scores</span><span class=p>[</span><span class=s>&#34;æ•°å­¦&#34;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>95</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>scores</span><span class=p>[</span><span class=s>&#34;è¯­æ–‡&#34;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>88</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>scores</span><span class=p>[</span><span class=s>&#34;è‹±è¯­&#34;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>92</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;æ·»åŠ å: %v\n\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>scores</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// 3. æŸ¥è¯¢å…ƒç´ </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// ã€ä¸ C++ å¯¹æ¯”ã€‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// Go:  value := scores[&#34;æ•°å­¦&#34;]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// C++: int value = scores[&#34;æ•°å­¦&#34;];     // ä¸å­˜åœ¨ä¼šæ’å…¥é»˜è®¤å€¼</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//      int value = scores.at(&#34;æ•°å­¦&#34;);  // ä¸å­˜åœ¨ä¼šæŠ›å¼‚å¸¸</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// ä¸»è¦å·®å¼‚ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go çš„ [] è®¿é—®ä¸å­˜åœ¨çš„é”®è¿”å›é›¶å€¼ï¼ˆ0, &#34;&#34;, nil ç­‰ï¼‰ï¼Œä¸ä¼šæŠ¥é”™</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ çš„ [] è®¿é—®ä¸å­˜åœ¨çš„é”®ä¼šæ’å…¥è¯¥é”®å¹¶è¿”å›é»˜è®¤å€¼</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ çš„ at() è®¿é—®ä¸å­˜åœ¨çš„é”®ä¼šæŠ›å‡º std::out_of_range å¼‚å¸¸</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go ä½¿ç”¨ value, ok := map[key] æ¥æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ ä½¿ç”¨ find() è¿”å›è¿­ä»£å™¨ï¼Œæˆ– contains() (C++20)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;3. æŸ¥è¯¢å…ƒç´ :&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// ç›´æ¥è®¿é—®</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>mathScore</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>scores</span><span class=p>[</span><span class=s>&#34;æ•°å­¦&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;æ•°å­¦æˆç»©: %d\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>mathScore</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// å®‰å…¨æŸ¥è¯¢ï¼ˆæ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// Go ç‰¹æœ‰çš„è¯­æ³•ï¼šè¿”å›å€¼å’Œå­˜åœ¨æ ‡å¿—</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// C++ ç­‰ä»·: auto it = scores.find(&#34;è¯­æ–‡&#34;); if (it != scores.end()) { ... }</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>chineseScore</span><span class=p>,</span><span class=w> </span><span class=nx>exists</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>scores</span><span class=p>[</span><span class=s>&#34;è¯­æ–‡&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>if</span><span class=w> </span><span class=nx>exists</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;è¯­æ–‡æˆç»©: %d (å­˜åœ¨)\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>chineseScore</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// æŸ¥è¯¢ä¸å­˜åœ¨çš„é”®</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>physicsScore</span><span class=p>,</span><span class=w> </span><span class=nx>exists</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>scores</span><span class=p>[</span><span class=s>&#34;ç‰©ç†&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>if</span><span class=w> </span><span class=p>!</span><span class=nx>exists</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;ç‰©ç†æˆç»©ä¸å­˜åœ¨ï¼Œè¿”å›é›¶å€¼: %d\n\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>physicsScore</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// 4. ä¿®æ”¹å…ƒç´ </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// ã€ä¸ C++ å¯¹æ¯”ã€‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// Go å’Œ C++ åœ¨ä¿®æ”¹å…ƒç´ æ—¶è¯­æ³•å®Œå…¨ä¸€è‡´</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// Go:  scores[&#34;æ•°å­¦&#34;] = 98</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// C++: scores[&#34;æ•°å­¦&#34;] = 98;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// æ³¨æ„ï¼šGo çš„ [] æ“ä½œç¬¦ä¸åŒºåˆ†å¢åŠ å’Œä¿®æ”¹ï¼Œç»Ÿä¸€ä½¿ç”¨èµ‹å€¼è¯­æ³•</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;4. ä¿®æ”¹å…ƒç´ :&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;ä¿®æ”¹å‰æ•°å­¦æˆç»©: %d\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>scores</span><span class=p>[</span><span class=s>&#34;æ•°å­¦&#34;</span><span class=p>])</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>scores</span><span class=p>[</span><span class=s>&#34;æ•°å­¦&#34;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>98</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;ä¿®æ”¹åæ•°å­¦æˆç»©: %d\n\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>scores</span><span class=p>[</span><span class=s>&#34;æ•°å­¦&#34;</span><span class=p>])</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// 5. åˆ é™¤å…ƒç´ </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// ã€ä¸ C++ å¯¹æ¯”ã€‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// Go:  delete(scores, &#34;è‹±è¯­&#34;)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// C++: scores.erase(&#34;è‹±è¯­&#34;);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// ä¸»è¦å·®å¼‚ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go ä½¿ç”¨å†…ç½®å‡½æ•° delete(map, key)ï¼Œæ— è¿”å›å€¼</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ ä½¿ç”¨æˆå‘˜æ–¹æ³• erase(key)ï¼Œè¿”å›åˆ é™¤çš„å…ƒç´ ä¸ªæ•°</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - ä¸¤è€…åˆ é™¤ä¸å­˜åœ¨çš„é”®éƒ½ä¸ä¼šæŠ¥é”™/panic</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ è¿˜æ”¯æŒé€šè¿‡è¿­ä»£å™¨åˆ é™¤: scores.erase(it);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;5. åˆ é™¤å…ƒç´ :&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;åˆ é™¤å‰: %v\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>scores</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nb>delete</span><span class=p>(</span><span class=nx>scores</span><span class=p>,</span><span class=w> </span><span class=s>&#34;è‹±è¯­&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;åˆ é™¤è‹±è¯­å: %v\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>scores</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// åˆ é™¤ä¸å­˜åœ¨çš„é”®ä¸ä¼šæŠ¥é”™</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nb>delete</span><span class=p>(</span><span class=nx>scores</span><span class=p>,</span><span class=w> </span><span class=s>&#34;ä¸å­˜åœ¨çš„ç§‘ç›®&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;åˆ é™¤ä¸å­˜åœ¨çš„é”®å: %v\n\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>scores</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// 6. è·å– map é•¿åº¦</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// ã€ä¸ C++ å¯¹æ¯”ã€‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// Go:  len(scores)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// C++: scores.size()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// ä¸»è¦å·®å¼‚ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go ä½¿ç”¨å†…ç½®å‡½æ•° len()ï¼Œé€‚ç”¨äºæ‰€æœ‰é›†åˆç±»å‹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ ä½¿ç”¨æˆå‘˜æ–¹æ³• size()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ è¿˜æœ‰ empty() æ–¹æ³•æ£€æŸ¥æ˜¯å¦ä¸ºç©º</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go å¯ä»¥ç›´æ¥ç”¨ len(map) == 0 æ£€æŸ¥</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;6. è·å–é•¿åº¦:&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;scores çš„é•¿åº¦: %d\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>scores</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;ages çš„é•¿åº¦: %d\n\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>ages</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// 7. éå† map</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// ã€ä¸ C++ å¯¹æ¯”ã€‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// Go:  for key, value := range scores { ... }</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// C++: for (const auto&amp; [key, value] : scores) { ... }  // C++17 ç»“æ„åŒ–ç»‘å®š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//      for (auto it = scores.begin(); it != scores.end(); ++it) { ... }</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// ä¸»è¦å·®å¼‚ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go ä½¿ç”¨ range å…³é”®å­—ï¼Œè¯­æ³•æ›´ç®€æ´</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ å¯ä»¥ä½¿ç”¨ç»“æ„åŒ–ç»‘å®šï¼ˆC++17ï¼‰æˆ–è¿­ä»£å™¨</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - ä¸¤è€…éå†é¡ºåºéƒ½æ˜¯ä¸ç¡®å®šçš„ï¼ˆunorderedï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go æ¯æ¬¡è¿è¡Œéå†é¡ºåºå¯èƒ½ä¸åŒï¼ˆæ•…æ„éšæœºåŒ–ï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ çš„é¡ºåºå–å†³äºå“ˆå¸Œå®ç°ï¼Œä½†åŒä¸€æ¬¡è¿è¡Œä¸­ç¨³å®š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;7. éå† map:&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;éå† scores:&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>for</span><span class=w> </span><span class=nx>subject</span><span class=p>,</span><span class=w> </span><span class=nx>score</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>scores</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;  %s: %d\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>subject</span><span class=p>,</span><span class=w> </span><span class=nx>score</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;\néå† ages:&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>for</span><span class=w> </span><span class=nx>name</span><span class=p>,</span><span class=w> </span><span class=nx>age</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>ages</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;  %s: %d å²\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>name</span><span class=p>,</span><span class=w> </span><span class=nx>age</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// 8. åªéå†é”®æˆ–å€¼</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// ã€ä¸ C++ å¯¹æ¯”ã€‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// Go åªéå†é”®:  for key := range scores { ... }</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// Go åªéå†å€¼:  for _, value := range scores { ... }</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// C++ åªéå†é”®:  for (const auto&amp; [key, _] : scores) { ... }</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// C++ åªéå†å€¼:  for (const auto&amp; [_, value] : scores) { ... }</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// ä¸»è¦å·®å¼‚ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go ä½¿ç”¨ _ å¿½ç•¥ä¸éœ€è¦çš„å€¼ï¼Œè¯­æ³•æ›´æ¸…æ™°</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ ä¹Ÿå¯ä»¥ç”¨ [[maybe_unused]] æˆ–ç›´æ¥ä¸ä½¿ç”¨å˜é‡</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go çœç•¥ç¬¬äºŒä¸ªå˜é‡å°±åªéå†é”®</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ éœ€è¦å®Œæ•´çš„ç»“æ„åŒ–ç»‘å®šè¯­æ³•</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;8. åªéå†é”®æˆ–å€¼:&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Print</span><span class=p>(</span><span class=s>&#34;æ‰€æœ‰ç§‘ç›®: &#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>for</span><span class=w> </span><span class=nx>subject</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>scores</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%s &#34;</span><span class=p>,</span><span class=w> </span><span class=nx>subject</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Print</span><span class=p>(</span><span class=s>&#34;æ‰€æœ‰åˆ†æ•°: &#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>score</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>scores</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%d &#34;</span><span class=p>,</span><span class=w> </span><span class=nx>score</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;\n&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// 9. æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// ã€ä¸ C++ å¯¹æ¯”ã€‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// Go:  if _, ok := scores[&#34;æ•°å­¦&#34;]; ok { ... }</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// C++: if (scores.find(&#34;æ•°å­¦&#34;) != scores.end()) { ... }</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//      if (scores.contains(&#34;æ•°å­¦&#34;)) { ... }  // C++20</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//      if (scores.count(&#34;æ•°å­¦&#34;) &gt; 0) { ... }  // æ—§æ–¹å¼</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// ä¸»è¦å·®å¼‚ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go ä½¿ç”¨é€—å·okæƒ¯ç”¨æ³• (comma ok idiom)ï¼Œè¿”å›å€¼å’Œå¸ƒå°”æ ‡å¿—</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ ä½¿ç”¨ find() è¿”å›è¿­ä»£å™¨ï¼Œéœ€è¦ä¸ end() æ¯”è¾ƒ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++20 æ–°å¢ contains() æ–¹æ³•ï¼Œè¿”å› boolï¼Œæ›´æ¥è¿‘ Go çš„è¯­ä¹‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go çš„æ–¹å¼æ›´ç®€æ´ï¼Œä¸€è¡Œä»£ç åŒæ—¶è·å–å€¼å’Œæ£€æŸ¥å­˜åœ¨æ€§</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ çš„ count() å¯¹äº unordered_map åªè¿”å› 0 æˆ– 1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;9. æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨:&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>if</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>scores</span><span class=p>[</span><span class=s>&#34;æ•°å­¦&#34;</span><span class=p>];</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;æ•°å­¦æˆç»©å­˜åœ¨&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>if</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>scores</span><span class=p>[</span><span class=s>&#34;ç‰©ç†&#34;</span><span class=p>];</span><span class=w> </span><span class=p>!</span><span class=nx>ok</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;ç‰©ç†æˆç»©ä¸å­˜åœ¨&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// 10. map çš„é›¶å€¼å’Œæ¸…ç©º</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// ã€ä¸ C++ å¯¹æ¯”ã€‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// Go:  var emptyMap map[string]int  // nil map</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// C++: std::unordered_map&lt;std::string, int&gt; emptyMap;  // ç©º mapï¼Œä¸æ˜¯ null</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// ä¸»è¦å·®å¼‚ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go çš„ map é›¶å€¼æ˜¯ nilï¼Œå¯ä»¥è¯»å–ä½†ä¸èƒ½å†™å…¥ï¼ˆä¼š panicï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ çš„ unordered_map æ²¡æœ‰ null æ¦‚å¿µï¼Œå£°æ˜å³å¯ç”¨</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go éœ€è¦æ˜¾å¼åˆå§‹åŒ–æ‰èƒ½å†™å…¥: make(map[K]V) æˆ–å­—é¢é‡</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ çš„é»˜è®¤æ„é€ å‡½æ•°è‡ªåŠ¨åˆ›å»ºå¯ç”¨çš„ç©º map</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// æ¸…ç©ºæ“ä½œï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// Go:  myMap = make(map[string]int)  // é‡æ–°åˆ†é…</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//      æˆ–éå†åˆ é™¤: for k := range myMap { delete(myMap, k) }</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// C++: myMap.clear();  // æœ‰ä¸“é—¨çš„æ¸…ç©ºæ–¹æ³•</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;10. map çš„é›¶å€¼:&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=kd>var</span><span class=w> </span><span class=nx>emptyMap</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;æœªåˆå§‹åŒ–çš„ map: %v (nil: %v)\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>emptyMap</span><span class=p>,</span><span class=w> </span><span class=nx>emptyMap</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>nil</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// æ³¨æ„ï¼šnil map å¯ä»¥è¯»å–ï¼Œä½†ä¸èƒ½å†™å…¥</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// emptyMap[&#34;key&#34;] = 1  // è¿™ä¼š panic</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// æ¸…ç©º mapï¼ˆé‡æ–°èµ‹å€¼ï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>scores</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;æ¸…ç©ºåçš„ map: %v\n\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>scores</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// 11. å¤æ‚ç±»å‹ä½œä¸ºå€¼</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// ã€ä¸ C++ å¯¹æ¯”ã€‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// Go:  map[int]Student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// C++: std::unordered_map&lt;int, Student&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// ä¸»è¦å·®å¼‚ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go çš„ç»“æ„ä½“ä½œä¸ºå€¼æ—¶æ˜¯å€¼æ‹·è´ï¼Œä¿®æ”¹éœ€è¦é‡æ–°èµ‹å€¼æ•´ä¸ªç»“æ„ä½“</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//   ä¾‹å¦‚: s := students[1001]; s.Age = 20; students[1001] = s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ ä¹Ÿæ˜¯å€¼æ‹·è´ï¼Œä½†å¯ä»¥é€šè¿‡å¼•ç”¨ä¿®æ”¹: students[1001].Age = 20;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go å¦‚æœéœ€è¦ä¿®æ”¹ï¼Œå»ºè®®ä½¿ç”¨æŒ‡é’ˆ: map[int]*Student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ å¯ä»¥ç”¨ emplace() åŸåœ°æ„é€ ï¼Œé¿å…æ‹·è´</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// æ³¨æ„ï¼šGo ä¸èƒ½ç›´æ¥ä¿®æ”¹ map ä¸­ç»“æ„ä½“çš„å­—æ®µ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// students[1001].Age = 20  // ç¼–è¯‘é”™è¯¯ï¼</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;11. å¤æ‚ç±»å‹çš„ map:&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// map çš„å€¼å¯ä»¥æ˜¯ç»“æ„ä½“</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=kd>type</span><span class=w> </span><span class=nx>Student</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=nx>Name</span><span class=w>  </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=nx>Age</span><span class=w>   </span><span class=kt>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=nx>Grade</span><span class=w> </span><span class=kt>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>students</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>int</span><span class=p>]</span><span class=nx>Student</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=mi>1001</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=s>&#34;å¼ ä¸‰&#34;</span><span class=p>,</span><span class=w> </span><span class=mi>18</span><span class=p>,</span><span class=w> </span><span class=mi>90</span><span class=p>},</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=mi>1002</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=s>&#34;æå››&#34;</span><span class=p>,</span><span class=w> </span><span class=mi>19</span><span class=p>,</span><span class=w> </span><span class=mi>85</span><span class=p>},</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;å­¦ç”Ÿä¿¡æ¯: %v\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>students</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;å­¦å· 1001: %v\n\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>students</span><span class=p>[</span><span class=mi>1001</span><span class=p>])</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// 12. map åµŒå¥—</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// ã€ä¸ C++ å¯¹æ¯”ã€‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// Go:  map[string]map[string]int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// C++: std::unordered_map&lt;std::string, std::unordered_map&lt;std::string, int&gt;&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// ä¸»è¦å·®å¼‚ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - è¯­æ³•ç±»ä¼¼ï¼Œä½† C++ çš„æ¨¡æ¿åµŒå¥—æ›´å†—é•¿</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - Go åˆå§‹åŒ–å†…å±‚ map æ—¶è¯­æ³•æ›´ç®€æ´</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - æ³¨æ„ï¼šè®¿é—®ä¸å­˜åœ¨çš„å¤–å±‚é”®æ—¶ï¼ŒGo è¿”å› nil mapï¼Œè®¿é—®ä¼š panic</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//   å»ºè®®å…ˆæ£€æŸ¥: if inner, ok := outer[&#34;key&#34;]; ok { ... }</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// - C++ çš„ [] ä¼šè‡ªåŠ¨åˆ›å»ºä¸å­˜åœ¨çš„é”®</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;12. map åµŒå¥—:&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>classScores</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=s>&#34;ä¸€ç­&#34;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>			</span><span class=s>&#34;å¼ ä¸‰&#34;</span><span class=p>:</span><span class=w> </span><span class=mi>90</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>			</span><span class=s>&#34;æå››&#34;</span><span class=p>:</span><span class=w> </span><span class=mi>85</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=p>},</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=s>&#34;äºŒç­&#34;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>			</span><span class=s>&#34;ç‹äº”&#34;</span><span class=p>:</span><span class=w> </span><span class=mi>92</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>			</span><span class=s>&#34;èµµå…­&#34;</span><span class=p>:</span><span class=w> </span><span class=mi>88</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=p>},</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;ç­çº§æˆç»©: %v\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>classScores</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;ä¸€ç­å¼ ä¸‰çš„æˆç»©: %d\n&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>classScores</span><span class=p>[</span><span class=s>&#34;ä¸€ç­&#34;</span><span class=p>][</span><span class=s>&#34;å¼ ä¸‰&#34;</span><span class=p>])</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// ========================================</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// ã€Go map vs C++ unordered_map æ€»ç»“å¯¹æ¯”ã€‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// ========================================</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// 1. ç±»å‹ç³»ç»Ÿï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    - Go: map æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¼ é€’æ—¶ä¸æ‹·è´æ•°æ®</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    - C++: unordered_map æ˜¯å€¼ç±»å‹ï¼Œä¼ é€’æ—¶æ‹·è´ï¼ˆå¯ç”¨å¼•ç”¨ä¼˜åŒ–ï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// 2. çº¿ç¨‹å®‰å…¨ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    - Go: map ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œéœ€è¦ sync.Mutex æˆ– sync.Map</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    - C++: unordered_map ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œéœ€è¦è‡ªè¡ŒåŠ é”</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// 3. é”®çš„è¦æ±‚ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    - Go: é”®å¿…é¡»æ˜¯å¯æ¯”è¾ƒç±»å‹ï¼ˆæ”¯æŒ ==ï¼‰ï¼Œä¸èƒ½æ˜¯ sliceã€mapã€function</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    - C++: é”®å¿…é¡»æœ‰ hash å‡½æ•°å’Œ == è¿ç®—ç¬¦</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// 4. æ€§èƒ½ç‰¹ç‚¹ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    - Go: å“ˆå¸Œè¡¨å®ç°ï¼Œå¹³å‡ O(1)ï¼Œè‡ªåŠ¨æ‰©å®¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    - C++: å“ˆå¸Œè¡¨å®ç°ï¼Œå¹³å‡ O(1)ï¼Œå¯ä»¥è‡ªå®šä¹‰ hash å’Œ load factor</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// 5. å†…å­˜ç®¡ç†ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    - Go: è‡ªåŠ¨åƒåœ¾å›æ”¶ï¼Œåˆ é™¤å…ƒç´ ä¸ä¸€å®šç«‹å³é‡Šæ”¾å†…å­˜</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    - C++: æ‰‹åŠ¨ç®¡ç†ï¼ˆRAIIï¼‰ï¼Œåˆ é™¤å…ƒç´ ç«‹å³é‡Šæ”¾å†…å­˜</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// 6. è¿­ä»£é¡ºåºï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    - Go: æ•…æ„éšæœºåŒ–ï¼Œæ¯æ¬¡è¿è¡Œå¯èƒ½ä¸åŒ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    - C++: ä¸ç¡®å®šä½†åŒä¸€æ¬¡è¿è¡Œä¸­ç›¸å¯¹ç¨³å®š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// 7. é›¶å€¼/ç©ºå€¼ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    - Go: nil map å¯è¯»ä¸å¯å†™ï¼Œéœ€è¦å…ˆ make</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    - C++: é»˜è®¤æ„é€ å³å¯ç”¨ï¼Œæ—  null æ¦‚å¿µ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// 8. å¸¸ç”¨æ“ä½œå¯¹æ¯”è¡¨ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    â”‚   æ“ä½œ      â”‚          Go              â”‚            C++                 â”‚</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    â”‚ åˆ›å»º        â”‚ make(map[K]V)            â”‚ unordered_map&lt;K,V&gt; m;          â”‚</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    â”‚ æ·»åŠ /ä¿®æ”¹   â”‚ m[k] = v                 â”‚ m[k] = v;                      â”‚</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    â”‚ æŸ¥è¯¢        â”‚ v := m[k]                â”‚ v = m[k];                      â”‚</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    â”‚ å®‰å…¨æŸ¥è¯¢    â”‚ v, ok := m[k]            â”‚ auto it = m.find(k);           â”‚</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    â”‚ å­˜åœ¨æ€§æ£€æŸ¥  â”‚ _, ok := m[k]            â”‚ m.contains(k) // C++20         â”‚</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    â”‚ åˆ é™¤        â”‚ delete(m, k)             â”‚ m.erase(k);                    â”‚</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    â”‚ é•¿åº¦        â”‚ len(m)                   â”‚ m.size()                       â”‚</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    â”‚ æ¸…ç©º        â”‚ m = make(map[K]V)        â”‚ m.clear();                     â”‚</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    â”‚ éå†        â”‚ for k, v := range m {...}â”‚ for(auto&amp; [k,v]:m){...}        â”‚</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// 9. ä½•æ—¶é€‰æ‹©ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    - Go map: ç®€æ´æ˜“ç”¨ï¼Œé€‚åˆå¤§å¤šæ•°åœºæ™¯ï¼Œéœ€è¦åƒåœ¾å›æ”¶çš„é¡¹ç›®</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//    - C++ unordered_map: éœ€è¦æ›´ç²¾ç»†çš„å†…å­˜æ§åˆ¶ï¼Œæ€§èƒ½å…³é”®è·¯å¾„</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	// 10. å®ç”¨å»ºè®®ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//     Go:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//     - æ€»æ˜¯æ£€æŸ¥ nil map å†å†™å…¥</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//     - ä½¿ç”¨ comma-ok æƒ¯ç”¨æ³•æ£€æŸ¥é”®å­˜åœ¨æ€§</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//     - éœ€è¦å¹¶å‘è®¿é—®æ—¶ä½¿ç”¨ sync.Map æˆ–åŠ é”</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//     - å¦‚æœéœ€è¦æœ‰åºéå†ï¼Œè€ƒè™‘å…ˆæ’åºé”®</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>	//     C++:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//     - ä¼ é€’ map æ—¶ä½¿ç”¨ const&amp; é¿å…æ‹·è´</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//     - ä½¿ç”¨ emplace() åŸåœ°æ„é€ æé«˜æ€§èƒ½</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//     - éœ€è¦æœ‰åºéå†ä½¿ç”¨ std::map è€Œä¸æ˜¯ unordered_map</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>//     - C++20 ä¼˜å…ˆä½¿ç”¨ contains() è€Œä¸æ˜¯ find()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;\n=== æ•™ç¨‹ç»“æŸ ===&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://neo-dai.github.io/tags/golang/>Golang</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://neo-dai.github.io/>Notes</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script src=https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js></script><script>mermaid.initialize({startOnLoad:!0,theme:"default",securityLevel:"loose"}),document.querySelectorAll(".mermaid").length>0&&mermaid.run()</script><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>