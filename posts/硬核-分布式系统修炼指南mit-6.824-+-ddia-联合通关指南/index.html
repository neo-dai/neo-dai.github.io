<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[ç¡¬æ ¸] åˆ†å¸ƒå¼ç³»ç»Ÿä¿®ç‚¼æŒ‡å—ï¼šMIT 6.824 + DDIA è”åˆé€šå…³æŒ‡å— | Notes</title><meta name=keywords content="åˆ†å¸ƒå¼,MIT 6.824,DDIA,æ•°æ®å¯†é›†å‹åº”ç”¨,Raft,Go"><meta name=description content='å‰è¨€ï¼šä¸ºä»€ä¹ˆé€‰æ‹©è¿™æ¡è·¯ï¼Ÿ
åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿçš„å­¦ä¹ è·¯å¾„ä¸­ï¼Œæœ‰ä¸¤åº§å…¬è®¤çš„å¤§å±±ï¼š

ç†è®ºåœ£ç»ï¼šã€Šæ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿè®¾è®¡ã€‹(DDIA) â€”â€” æ•™ä½ "æ€ä¹ˆé€‰"ã€&ldquo;æ€ä¹ˆè®¾è®¡&rdquo;
å®è·µå·…å³°ï¼šMIT 6.824 (Distributed Systems) â€”â€” æ•™ä½ "æ€ä¹ˆåš"ã€&ldquo;æ€ä¹ˆå®ç°&rdquo;

å¾ˆå¤šäººåˆ†å¼€å­¦ï¼Œç»“æœå¾€å¾€æ˜¯ï¼šçœ‹äº†ä¹¦è§‰å¾—æ‡‚äº†ï¼Œä¸€å†™ä»£ç å°±å´©ï¼›æˆ–è€…é—·å¤´å†™ä»£ç ï¼Œå´ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ã€‚

ğŸ’¡ è¿™ä»½è®¡åˆ’æ—¨åœ¨å°†ç†è®º(DDIA)ä¸å®è·µ(MIT 6.824)æ·±åº¦èåˆï¼ŒåŠ©ä½ ä»åŸæœ¬çš„"CRUDå·¥ç¨‹å¸ˆ"è¿›é˜¶ä¸ºçœŸæ­£çš„åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘è€…ã€‚


0. å‡†å¤‡å·¥ä½œ(é¢„å¤‡å‘¨)
è¯­è¨€åŸºç¡€
MIT 6.824 Labså…¨ç¨‹ä½¿ç”¨Goè¯­è¨€ã€‚
Action: å®ŒæˆA Tour of Go
é‡ç‚¹æ”»å…‹ä»¥ä¸‹Goå¹¶å‘åŸè¯­ï¼š
// éœ€è¦ç†Ÿç»ƒæŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ
- Goroutines      // è½»é‡çº§çº¿ç¨‹
- Channels        // åç¨‹é—´é€šä¿¡
- Mutex/RWMutex   // äº’æ–¥é”å’Œè¯»å†™é”
- sync.Cond       // æ¡ä»¶å˜é‡
å¿ƒæ€å‡†å¤‡
âš ï¸ è­¦å‘Šï¼šè¿™ä¸ä¼šå¾ˆå®¹æ˜“ã€‚Lab 2(Raft)å¯èƒ½ä¼šè®©ä½ æ€€ç–‘äººç”Ÿï¼Œè¯·åšå¥½å¿ƒç†å‡†å¤‡ã€‚

Phase 1: åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºçŸ³(1-2å‘¨)
ç›®æ ‡ï¼šç†è§£åˆ†å¸ƒå¼å­˜å‚¨çš„åŸºæœ¬å½¢æ€ï¼Œä¹ æƒ¯RPCç¼–ç¨‹ã€‚
ğŸ“– é˜…è¯»(DDIA)

Ch 5: Replication(å¤åˆ¶) - é‡ç‚¹ç†è§£Leader-based replicationï¼Œè¿™æ˜¯GFSå’ŒRaftçš„åŸºç¡€
Ch 1: Reliable, Scalable, Maintainable - å»ºç«‹å®è§‚æ¦‚å¿µ

ğŸ’» è¯¾ç¨‹(MIT 6.824)

Lecture: MapReduce, GFS(å¯ä»¥åªçœ‹è®²ä¹‰/è®ºæ–‡ï¼Œè§†é¢‘é€‰çœ‹)
Lab 1: MapReduce - å®ç°ä¸€ä¸ªç®€å•çš„å•è¯è®¡æ•°å™¨

é‡ç‚¹ï¼šç†Ÿæ‚‰RPCæ¡†æ¶
éš¾ç‚¹ï¼šé€‚åº”Debugåˆ†å¸ƒå¼ç¨‹åºçš„ç—›è‹¦



âœ… é˜¶æ®µç›®æ ‡

 ç†è§£Master-Workeræ¶æ„
 èƒ½å¤Ÿä½¿ç”¨Goçš„RPCåº“
 æŒæ¡åŸºæœ¬çš„åˆ†å¸ƒå¼è°ƒè¯•æŠ€å·§


Phase 2: æ ¸å¿ƒéš¾å…³â€”â€”å…±è¯†ç®—æ³•Raft(3-5å‘¨)
ç›®æ ‡ï¼šè¿™æ˜¯æ•´ä¸ªè®¡åˆ’ä¸­æœ€éš¾ã€å«é‡‘é‡æœ€é«˜çš„éƒ¨åˆ†ã€‚åˆ‡å‹¿æ±‚å¿«ï¼'><meta name=author content="neo"><link rel=canonical href=https://neo-dai.github.io/posts/%E7%A1%AC%E6%A0%B8-%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E4%BF%AE%E7%82%BC%E6%8C%87%E5%8D%97mit-6.824-+-ddia-%E8%81%94%E5%90%88%E9%80%9A%E5%85%B3%E6%8C%87%E5%8D%97/><link crossorigin=anonymous href=/assets/css/stylesheet.b4dfb58bc1aadc21cb0542f53df82233971252c1283b7ff385ac519b35b25bc3.css integrity="sha256-tN+1i8Gq3CHLBUL1PfgiM5cSUsEoO3/zhaxRmzWyW8M=" rel="preload stylesheet" as=style><link rel=icon href=https://neo-dai.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://neo-dai.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://neo-dai.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://neo-dai.github.io/apple-touch-icon.png><link rel=mask-icon href=https://neo-dai.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://neo-dai.github.io/posts/%E7%A1%AC%E6%A0%B8-%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E4%BF%AE%E7%82%BC%E6%8C%87%E5%8D%97mit-6.824-+-ddia-%E8%81%94%E5%90%88%E9%80%9A%E5%85%B3%E6%8C%87%E5%8D%97/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;400;500;600;700&display=swap" rel=stylesheet><meta property="og:url" content="https://neo-dai.github.io/posts/%E7%A1%AC%E6%A0%B8-%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E4%BF%AE%E7%82%BC%E6%8C%87%E5%8D%97mit-6.824-+-ddia-%E8%81%94%E5%90%88%E9%80%9A%E5%85%B3%E6%8C%87%E5%8D%97/"><meta property="og:site_name" content="Notes"><meta property="og:title" content="[ç¡¬æ ¸] åˆ†å¸ƒå¼ç³»ç»Ÿä¿®ç‚¼æŒ‡å—ï¼šMIT 6.824 + DDIA è”åˆé€šå…³æŒ‡å—"><meta property="og:description" content='å‰è¨€ï¼šä¸ºä»€ä¹ˆé€‰æ‹©è¿™æ¡è·¯ï¼Ÿ åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿçš„å­¦ä¹ è·¯å¾„ä¸­ï¼Œæœ‰ä¸¤åº§å…¬è®¤çš„å¤§å±±ï¼š
ç†è®ºåœ£ç»ï¼šã€Šæ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿè®¾è®¡ã€‹(DDIA) â€”â€” æ•™ä½ "æ€ä¹ˆé€‰"ã€â€œæ€ä¹ˆè®¾è®¡â€ å®è·µå·…å³°ï¼šMIT 6.824 (Distributed Systems) â€”â€” æ•™ä½ "æ€ä¹ˆåš"ã€â€œæ€ä¹ˆå®ç°â€ å¾ˆå¤šäººåˆ†å¼€å­¦ï¼Œç»“æœå¾€å¾€æ˜¯ï¼šçœ‹äº†ä¹¦è§‰å¾—æ‡‚äº†ï¼Œä¸€å†™ä»£ç å°±å´©ï¼›æˆ–è€…é—·å¤´å†™ä»£ç ï¼Œå´ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ã€‚
ğŸ’¡ è¿™ä»½è®¡åˆ’æ—¨åœ¨å°†ç†è®º(DDIA)ä¸å®è·µ(MIT 6.824)æ·±åº¦èåˆï¼ŒåŠ©ä½ ä»åŸæœ¬çš„"CRUDå·¥ç¨‹å¸ˆ"è¿›é˜¶ä¸ºçœŸæ­£çš„åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘è€…ã€‚
0. å‡†å¤‡å·¥ä½œ(é¢„å¤‡å‘¨) è¯­è¨€åŸºç¡€ MIT 6.824 Labså…¨ç¨‹ä½¿ç”¨Goè¯­è¨€ã€‚
Action: å®ŒæˆA Tour of Go
é‡ç‚¹æ”»å…‹ä»¥ä¸‹Goå¹¶å‘åŸè¯­ï¼š
// éœ€è¦ç†Ÿç»ƒæŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ - Goroutines // è½»é‡çº§çº¿ç¨‹ - Channels // åç¨‹é—´é€šä¿¡ - Mutex/RWMutex // äº’æ–¥é”å’Œè¯»å†™é” - sync.Cond // æ¡ä»¶å˜é‡ å¿ƒæ€å‡†å¤‡ âš ï¸ è­¦å‘Šï¼šè¿™ä¸ä¼šå¾ˆå®¹æ˜“ã€‚Lab 2(Raft)å¯èƒ½ä¼šè®©ä½ æ€€ç–‘äººç”Ÿï¼Œè¯·åšå¥½å¿ƒç†å‡†å¤‡ã€‚
Phase 1: åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºçŸ³(1-2å‘¨) ç›®æ ‡ï¼šç†è§£åˆ†å¸ƒå¼å­˜å‚¨çš„åŸºæœ¬å½¢æ€ï¼Œä¹ æƒ¯RPCç¼–ç¨‹ã€‚
ğŸ“– é˜…è¯»(DDIA) Ch 5: Replication(å¤åˆ¶) - é‡ç‚¹ç†è§£Leader-based replicationï¼Œè¿™æ˜¯GFSå’ŒRaftçš„åŸºç¡€ Ch 1: Reliable, Scalable, Maintainable - å»ºç«‹å®è§‚æ¦‚å¿µ ğŸ’» è¯¾ç¨‹(MIT 6.824) Lecture: MapReduce, GFS(å¯ä»¥åªçœ‹è®²ä¹‰/è®ºæ–‡ï¼Œè§†é¢‘é€‰çœ‹) Lab 1: MapReduce - å®ç°ä¸€ä¸ªç®€å•çš„å•è¯è®¡æ•°å™¨ é‡ç‚¹ï¼šç†Ÿæ‚‰RPCæ¡†æ¶ éš¾ç‚¹ï¼šé€‚åº”Debugåˆ†å¸ƒå¼ç¨‹åºçš„ç—›è‹¦ âœ… é˜¶æ®µç›®æ ‡ ç†è§£Master-Workeræ¶æ„ èƒ½å¤Ÿä½¿ç”¨Goçš„RPCåº“ æŒæ¡åŸºæœ¬çš„åˆ†å¸ƒå¼è°ƒè¯•æŠ€å·§ Phase 2: æ ¸å¿ƒéš¾å…³â€”â€”å…±è¯†ç®—æ³•Raft(3-5å‘¨) ç›®æ ‡ï¼šè¿™æ˜¯æ•´ä¸ªè®¡åˆ’ä¸­æœ€éš¾ã€å«é‡‘é‡æœ€é«˜çš„éƒ¨åˆ†ã€‚åˆ‡å‹¿æ±‚å¿«ï¼'><meta property="og:locale" content="zh-CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-11-21T20:11:37+08:00"><meta property="article:modified_time" content="2025-11-21T20:11:37+08:00"><meta property="article:tag" content="åˆ†å¸ƒå¼"><meta property="article:tag" content="MIT 6.824"><meta property="article:tag" content="DDIA"><meta property="article:tag" content="æ•°æ®å¯†é›†å‹åº”ç”¨"><meta property="article:tag" content="Raft"><meta property="article:tag" content="Go"><meta property="og:see_also" content="https://neo-dai.github.io/posts/mapreduce%E4%B8%AD%E8%AF%91/"><meta name=twitter:card content="summary"><meta name=twitter:title content="[ç¡¬æ ¸] åˆ†å¸ƒå¼ç³»ç»Ÿä¿®ç‚¼æŒ‡å—ï¼šMIT 6.824 + DDIA è”åˆé€šå…³æŒ‡å—"><meta name=twitter:description content='å‰è¨€ï¼šä¸ºä»€ä¹ˆé€‰æ‹©è¿™æ¡è·¯ï¼Ÿ
åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿçš„å­¦ä¹ è·¯å¾„ä¸­ï¼Œæœ‰ä¸¤åº§å…¬è®¤çš„å¤§å±±ï¼š

ç†è®ºåœ£ç»ï¼šã€Šæ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿè®¾è®¡ã€‹(DDIA) â€”â€” æ•™ä½ "æ€ä¹ˆé€‰"ã€&ldquo;æ€ä¹ˆè®¾è®¡&rdquo;
å®è·µå·…å³°ï¼šMIT 6.824 (Distributed Systems) â€”â€” æ•™ä½ "æ€ä¹ˆåš"ã€&ldquo;æ€ä¹ˆå®ç°&rdquo;

å¾ˆå¤šäººåˆ†å¼€å­¦ï¼Œç»“æœå¾€å¾€æ˜¯ï¼šçœ‹äº†ä¹¦è§‰å¾—æ‡‚äº†ï¼Œä¸€å†™ä»£ç å°±å´©ï¼›æˆ–è€…é—·å¤´å†™ä»£ç ï¼Œå´ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ã€‚

ğŸ’¡ è¿™ä»½è®¡åˆ’æ—¨åœ¨å°†ç†è®º(DDIA)ä¸å®è·µ(MIT 6.824)æ·±åº¦èåˆï¼ŒåŠ©ä½ ä»åŸæœ¬çš„"CRUDå·¥ç¨‹å¸ˆ"è¿›é˜¶ä¸ºçœŸæ­£çš„åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘è€…ã€‚


0. å‡†å¤‡å·¥ä½œ(é¢„å¤‡å‘¨)
è¯­è¨€åŸºç¡€
MIT 6.824 Labså…¨ç¨‹ä½¿ç”¨Goè¯­è¨€ã€‚
Action: å®ŒæˆA Tour of Go
é‡ç‚¹æ”»å…‹ä»¥ä¸‹Goå¹¶å‘åŸè¯­ï¼š
// éœ€è¦ç†Ÿç»ƒæŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ
- Goroutines      // è½»é‡çº§çº¿ç¨‹
- Channels        // åç¨‹é—´é€šä¿¡
- Mutex/RWMutex   // äº’æ–¥é”å’Œè¯»å†™é”
- sync.Cond       // æ¡ä»¶å˜é‡
å¿ƒæ€å‡†å¤‡
âš ï¸ è­¦å‘Šï¼šè¿™ä¸ä¼šå¾ˆå®¹æ˜“ã€‚Lab 2(Raft)å¯èƒ½ä¼šè®©ä½ æ€€ç–‘äººç”Ÿï¼Œè¯·åšå¥½å¿ƒç†å‡†å¤‡ã€‚

Phase 1: åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºçŸ³(1-2å‘¨)
ç›®æ ‡ï¼šç†è§£åˆ†å¸ƒå¼å­˜å‚¨çš„åŸºæœ¬å½¢æ€ï¼Œä¹ æƒ¯RPCç¼–ç¨‹ã€‚
ğŸ“– é˜…è¯»(DDIA)

Ch 5: Replication(å¤åˆ¶) - é‡ç‚¹ç†è§£Leader-based replicationï¼Œè¿™æ˜¯GFSå’ŒRaftçš„åŸºç¡€
Ch 1: Reliable, Scalable, Maintainable - å»ºç«‹å®è§‚æ¦‚å¿µ

ğŸ’» è¯¾ç¨‹(MIT 6.824)

Lecture: MapReduce, GFS(å¯ä»¥åªçœ‹è®²ä¹‰/è®ºæ–‡ï¼Œè§†é¢‘é€‰çœ‹)
Lab 1: MapReduce - å®ç°ä¸€ä¸ªç®€å•çš„å•è¯è®¡æ•°å™¨

é‡ç‚¹ï¼šç†Ÿæ‚‰RPCæ¡†æ¶
éš¾ç‚¹ï¼šé€‚åº”Debugåˆ†å¸ƒå¼ç¨‹åºçš„ç—›è‹¦



âœ… é˜¶æ®µç›®æ ‡

 ç†è§£Master-Workeræ¶æ„
 èƒ½å¤Ÿä½¿ç”¨Goçš„RPCåº“
 æŒæ¡åŸºæœ¬çš„åˆ†å¸ƒå¼è°ƒè¯•æŠ€å·§


Phase 2: æ ¸å¿ƒéš¾å…³â€”â€”å…±è¯†ç®—æ³•Raft(3-5å‘¨)
ç›®æ ‡ï¼šè¿™æ˜¯æ•´ä¸ªè®¡åˆ’ä¸­æœ€éš¾ã€å«é‡‘é‡æœ€é«˜çš„éƒ¨åˆ†ã€‚åˆ‡å‹¿æ±‚å¿«ï¼'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://neo-dai.github.io/posts/"},{"@type":"ListItem","position":2,"name":"[ç¡¬æ ¸] åˆ†å¸ƒå¼ç³»ç»Ÿä¿®ç‚¼æŒ‡å—ï¼šMIT 6.824 + DDIA è”åˆé€šå…³æŒ‡å—","item":"https://neo-dai.github.io/posts/%E7%A1%AC%E6%A0%B8-%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E4%BF%AE%E7%82%BC%E6%8C%87%E5%8D%97mit-6.824-+-ddia-%E8%81%94%E5%90%88%E9%80%9A%E5%85%B3%E6%8C%87%E5%8D%97/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[ç¡¬æ ¸] åˆ†å¸ƒå¼ç³»ç»Ÿä¿®ç‚¼æŒ‡å—ï¼šMIT 6.824 + DDIA è”åˆé€šå…³æŒ‡å—","name":"[ç¡¬æ ¸] åˆ†å¸ƒå¼ç³»ç»Ÿä¿®ç‚¼æŒ‡å—ï¼šMIT 6.824 \u002b DDIA è”åˆé€šå…³æŒ‡å—","description":"å‰è¨€ï¼šä¸ºä»€ä¹ˆé€‰æ‹©è¿™æ¡è·¯ï¼Ÿ åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿçš„å­¦ä¹ è·¯å¾„ä¸­ï¼Œæœ‰ä¸¤åº§å…¬è®¤çš„å¤§å±±ï¼š\nç†è®ºåœ£ç»ï¼šã€Šæ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿè®¾è®¡ã€‹(DDIA) â€”â€” æ•™ä½ \u0026quot;æ€ä¹ˆé€‰\u0026quot;ã€\u0026ldquo;æ€ä¹ˆè®¾è®¡\u0026rdquo; å®è·µå·…å³°ï¼šMIT 6.824 (Distributed Systems) â€”â€” æ•™ä½ \u0026quot;æ€ä¹ˆåš\u0026quot;ã€\u0026ldquo;æ€ä¹ˆå®ç°\u0026rdquo; å¾ˆå¤šäººåˆ†å¼€å­¦ï¼Œç»“æœå¾€å¾€æ˜¯ï¼šçœ‹äº†ä¹¦è§‰å¾—æ‡‚äº†ï¼Œä¸€å†™ä»£ç å°±å´©ï¼›æˆ–è€…é—·å¤´å†™ä»£ç ï¼Œå´ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ã€‚\nğŸ’¡ è¿™ä»½è®¡åˆ’æ—¨åœ¨å°†ç†è®º(DDIA)ä¸å®è·µ(MIT 6.824)æ·±åº¦èåˆï¼ŒåŠ©ä½ ä»åŸæœ¬çš„\u0026quot;CRUDå·¥ç¨‹å¸ˆ\u0026quot;è¿›é˜¶ä¸ºçœŸæ­£çš„åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘è€…ã€‚\n0. å‡†å¤‡å·¥ä½œ(é¢„å¤‡å‘¨) è¯­è¨€åŸºç¡€ MIT 6.824 Labså…¨ç¨‹ä½¿ç”¨Goè¯­è¨€ã€‚\nAction: å®ŒæˆA Tour of Go\né‡ç‚¹æ”»å…‹ä»¥ä¸‹Goå¹¶å‘åŸè¯­ï¼š\n// éœ€è¦ç†Ÿç»ƒæŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ - Goroutines // è½»é‡çº§çº¿ç¨‹ - Channels // åç¨‹é—´é€šä¿¡ - Mutex/RWMutex // äº’æ–¥é”å’Œè¯»å†™é” - sync.Cond // æ¡ä»¶å˜é‡ å¿ƒæ€å‡†å¤‡ âš ï¸ è­¦å‘Šï¼šè¿™ä¸ä¼šå¾ˆå®¹æ˜“ã€‚Lab 2(Raft)å¯èƒ½ä¼šè®©ä½ æ€€ç–‘äººç”Ÿï¼Œè¯·åšå¥½å¿ƒç†å‡†å¤‡ã€‚\nPhase 1: åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºçŸ³(1-2å‘¨) ç›®æ ‡ï¼šç†è§£åˆ†å¸ƒå¼å­˜å‚¨çš„åŸºæœ¬å½¢æ€ï¼Œä¹ æƒ¯RPCç¼–ç¨‹ã€‚\nğŸ“– é˜…è¯»(DDIA) Ch 5: Replication(å¤åˆ¶) - é‡ç‚¹ç†è§£Leader-based replicationï¼Œè¿™æ˜¯GFSå’ŒRaftçš„åŸºç¡€ Ch 1: Reliable, Scalable, Maintainable - å»ºç«‹å®è§‚æ¦‚å¿µ ğŸ’» è¯¾ç¨‹(MIT 6.824) Lecture: MapReduce, GFS(å¯ä»¥åªçœ‹è®²ä¹‰/è®ºæ–‡ï¼Œè§†é¢‘é€‰çœ‹) Lab 1: MapReduce - å®ç°ä¸€ä¸ªç®€å•çš„å•è¯è®¡æ•°å™¨ é‡ç‚¹ï¼šç†Ÿæ‚‰RPCæ¡†æ¶ éš¾ç‚¹ï¼šé€‚åº”Debugåˆ†å¸ƒå¼ç¨‹åºçš„ç—›è‹¦ âœ… é˜¶æ®µç›®æ ‡ ç†è§£Master-Workeræ¶æ„ èƒ½å¤Ÿä½¿ç”¨Goçš„RPCåº“ æŒæ¡åŸºæœ¬çš„åˆ†å¸ƒå¼è°ƒè¯•æŠ€å·§ Phase 2: æ ¸å¿ƒéš¾å…³â€”â€”å…±è¯†ç®—æ³•Raft(3-5å‘¨) ç›®æ ‡ï¼šè¿™æ˜¯æ•´ä¸ªè®¡åˆ’ä¸­æœ€éš¾ã€å«é‡‘é‡æœ€é«˜çš„éƒ¨åˆ†ã€‚åˆ‡å‹¿æ±‚å¿«ï¼\n","keywords":["åˆ†å¸ƒå¼","MIT 6.824","DDIA","æ•°æ®å¯†é›†å‹åº”ç”¨","Raft","Go"],"articleBody":"å‰è¨€ï¼šä¸ºä»€ä¹ˆé€‰æ‹©è¿™æ¡è·¯ï¼Ÿ åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿçš„å­¦ä¹ è·¯å¾„ä¸­ï¼Œæœ‰ä¸¤åº§å…¬è®¤çš„å¤§å±±ï¼š\nç†è®ºåœ£ç»ï¼šã€Šæ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿè®¾è®¡ã€‹(DDIA) â€”â€” æ•™ä½ \"æ€ä¹ˆé€‰\"ã€â€œæ€ä¹ˆè®¾è®¡â€ å®è·µå·…å³°ï¼šMIT 6.824 (Distributed Systems) â€”â€” æ•™ä½ \"æ€ä¹ˆåš\"ã€â€œæ€ä¹ˆå®ç°â€ å¾ˆå¤šäººåˆ†å¼€å­¦ï¼Œç»“æœå¾€å¾€æ˜¯ï¼šçœ‹äº†ä¹¦è§‰å¾—æ‡‚äº†ï¼Œä¸€å†™ä»£ç å°±å´©ï¼›æˆ–è€…é—·å¤´å†™ä»£ç ï¼Œå´ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ã€‚\nğŸ’¡ è¿™ä»½è®¡åˆ’æ—¨åœ¨å°†ç†è®º(DDIA)ä¸å®è·µ(MIT 6.824)æ·±åº¦èåˆï¼ŒåŠ©ä½ ä»åŸæœ¬çš„\"CRUDå·¥ç¨‹å¸ˆ\"è¿›é˜¶ä¸ºçœŸæ­£çš„åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘è€…ã€‚\n0. å‡†å¤‡å·¥ä½œ(é¢„å¤‡å‘¨) è¯­è¨€åŸºç¡€ MIT 6.824 Labså…¨ç¨‹ä½¿ç”¨Goè¯­è¨€ã€‚\nAction: å®ŒæˆA Tour of Go\né‡ç‚¹æ”»å…‹ä»¥ä¸‹Goå¹¶å‘åŸè¯­ï¼š\n// éœ€è¦ç†Ÿç»ƒæŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ - Goroutines // è½»é‡çº§çº¿ç¨‹ - Channels // åç¨‹é—´é€šä¿¡ - Mutex/RWMutex // äº’æ–¥é”å’Œè¯»å†™é” - sync.Cond // æ¡ä»¶å˜é‡ å¿ƒæ€å‡†å¤‡ âš ï¸ è­¦å‘Šï¼šè¿™ä¸ä¼šå¾ˆå®¹æ˜“ã€‚Lab 2(Raft)å¯èƒ½ä¼šè®©ä½ æ€€ç–‘äººç”Ÿï¼Œè¯·åšå¥½å¿ƒç†å‡†å¤‡ã€‚\nPhase 1: åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºçŸ³(1-2å‘¨) ç›®æ ‡ï¼šç†è§£åˆ†å¸ƒå¼å­˜å‚¨çš„åŸºæœ¬å½¢æ€ï¼Œä¹ æƒ¯RPCç¼–ç¨‹ã€‚\nğŸ“– é˜…è¯»(DDIA) Ch 5: Replication(å¤åˆ¶) - é‡ç‚¹ç†è§£Leader-based replicationï¼Œè¿™æ˜¯GFSå’ŒRaftçš„åŸºç¡€ Ch 1: Reliable, Scalable, Maintainable - å»ºç«‹å®è§‚æ¦‚å¿µ ğŸ’» è¯¾ç¨‹(MIT 6.824) Lecture: MapReduce, GFS(å¯ä»¥åªçœ‹è®²ä¹‰/è®ºæ–‡ï¼Œè§†é¢‘é€‰çœ‹) Lab 1: MapReduce - å®ç°ä¸€ä¸ªç®€å•çš„å•è¯è®¡æ•°å™¨ é‡ç‚¹ï¼šç†Ÿæ‚‰RPCæ¡†æ¶ éš¾ç‚¹ï¼šé€‚åº”Debugåˆ†å¸ƒå¼ç¨‹åºçš„ç—›è‹¦ âœ… é˜¶æ®µç›®æ ‡ ç†è§£Master-Workeræ¶æ„ èƒ½å¤Ÿä½¿ç”¨Goçš„RPCåº“ æŒæ¡åŸºæœ¬çš„åˆ†å¸ƒå¼è°ƒè¯•æŠ€å·§ Phase 2: æ ¸å¿ƒéš¾å…³â€”â€”å…±è¯†ç®—æ³•Raft(3-5å‘¨) ç›®æ ‡ï¼šè¿™æ˜¯æ•´ä¸ªè®¡åˆ’ä¸­æœ€éš¾ã€å«é‡‘é‡æœ€é«˜çš„éƒ¨åˆ†ã€‚åˆ‡å‹¿æ±‚å¿«ï¼\nğŸ“– é˜…è¯»(DDIA) Ch 9: Consistency and Consensus - ğŸ”¥å¿…è¯»ï¼åœ¨å†™ä»£ç å‰ï¼Œå…ˆç†è§£ä»€ä¹ˆæ˜¯çº¿æ€§ä¸€è‡´æ€§(Linearizability)ï¼Œä»¥åŠä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦Consensus Ch 8: The Trouble with Distributed Systems - äº†è§£ç½‘ç»œåˆ†åŒºã€æ—¶é’Ÿæ¼‚ç§»ã€‚åšLabæ—¶ä½ ä¼šäº²èº«ä½“ä¼šåˆ°è¿™äº›\"éº»çƒ¦\" ğŸ’» è¯¾ç¨‹(MIT 6.824) Lecture: Raft(1)\u0026(2)\nğŸ’¡ å¼ºçƒˆå»ºè®®çœ‹è§†é¢‘ï¼ŒRobert Morrisæ•™æˆçš„ç™½æ¿æ¼”ç¤ºå¯¹ç†è§£é€‰ä¸»å’Œæ—¥å¿—å¤åˆ¶è‡³å…³é‡è¦ Lab 2: Raft\n2A: é€‰ä¸»(Leader Election) 2B: æ—¥å¿—å¤åˆ¶(Log Replication) â€”â€” âš ï¸éš¾åº¦é™¡å¢ç‚¹ 2C: æŒä¹…åŒ–(Persistence) ğŸš€ ç”Ÿå­˜æŠ€å·§ âš¡ å…³é”®å»ºè®®ï¼šä¸è¦ä¸€ä¸Šæ¥å°±å†™ä»£ç ï¼å…ˆç”»çŠ¶æ€æœºæµè½¬å›¾ï¼ä¸¥æ ¼éµå¾ªè®ºæ–‡Figure 2ã€‚\n// æ¨èçš„Raftè°ƒè¯•æ–¹æ³• type Raft struct { // ... } func (rf *Raft) DPrintf(format string, a ...interface{}) { if Debug { log.Printf(\"[Raft %d] \" + format, append([]interface{}{rf.me}, a...)...) } } âœ… é˜¶æ®µç›®æ ‡ é€šè¿‡æ‰€æœ‰Raftæµ‹è¯•(å¯èƒ½éœ€è¦è¿è¡Œ1000æ¬¡æ‰èƒ½å‘ç°éšè—bug) ç†è§£ä»€ä¹ˆæ˜¯split brainå’Œå¦‚ä½•é¿å… æŒæ¡ä½¿ç”¨æ—¥å¿—è°ƒè¯•å¤šçº¿ç¨‹ç¨‹åº Phase 3: æ„å»ºé«˜å¯ç”¨KVæœåŠ¡(2-3å‘¨) ç›®æ ‡ï¼šåœ¨Raftä¹‹ä¸Šæ„å»ºåº”ç”¨ï¼Œå¤„ç†å®¢æˆ·ç«¯çš„é‡è¯•å’Œå¹‚ç­‰æ€§ã€‚\nğŸ“– é˜…è¯»(DDIA) Ch 7: Transactions - ç†è§£ACIDï¼Œç‰¹åˆ«æ˜¯éš”ç¦»çº§åˆ«ã€‚è™½ç„¶Lab 3ä¸»è¦æ˜¯çº¿æ€§ä¸€è‡´æ€§ï¼Œä½†ç†è§£äº‹åŠ¡æœ‰åŠ©äºæ€è€ƒå¹¶å‘è¯·æ±‚çš„å¤„ç† ğŸ’» è¯¾ç¨‹(MIT 6.824) Lab 3: Key-Value Service 3A: æ— å¿«ç…§ç‰ˆKV 3B: å¸¦å¿«ç…§(Snapshot) â€”â€” ç»“åˆRaftçš„æ—¥å¿—å‹ç¼© ğŸ¤” æ ¸å¿ƒæŒ‘æˆ˜ é—®é¢˜ï¼šå¦‚ä½•ä¿è¯å³ä½¿Clienté‡å‘è¯·æ±‚ï¼Œæ“ä½œä¹Ÿåªæ‰§è¡Œä¸€æ¬¡(Exactly-once semantics)ï¼Ÿ\næç¤ºï¼š\ntype KVServer struct { // éœ€è¦ç»´æŠ¤clientçš„è¯·æ±‚åºåˆ—å· clientSeq map[int64]int64 // clientId -\u003e lastSeqNum results map[int64]string // seqNum -\u003e result } âœ… é˜¶æ®µç›®æ ‡ å®ç°å¹‚ç­‰æ€§ä¿è¯ ç†è§£å¿«ç…§ä¸æ—¥å¿—å‹ç¼©çš„å…³ç³» æŒæ¡å¦‚ä½•åœ¨Raftä¹‹ä¸Šæ„å»ºåº”ç”¨ Phase 4: ç»ˆææŒ‘æˆ˜â€”â€”åˆ†ç‰‡ä¸æ‰©å®¹(2-4å‘¨) ç›®æ ‡ï¼šä»å•Raft Groupæ‰©å±•åˆ°å¤šGroupï¼Œå®ç°çœŸæ­£çš„æ°´å¹³æ‰©å±•ã€‚\nğŸ“– é˜…è¯»(DDIA) Ch 6: Partitioning(åˆ†ç‰‡) - ç†è§£Rebalancing(å†å¹³è¡¡)ç­–ç•¥ ğŸ’» è¯¾ç¨‹(MIT 6.824) Lab 4: Sharded KV å®ç°ShardCtrler(é…ç½®ç®¡ç†) å®ç°ShardKV(åˆ†ç‰‡æ•°æ®å­˜å‚¨) ğŸ’€ æ ¸å¿ƒéš¾ç‚¹ é…ç½®æ›´æ–°æ—¶ï¼Œæ•°æ®å¦‚ä½•åœ¨ä¸åŒGroupé—´è¿ç§»ï¼Ÿ å¦‚ä½•å¤„ç†é…ç½®å˜æ›´æœŸé—´çš„è¯·æ±‚ï¼Ÿ å¦‚ä½•é¿å…æ­»é”ï¼Ÿ âš ï¸ å¸¸è§é™·é˜± é…ç½®ç‰ˆæœ¬ä¸ä¸€è‡´å¯¼è‡´çš„æ•°æ®ä¸¢å¤± Shardè¿ç§»æ—¶çš„å¹¶å‘é—®é¢˜ ä½¿ç”¨é”™è¯¯çš„Groupå¤„ç†è¯·æ±‚ âœ… é˜¶æ®µç›®æ ‡ å®ç°åŠ¨æ€åˆ†ç‰‡ å¤„ç†é…ç½®å˜æ›´ é€šè¿‡æ‰€æœ‰Sharded KVæµ‹è¯• å­¦ä¹ ç­–ç•¥å»ºè®®(Efficiency vs. Depth) 1. Paper First ğŸ“„ è®ºæ–‡æ˜¯ç¬¬ä¸€æ‰‹èµ„æ–™ï¼Œå¿…é¡»ç¡¬å•ƒã€‚æ¨èé˜…è¯»é¡ºåºï¼š\nMapReduceè®ºæ–‡ GFSè®ºæ–‡ Raftè®ºæ–‡(In Search of an Understandable Consensus Algorithm) å¦‚æœè¿˜æœ‰ç²¾åŠ›ï¼šSpannerã€Frangipaniç­‰ 2. DDIAè¾…åŠ© ğŸ“š çœ‹ä¸æ‡‚è®ºæ–‡é€»è¾‘æ—¶ï¼Œç¿»DDIAå¯¹åº”ç« èŠ‚ï¼Œé€šå¸¸ä¼šæœ‰é«˜å±‹å»ºç“´çš„è§£é‡Šã€‚\n3. è§†é¢‘æŒ‰éœ€ ğŸ¥ Raftéƒ¨åˆ†å»ºè®®çœ‹è§†é¢‘ï¼Œå…¶ä»–éƒ¨åˆ†å¦‚æœçœ‹è®²ä¹‰èƒ½æ‡‚ï¼Œå¯è·³è¿‡è§†é¢‘ä»¥èŠ‚çœæ—¶é—´ã€‚\n4. DebugæŠ€å·§ ğŸ› // å–„ç”¨æ¡ä»¶æ‰“å° const Debug = true func DPrintf(format string, a ...interface{}) { if Debug { log.Printf(format, a...) } } // ä½¿ç”¨go testçš„-raceå‚æ•°æ£€æµ‹ç«æ€æ¡ä»¶ // go test -race -run TestXXX å¤šçº¿ç¨‹è°ƒè¯•æ˜¯åŸºæœ¬åŠŸï¼Œæ¨èå·¥å…·ï¼š\nGoçš„-raceæ£€æµ‹å™¨ å¤§é‡æ—¥å¿—+æ—¶é—´æˆ³ å¯è§†åŒ–å·¥å…·ï¼šå¦‚Raft Scope æ—¶é—´è§„åˆ’æ€»è§ˆ é˜¶æ®µ å†…å®¹ é¢„è®¡æ—¶é—´ éš¾åº¦ Phase 0 å‡†å¤‡å·¥ä½œ 1å‘¨ â­ Phase 1 MapReduce + GFS 1-2å‘¨ â­â­ Phase 2 Raftå…±è¯†ç®—æ³• 3-5å‘¨ â­â­â­â­â­ Phase 3 KVæœåŠ¡ 2-3å‘¨ â­â­â­â­ Phase 4 åˆ†ç‰‡ç³»ç»Ÿ 2-4å‘¨ â­â­â­â­â­ æ€»è®¡ï¼š9-15å‘¨(çº¦2-4ä¸ªæœˆ)\nç»“è¯­ é€šå…³MIT 6.824 + DDIAä¸ä»…æ˜¯ç®€å†ä¸Šçš„äº®ç‚¹ï¼Œæ›´æ˜¯ä½ å¯¹è®¡ç®—æœºç³»ç»Ÿè®¤çŸ¥çš„é‡å¡‘ã€‚\nå½“ä½ ç»ˆäºçœ‹ç€æ‰€æœ‰Testå˜ç»¿(Passed)æ—¶ï¼š\nTest: one client (3A) ... ... Passed -- 15.0 5 1419 0 Test: many clients (3A) ... ... Passed -- 15.5 5 3496 0 Test: unreliable (3A) ... ... Passed -- 18.2 5 1786 0 ... ok 6.824/kvraft\t107.123s é‚£ç§æˆå°±æ„Ÿæ— ä¸ä¼¦æ¯”ã€‚ğŸ‰\nåŠ æ²¹ï¼Œæœªæ¥çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸“å®¶ï¼ ğŸ’ª\nå‚è€ƒèµ„æ–™ MIT 6.824è¯¾ç¨‹ä¸»é¡µ Raftè®ºæ–‡ DDIAä¸­æ–‡ç‰ˆ å­¦ç”Ÿçš„Labç»éªŒåˆ†äº« ","wordCount":"409","inLanguage":"en","datePublished":"2025-11-21T20:11:37+08:00","dateModified":"2025-11-21T20:11:37+08:00","author":{"@type":"Person","name":"neo"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://neo-dai.github.io/posts/%E7%A1%AC%E6%A0%B8-%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E4%BF%AE%E7%82%BC%E6%8C%87%E5%8D%97mit-6.824-+-ddia-%E8%81%94%E5%90%88%E9%80%9A%E5%85%B3%E6%8C%87%E5%8D%97/"},"publisher":{"@type":"Organization","name":"Notes","logo":{"@type":"ImageObject","url":"https://neo-dai.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://neo-dai.github.io/ accesskey=h title="Notes (Alt + H)">Notes</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://neo-dai.github.io/ title=é¦–é¡µ><span>é¦–é¡µ</span></a></li><li><a href=https://neo-dai.github.io/posts/ title=æ–‡ç« ><span>æ–‡ç« </span></a></li><li><a href=https://neo-dai.github.io/series/ title=ä¸“æ ><span>ä¸“æ </span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">[ç¡¬æ ¸] åˆ†å¸ƒå¼ç³»ç»Ÿä¿®ç‚¼æŒ‡å—ï¼šMIT 6.824 + DDIA è”åˆé€šå…³æŒ‡å—</h1><div class=post-meta><span title='2025-11-21 20:11:37 +0800 +0800'>2025å¹´11æœˆ21æ—¥</span>&nbsp;Â·&nbsp;<span>2 min</span>&nbsp;Â·&nbsp;<span>neo</span></div></header><div class=post-content><h2 id=å‰è¨€ä¸ºä»€ä¹ˆé€‰æ‹©è¿™æ¡è·¯>å‰è¨€ï¼šä¸ºä»€ä¹ˆé€‰æ‹©è¿™æ¡è·¯ï¼Ÿ<a hidden class=anchor aria-hidden=true href=#å‰è¨€ä¸ºä»€ä¹ˆé€‰æ‹©è¿™æ¡è·¯>#</a></h2><p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿçš„å­¦ä¹ è·¯å¾„ä¸­ï¼Œæœ‰ä¸¤åº§å…¬è®¤çš„å¤§å±±ï¼š</p><ol><li><strong>ç†è®ºåœ£ç»</strong>ï¼šã€Šæ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿè®¾è®¡ã€‹(DDIA) â€”â€” æ•™ä½ "æ€ä¹ˆé€‰"ã€&ldquo;æ€ä¹ˆè®¾è®¡&rdquo;</li><li><strong>å®è·µå·…å³°</strong>ï¼šMIT 6.824 (Distributed Systems) â€”â€” æ•™ä½ "æ€ä¹ˆåš"ã€&ldquo;æ€ä¹ˆå®ç°&rdquo;</li></ol><p>å¾ˆå¤šäººåˆ†å¼€å­¦ï¼Œç»“æœå¾€å¾€æ˜¯ï¼šçœ‹äº†ä¹¦è§‰å¾—æ‡‚äº†ï¼Œä¸€å†™ä»£ç å°±å´©ï¼›æˆ–è€…é—·å¤´å†™ä»£ç ï¼Œå´ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ã€‚</p><blockquote><p>ğŸ’¡ è¿™ä»½è®¡åˆ’æ—¨åœ¨å°†ç†è®º(DDIA)ä¸å®è·µ(MIT 6.824)æ·±åº¦èåˆï¼ŒåŠ©ä½ ä»åŸæœ¬çš„"CRUDå·¥ç¨‹å¸ˆ"è¿›é˜¶ä¸ºçœŸæ­£çš„åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘è€…ã€‚</p></blockquote><hr><h2 id=0-å‡†å¤‡å·¥ä½œé¢„å¤‡å‘¨>0. å‡†å¤‡å·¥ä½œ(é¢„å¤‡å‘¨)<a hidden class=anchor aria-hidden=true href=#0-å‡†å¤‡å·¥ä½œé¢„å¤‡å‘¨>#</a></h2><h3 id=è¯­è¨€åŸºç¡€>è¯­è¨€åŸºç¡€<a hidden class=anchor aria-hidden=true href=#è¯­è¨€åŸºç¡€>#</a></h3><p>MIT 6.824 Labså…¨ç¨‹ä½¿ç”¨Goè¯­è¨€ã€‚</p><p><strong>Action</strong>: å®Œæˆ<a href=https://tour.golang.org/>A Tour of Go</a></p><p>é‡ç‚¹æ”»å…‹ä»¥ä¸‹Goå¹¶å‘åŸè¯­ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// éœ€è¦ç†Ÿç»ƒæŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>-</span><span class=w> </span><span class=nx>Goroutines</span><span class=w>      </span><span class=c1>// è½»é‡çº§çº¿ç¨‹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>-</span><span class=w> </span><span class=nx>Channels</span><span class=w>        </span><span class=c1>// åç¨‹é—´é€šä¿¡</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>-</span><span class=w> </span><span class=nx>Mutex</span><span class=o>/</span><span class=nx>RWMutex</span><span class=w>   </span><span class=c1>// äº’æ–¥é”å’Œè¯»å†™é”</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>-</span><span class=w> </span><span class=nx>sync</span><span class=p>.</span><span class=nx>Cond</span><span class=w>       </span><span class=c1>// æ¡ä»¶å˜é‡</span><span class=w>
</span></span></span></code></pre></div><h3 id=å¿ƒæ€å‡†å¤‡>å¿ƒæ€å‡†å¤‡<a hidden class=anchor aria-hidden=true href=#å¿ƒæ€å‡†å¤‡>#</a></h3><p>âš ï¸ <strong>è­¦å‘Š</strong>ï¼šè¿™ä¸ä¼šå¾ˆå®¹æ˜“ã€‚Lab 2(Raft)å¯èƒ½ä¼šè®©ä½ æ€€ç–‘äººç”Ÿï¼Œè¯·åšå¥½å¿ƒç†å‡†å¤‡ã€‚</p><hr><h2 id=phase-1-åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºçŸ³1-2å‘¨>Phase 1: åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºçŸ³(1-2å‘¨)<a hidden class=anchor aria-hidden=true href=#phase-1-åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºçŸ³1-2å‘¨>#</a></h2><p><strong>ç›®æ ‡</strong>ï¼šç†è§£åˆ†å¸ƒå¼å­˜å‚¨çš„åŸºæœ¬å½¢æ€ï¼Œä¹ æƒ¯RPCç¼–ç¨‹ã€‚</p><h3 id=-é˜…è¯»ddia>ğŸ“– é˜…è¯»(DDIA)<a hidden class=anchor aria-hidden=true href=#-é˜…è¯»ddia>#</a></h3><ul><li><strong>Ch 5: Replication(å¤åˆ¶)</strong> - é‡ç‚¹ç†è§£Leader-based replicationï¼Œè¿™æ˜¯GFSå’ŒRaftçš„åŸºç¡€</li><li><strong>Ch 1: Reliable, Scalable, Maintainable</strong> - å»ºç«‹å®è§‚æ¦‚å¿µ</li></ul><h3 id=-è¯¾ç¨‹mit-6824>ğŸ’» è¯¾ç¨‹(MIT 6.824)<a hidden class=anchor aria-hidden=true href=#-è¯¾ç¨‹mit-6824>#</a></h3><ul><li><strong>Lecture</strong>: MapReduce, GFS(å¯ä»¥åªçœ‹è®²ä¹‰/è®ºæ–‡ï¼Œè§†é¢‘é€‰çœ‹)</li><li><strong>Lab 1: MapReduce</strong> - å®ç°ä¸€ä¸ªç®€å•çš„å•è¯è®¡æ•°å™¨<ul><li>é‡ç‚¹ï¼šç†Ÿæ‚‰RPCæ¡†æ¶</li><li>éš¾ç‚¹ï¼šé€‚åº”Debugåˆ†å¸ƒå¼ç¨‹åºçš„ç—›è‹¦</li></ul></li></ul><h3 id=-é˜¶æ®µç›®æ ‡>âœ… é˜¶æ®µç›®æ ‡<a hidden class=anchor aria-hidden=true href=#-é˜¶æ®µç›®æ ‡>#</a></h3><ul><li><input disabled type=checkbox> ç†è§£Master-Workeræ¶æ„</li><li><input disabled type=checkbox> èƒ½å¤Ÿä½¿ç”¨Goçš„RPCåº“</li><li><input disabled type=checkbox> æŒæ¡åŸºæœ¬çš„åˆ†å¸ƒå¼è°ƒè¯•æŠ€å·§</li></ul><hr><h2 id=phase-2-æ ¸å¿ƒéš¾å…³å…±è¯†ç®—æ³•raft3-5å‘¨>Phase 2: æ ¸å¿ƒéš¾å…³â€”â€”å…±è¯†ç®—æ³•Raft(3-5å‘¨)<a hidden class=anchor aria-hidden=true href=#phase-2-æ ¸å¿ƒéš¾å…³å…±è¯†ç®—æ³•raft3-5å‘¨>#</a></h2><p><strong>ç›®æ ‡</strong>ï¼šè¿™æ˜¯æ•´ä¸ªè®¡åˆ’ä¸­æœ€éš¾ã€å«é‡‘é‡æœ€é«˜çš„éƒ¨åˆ†ã€‚<strong>åˆ‡å‹¿æ±‚å¿«ï¼</strong></p><h3 id=-é˜…è¯»ddia-1>ğŸ“– é˜…è¯»(DDIA)<a hidden class=anchor aria-hidden=true href=#-é˜…è¯»ddia-1>#</a></h3><ul><li><strong>Ch 9: Consistency and Consensus</strong> - ğŸ”¥å¿…è¯»ï¼åœ¨å†™ä»£ç å‰ï¼Œå…ˆç†è§£ä»€ä¹ˆæ˜¯çº¿æ€§ä¸€è‡´æ€§(Linearizability)ï¼Œä»¥åŠä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦Consensus</li><li><strong>Ch 8: The Trouble with Distributed Systems</strong> - äº†è§£ç½‘ç»œåˆ†åŒºã€æ—¶é’Ÿæ¼‚ç§»ã€‚åšLabæ—¶ä½ ä¼šäº²èº«ä½“ä¼šåˆ°è¿™äº›"éº»çƒ¦"</li></ul><h3 id=-è¯¾ç¨‹mit-6824-1>ğŸ’» è¯¾ç¨‹(MIT 6.824)<a hidden class=anchor aria-hidden=true href=#-è¯¾ç¨‹mit-6824-1>#</a></h3><ul><li><p><strong>Lecture</strong>: Raft(1)&(2)</p><ul><li>ğŸ’¡ å¼ºçƒˆå»ºè®®çœ‹è§†é¢‘ï¼ŒRobert Morrisæ•™æˆçš„ç™½æ¿æ¼”ç¤ºå¯¹ç†è§£é€‰ä¸»å’Œæ—¥å¿—å¤åˆ¶è‡³å…³é‡è¦</li></ul></li><li><p><strong>Lab 2: Raft</strong></p><ul><li><strong>2A: é€‰ä¸»(Leader Election)</strong></li><li><strong>2B: æ—¥å¿—å¤åˆ¶(Log Replication)</strong> â€”â€” âš ï¸éš¾åº¦é™¡å¢ç‚¹</li><li><strong>2C: æŒä¹…åŒ–(Persistence)</strong></li></ul></li></ul><h3 id=-ç”Ÿå­˜æŠ€å·§>ğŸš€ ç”Ÿå­˜æŠ€å·§<a hidden class=anchor aria-hidden=true href=#-ç”Ÿå­˜æŠ€å·§>#</a></h3><blockquote><p>âš¡ <strong>å…³é”®å»ºè®®</strong>ï¼šä¸è¦ä¸€ä¸Šæ¥å°±å†™ä»£ç ï¼å…ˆç”»çŠ¶æ€æœºæµè½¬å›¾ï¼ä¸¥æ ¼éµå¾ªè®ºæ–‡Figure 2ã€‚</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// æ¨èçš„Raftè°ƒè¯•æ–¹æ³•</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>type</span><span class=w> </span><span class=nx>Raft</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// ...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>rf</span><span class=w> </span><span class=o>*</span><span class=nx>Raft</span><span class=p>)</span><span class=w> </span><span class=nf>DPrintf</span><span class=p>(</span><span class=nx>format</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=o>...</span><span class=kd>interface</span><span class=p>{})</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>Debug</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nx>log</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;[Raft %d] &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>format</span><span class=p>,</span><span class=w> </span><span class=nb>append</span><span class=p>([]</span><span class=kd>interface</span><span class=p>{}{</span><span class=nx>rf</span><span class=p>.</span><span class=nx>me</span><span class=p>},</span><span class=w> </span><span class=nx>a</span><span class=o>...</span><span class=p>)</span><span class=o>...</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h3 id=-é˜¶æ®µç›®æ ‡-1>âœ… é˜¶æ®µç›®æ ‡<a hidden class=anchor aria-hidden=true href=#-é˜¶æ®µç›®æ ‡-1>#</a></h3><ul><li><input disabled type=checkbox> é€šè¿‡æ‰€æœ‰Raftæµ‹è¯•(å¯èƒ½éœ€è¦è¿è¡Œ1000æ¬¡æ‰èƒ½å‘ç°éšè—bug)</li><li><input disabled type=checkbox> ç†è§£ä»€ä¹ˆæ˜¯split brainå’Œå¦‚ä½•é¿å…</li><li><input disabled type=checkbox> æŒæ¡ä½¿ç”¨æ—¥å¿—è°ƒè¯•å¤šçº¿ç¨‹ç¨‹åº</li></ul><hr><h2 id=phase-3-æ„å»ºé«˜å¯ç”¨kvæœåŠ¡2-3å‘¨>Phase 3: æ„å»ºé«˜å¯ç”¨KVæœåŠ¡(2-3å‘¨)<a hidden class=anchor aria-hidden=true href=#phase-3-æ„å»ºé«˜å¯ç”¨kvæœåŠ¡2-3å‘¨>#</a></h2><p><strong>ç›®æ ‡</strong>ï¼šåœ¨Raftä¹‹ä¸Šæ„å»ºåº”ç”¨ï¼Œå¤„ç†å®¢æˆ·ç«¯çš„é‡è¯•å’Œå¹‚ç­‰æ€§ã€‚</p><h3 id=-é˜…è¯»ddia-2>ğŸ“– é˜…è¯»(DDIA)<a hidden class=anchor aria-hidden=true href=#-é˜…è¯»ddia-2>#</a></h3><ul><li><strong>Ch 7: Transactions</strong> - ç†è§£ACIDï¼Œç‰¹åˆ«æ˜¯éš”ç¦»çº§åˆ«ã€‚è™½ç„¶Lab 3ä¸»è¦æ˜¯çº¿æ€§ä¸€è‡´æ€§ï¼Œä½†ç†è§£äº‹åŠ¡æœ‰åŠ©äºæ€è€ƒå¹¶å‘è¯·æ±‚çš„å¤„ç†</li></ul><h3 id=-è¯¾ç¨‹mit-6824-2>ğŸ’» è¯¾ç¨‹(MIT 6.824)<a hidden class=anchor aria-hidden=true href=#-è¯¾ç¨‹mit-6824-2>#</a></h3><ul><li><strong>Lab 3: Key-Value Service</strong><ul><li><strong>3A: æ— å¿«ç…§ç‰ˆKV</strong></li><li><strong>3B: å¸¦å¿«ç…§(Snapshot)</strong> â€”â€” ç»“åˆRaftçš„æ—¥å¿—å‹ç¼©</li></ul></li></ul><h3 id=-æ ¸å¿ƒæŒ‘æˆ˜>ğŸ¤” æ ¸å¿ƒæŒ‘æˆ˜<a hidden class=anchor aria-hidden=true href=#-æ ¸å¿ƒæŒ‘æˆ˜>#</a></h3><p><strong>é—®é¢˜</strong>ï¼šå¦‚ä½•ä¿è¯å³ä½¿Clienté‡å‘è¯·æ±‚ï¼Œæ“ä½œä¹Ÿåªæ‰§è¡Œä¸€æ¬¡(Exactly-once semantics)ï¼Ÿ</p><p><strong>æç¤º</strong>ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>KVServer</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// éœ€è¦ç»´æŠ¤clientçš„è¯·æ±‚åºåˆ—å·</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>clientSeq</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>int64</span><span class=p>]</span><span class=kt>int64</span><span class=w>  </span><span class=c1>// clientId -&gt; lastSeqNum</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>results</span><span class=w>   </span><span class=kd>map</span><span class=p>[</span><span class=kt>int64</span><span class=p>]</span><span class=kt>string</span><span class=w> </span><span class=c1>// seqNum -&gt; result</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h3 id=-é˜¶æ®µç›®æ ‡-2>âœ… é˜¶æ®µç›®æ ‡<a hidden class=anchor aria-hidden=true href=#-é˜¶æ®µç›®æ ‡-2>#</a></h3><ul><li><input disabled type=checkbox> å®ç°å¹‚ç­‰æ€§ä¿è¯</li><li><input disabled type=checkbox> ç†è§£å¿«ç…§ä¸æ—¥å¿—å‹ç¼©çš„å…³ç³»</li><li><input disabled type=checkbox> æŒæ¡å¦‚ä½•åœ¨Raftä¹‹ä¸Šæ„å»ºåº”ç”¨</li></ul><hr><h2 id=phase-4-ç»ˆææŒ‘æˆ˜åˆ†ç‰‡ä¸æ‰©å®¹2-4å‘¨>Phase 4: ç»ˆææŒ‘æˆ˜â€”â€”åˆ†ç‰‡ä¸æ‰©å®¹(2-4å‘¨)<a hidden class=anchor aria-hidden=true href=#phase-4-ç»ˆææŒ‘æˆ˜åˆ†ç‰‡ä¸æ‰©å®¹2-4å‘¨>#</a></h2><p><strong>ç›®æ ‡</strong>ï¼šä»å•Raft Groupæ‰©å±•åˆ°å¤šGroupï¼Œå®ç°çœŸæ­£çš„æ°´å¹³æ‰©å±•ã€‚</p><h3 id=-é˜…è¯»ddia-3>ğŸ“– é˜…è¯»(DDIA)<a hidden class=anchor aria-hidden=true href=#-é˜…è¯»ddia-3>#</a></h3><ul><li><strong>Ch 6: Partitioning(åˆ†ç‰‡)</strong> - ç†è§£Rebalancing(å†å¹³è¡¡)ç­–ç•¥</li></ul><h3 id=-è¯¾ç¨‹mit-6824-3>ğŸ’» è¯¾ç¨‹(MIT 6.824)<a hidden class=anchor aria-hidden=true href=#-è¯¾ç¨‹mit-6824-3>#</a></h3><ul><li><strong>Lab 4: Sharded KV</strong><ul><li>å®ç°<strong>ShardCtrler</strong>(é…ç½®ç®¡ç†)</li><li>å®ç°<strong>ShardKV</strong>(åˆ†ç‰‡æ•°æ®å­˜å‚¨)</li></ul></li></ul><h3 id=-æ ¸å¿ƒéš¾ç‚¹>ğŸ’€ æ ¸å¿ƒéš¾ç‚¹<a hidden class=anchor aria-hidden=true href=#-æ ¸å¿ƒéš¾ç‚¹>#</a></h3><ol><li>é…ç½®æ›´æ–°æ—¶ï¼Œæ•°æ®å¦‚ä½•åœ¨ä¸åŒGroupé—´è¿ç§»ï¼Ÿ</li><li>å¦‚ä½•å¤„ç†é…ç½®å˜æ›´æœŸé—´çš„è¯·æ±‚ï¼Ÿ</li><li>å¦‚ä½•é¿å…æ­»é”ï¼Ÿ</li></ol><h3 id=-å¸¸è§é™·é˜±>âš ï¸ å¸¸è§é™·é˜±<a hidden class=anchor aria-hidden=true href=#-å¸¸è§é™·é˜±>#</a></h3><ul><li>é…ç½®ç‰ˆæœ¬ä¸ä¸€è‡´å¯¼è‡´çš„æ•°æ®ä¸¢å¤±</li><li>Shardè¿ç§»æ—¶çš„å¹¶å‘é—®é¢˜</li><li>ä½¿ç”¨é”™è¯¯çš„Groupå¤„ç†è¯·æ±‚</li></ul><h3 id=-é˜¶æ®µç›®æ ‡-3>âœ… é˜¶æ®µç›®æ ‡<a hidden class=anchor aria-hidden=true href=#-é˜¶æ®µç›®æ ‡-3>#</a></h3><ul><li><input disabled type=checkbox> å®ç°åŠ¨æ€åˆ†ç‰‡</li><li><input disabled type=checkbox> å¤„ç†é…ç½®å˜æ›´</li><li><input disabled type=checkbox> é€šè¿‡æ‰€æœ‰Sharded KVæµ‹è¯•</li></ul><hr><h2 id=å­¦ä¹ ç­–ç•¥å»ºè®®efficiency-vs-depth>å­¦ä¹ ç­–ç•¥å»ºè®®(Efficiency vs. Depth)<a hidden class=anchor aria-hidden=true href=#å­¦ä¹ ç­–ç•¥å»ºè®®efficiency-vs-depth>#</a></h2><h3 id=1-paper-first->1. Paper First ğŸ“„<a hidden class=anchor aria-hidden=true href=#1-paper-first->#</a></h3><p>è®ºæ–‡æ˜¯ç¬¬ä¸€æ‰‹èµ„æ–™ï¼Œå¿…é¡»ç¡¬å•ƒã€‚æ¨èé˜…è¯»é¡ºåºï¼š</p><ul><li>MapReduceè®ºæ–‡</li><li>GFSè®ºæ–‡</li><li><strong>Raftè®ºæ–‡</strong>(In Search of an Understandable Consensus Algorithm)</li><li>å¦‚æœè¿˜æœ‰ç²¾åŠ›ï¼šSpannerã€Frangipaniç­‰</li></ul><h3 id=2-ddiaè¾…åŠ©->2. DDIAè¾…åŠ© ğŸ“š<a hidden class=anchor aria-hidden=true href=#2-ddiaè¾…åŠ©->#</a></h3><p>çœ‹ä¸æ‡‚è®ºæ–‡é€»è¾‘æ—¶ï¼Œç¿»DDIAå¯¹åº”ç« èŠ‚ï¼Œé€šå¸¸ä¼šæœ‰é«˜å±‹å»ºç“´çš„è§£é‡Šã€‚</p><h3 id=3-è§†é¢‘æŒ‰éœ€->3. è§†é¢‘æŒ‰éœ€ ğŸ¥<a hidden class=anchor aria-hidden=true href=#3-è§†é¢‘æŒ‰éœ€->#</a></h3><p>Raftéƒ¨åˆ†å»ºè®®çœ‹è§†é¢‘ï¼Œå…¶ä»–éƒ¨åˆ†å¦‚æœçœ‹è®²ä¹‰èƒ½æ‡‚ï¼Œå¯è·³è¿‡è§†é¢‘ä»¥èŠ‚çœæ—¶é—´ã€‚</p><h3 id=4-debugæŠ€å·§->4. DebugæŠ€å·§ ğŸ›<a hidden class=anchor aria-hidden=true href=#4-debugæŠ€å·§->#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// å–„ç”¨æ¡ä»¶æ‰“å°</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>const</span><span class=w> </span><span class=nx>Debug</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>func</span><span class=w> </span><span class=nf>DPrintf</span><span class=p>(</span><span class=nx>format</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=o>...</span><span class=kd>interface</span><span class=p>{})</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>Debug</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nx>log</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=nx>format</span><span class=p>,</span><span class=w> </span><span class=nx>a</span><span class=o>...</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ä½¿ç”¨go testçš„-raceå‚æ•°æ£€æµ‹ç«æ€æ¡ä»¶</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// go test -race -run TestXXX</span><span class=w>
</span></span></span></code></pre></div><p>å¤šçº¿ç¨‹è°ƒè¯•æ˜¯åŸºæœ¬åŠŸï¼Œæ¨èå·¥å…·ï¼š</p><ul><li>Goçš„<code>-race</code>æ£€æµ‹å™¨</li><li>å¤§é‡æ—¥å¿—+æ—¶é—´æˆ³</li><li>å¯è§†åŒ–å·¥å…·ï¼šå¦‚<a href=https://github.com/ongardie/raftscope>Raft Scope</a></li></ul><hr><h2 id=æ—¶é—´è§„åˆ’æ€»è§ˆ>æ—¶é—´è§„åˆ’æ€»è§ˆ<a hidden class=anchor aria-hidden=true href=#æ—¶é—´è§„åˆ’æ€»è§ˆ>#</a></h2><table><thead><tr><th>é˜¶æ®µ</th><th>å†…å®¹</th><th>é¢„è®¡æ—¶é—´</th><th>éš¾åº¦</th></tr></thead><tbody><tr><td>Phase 0</td><td>å‡†å¤‡å·¥ä½œ</td><td>1å‘¨</td><td>â­</td></tr><tr><td>Phase 1</td><td>MapReduce + GFS</td><td>1-2å‘¨</td><td>â­â­</td></tr><tr><td>Phase 2</td><td>Raftå…±è¯†ç®—æ³•</td><td>3-5å‘¨</td><td>â­â­â­â­â­</td></tr><tr><td>Phase 3</td><td>KVæœåŠ¡</td><td>2-3å‘¨</td><td>â­â­â­â­</td></tr><tr><td>Phase 4</td><td>åˆ†ç‰‡ç³»ç»Ÿ</td><td>2-4å‘¨</td><td>â­â­â­â­â­</td></tr></tbody></table><p><strong>æ€»è®¡</strong>ï¼š9-15å‘¨(çº¦2-4ä¸ªæœˆ)</p><hr><h2 id=ç»“è¯­>ç»“è¯­<a hidden class=anchor aria-hidden=true href=#ç»“è¯­>#</a></h2><p>é€šå…³MIT 6.824 + DDIAä¸ä»…æ˜¯ç®€å†ä¸Šçš„äº®ç‚¹ï¼Œæ›´æ˜¯ä½ å¯¹è®¡ç®—æœºç³»ç»Ÿè®¤çŸ¥çš„é‡å¡‘ã€‚</p><p>å½“ä½ ç»ˆäºçœ‹ç€æ‰€æœ‰Testå˜ç»¿(Passed)æ—¶ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Test: one client <span class=o>(</span>3A<span class=o>)</span> ...
</span></span><span class=line><span class=cl>  ... Passed -- 15.0  <span class=m>5</span>  <span class=m>1419</span>  <span class=m>0</span>
</span></span><span class=line><span class=cl>Test: many clients <span class=o>(</span>3A<span class=o>)</span> ...
</span></span><span class=line><span class=cl>  ... Passed -- 15.5  <span class=m>5</span>  <span class=m>3496</span>  <span class=m>0</span>
</span></span><span class=line><span class=cl>Test: unreliable <span class=o>(</span>3A<span class=o>)</span> ...
</span></span><span class=line><span class=cl>  ... Passed -- 18.2  <span class=m>5</span>  <span class=m>1786</span>  <span class=m>0</span>
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>ok  	6.824/kvraft	107.123s
</span></span></code></pre></div><p>é‚£ç§æˆå°±æ„Ÿæ— ä¸ä¼¦æ¯”ã€‚ğŸ‰</p><p><strong>åŠ æ²¹ï¼Œæœªæ¥çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸“å®¶ï¼</strong> ğŸ’ª</p><hr><h2 id=å‚è€ƒèµ„æ–™>å‚è€ƒèµ„æ–™<a hidden class=anchor aria-hidden=true href=#å‚è€ƒèµ„æ–™>#</a></h2><ul><li><a href=https://pdos.csail.mit.edu/6.824/>MIT 6.824è¯¾ç¨‹ä¸»é¡µ</a></li><li><a href=https://raft.github.io/raft.pdf>Raftè®ºæ–‡</a></li><li><a href=https://github.com/Vonng/ddia>DDIAä¸­æ–‡ç‰ˆ</a></li><li><a href=https://thesquareplanet.com/blog/students-guide-to-raft/>å­¦ç”Ÿçš„Labç»éªŒåˆ†äº«</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://neo-dai.github.io/tags/%E5%88%86%E5%B8%83%E5%BC%8F/>åˆ†å¸ƒå¼</a></li><li><a href=https://neo-dai.github.io/tags/mit-6.824/>MIT 6.824</a></li><li><a href=https://neo-dai.github.io/tags/ddia/>DDIA</a></li><li><a href=https://neo-dai.github.io/tags/%E6%95%B0%E6%8D%AE%E5%AF%86%E9%9B%86%E5%9E%8B%E5%BA%94%E7%94%A8/>æ•°æ®å¯†é›†å‹åº”ç”¨</a></li><li><a href=https://neo-dai.github.io/tags/raft/>Raft</a></li><li><a href=https://neo-dai.github.io/tags/go/>Go</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://neo-dai.github.io/>Notes</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script src=https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js></script><script>mermaid.initialize({startOnLoad:!0,theme:"default",securityLevel:"loose"}),document.querySelectorAll(".mermaid").length>0&&mermaid.run()</script><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>